// Version 1.10.3 2023-07-19T22:04:39+0100;
var rg2=function(r,s){"use strict";var i=!1;function t(){var t,e;rg2.config.managing||(t=rg2.requestedHash.parseHash(r.location.hash))&&(t=rg2.events.getEventIDForKartatID(t),e=rg2.events.getActiveEventID(),void 0!==t)&&e!==t&&rg2.loadEvent(t)}return{init:function(){s("#rg2-container").hide(),s.ajaxSetup({cache:!1,jsonp:!1}),rg2.loadConfigOptions(),rg2.ui.configureUI(),rg2.setLanguageOptions(),rg2.events=new rg2.Events,rg2.courses=new rg2.Courses,rg2.colours=new rg2.Colours,rg2.results=new rg2.Results,rg2.controls=new rg2.Controls,rg2.animation=new rg2.Animation,rg2.drawing=new rg2.Draw,rg2.overlay=new rg2.Overlay,rg2.requestedHash=new rg2.RequestedHash,rg2.stats=new rg2.Stats,0!==s("#rg2-manage-login").length?(rg2.config.managing=!0,rg2.manager=new rg2.Manager(rg2Config.keksi),rg2.managerUI.initialiseUI()):rg2.config.managing=!1,rg2.setUpCanvas(),r.onpopstate=t,r.location.hash&&!rg2.config.managing?rg2.requestedHash.parseHash(r.location.hash):r.history.pushState({hash:"#"},"",""),rg2.getEvents(),setTimeout(function(){s("#rg2-container").show()},500)},loadEvent:function(t){var e;i||(i=!0,e=t,s("#rg2-event-list > li").removeClass("rg2-active-event").filter("#"+e).addClass("rg2-active-event"),s("body").css("cursor","wait"),s("#rg2-load-progress-label").text(rg2.t("Loading courses")),s("#rg2-load-progress").show(),rg2.courses.deleteAllCourses(),rg2.controls.deleteAllControls(),rg2.results.deleteAllResults(),rg2.events.setActiveEventID(t),rg2.animation.resetAnimation(),rg2.drawing.initialiseDrawing(rg2.events.hasResults(t)),rg2.loadNewMap(rg2Config.maps_url+rg2.events.getMapFileName()),rg2.ui.setTitleBar(),rg2.redraw(!1),rg2.getEvent(rg2.events.getKartatEventID()))},getEventStats:function(){var t,e,r,s,i,a=rg2.events.getActiveEventID();return null===a?"":(a=rg2.events.getKartatEventID(),a=rg2.events.getEventInfo(parseInt(a,10)),t="<h2>"+rg2.t("Event statistics")+": "+a.name+": "+a.date+"</h2>",a.comment&&(t+="<div><strong>"+rg2.t("Comments")+"</strong>: "+a.comment+"</div>"),(t=(t=(t+="<hr>")+(e=a.controls,a=a.worldfile.valid,r=rg2.results.getResultsInfo(),s=rg2.courses.getCoursesForEvent(),i=rg2.getMapSize(),s="<div class='rg2-event-stats-table'><div class='header'>"+rg2.t("Courses")+"</div><div class='item'>"+s.length+"</div>",s=(s=(s=(s=(s=(s=(s=(s+="<div class='header'>"+rg2.t("Controls")+"</div><div class='item'>"+e+"</div>")+"<div class='header'>"+rg2.t("Results")+"</div><div class='item'>"+r.results+"</div>")+"<div class='header'>"+rg2.t("Routes")+"</div><div class='item'>"+r.totalroutes+" ("+r.percent+"%)</div>")+"<div class='header'>"+rg2.t("Drawn routes")+"</div><div class='item'>"+r.drawnroutes+"</div>")+"<div class='header'>"+rg2.t("GPS routes")+"</div><div class='item'>"+r.gpsroutes+"</div>")+"<div class='header'>"+rg2.t("Total time")+"</div><div class='item'>"+r.time+"</div>")+"<div class='header'>"+rg2.t("Map")+" ID "+rg2.events.getActiveMapID()+"</div>")+"<div class='item'>"+i.width+" x "+i.height+" pixels",a&&(e=rg2.events.getWorldFile(),r=1e6,s=(s+=". "+rg2.t("Map is georeferenced")+": ")+parseInt(e.F*r)/r+", "+parseInt(e.C*r)/r),s+="</div></div>")+"<hr>")+rg2.results.getComments()).replace(/&amp;/g,"&"))},eventLoaded:function(){i=!1}}}(window,window.jQuery);!function(){function t(){"use strict";this.runners=[],this.deltas=[100,200,500,1e3,2e3,3e3,5e3,7500,1e4,15e3,2e4,5e4,1e5],this.timerInterval=100,this.resetAnimation()}t.prototype={Constructor:t,resetAnimation:function(){this.units=rg2.events.getLengthUnits(),this.runners.length=0,clearInterval(this.timer),this.timer=null,this.animationSecs=0,this.milliSecs=0,this.deltaIndex=3,$("#rg2-animation-speed").empty().text("x "+this.deltas[this.deltaIndex]/100),this.realTime=!1,this.earliestStartSecs=0,this.latestFinishSecs=0,this.tailLength=0,this.tailStartTimeSecs=0,this.useFullTails=!1,this.massStartControl=0,this.massStartByControl=!1,this.displayNames=!0,this.displayInitials=!1,this.updateAnimationDetails(),$("#btn-start-stop").removeClass("fa-pause").addClass("fa-play").prop("title",rg2.t("Run")),$("#btn-real-time").removeClass().addClass("fa fa-users").prop("title",rg2.t("Real time")+" > "+rg2.t("Mass start")),$("#btn-toggle-names").prop("title",rg2.t("Show initials"))},animateRunners:function(t,e){for(var r=0;r<t.length;r+=1)e?this.addRunner(new rg2.Runner(t[r]),!1):this.removeRunner(t[r],!1);this.updateAnimationDetails()},addRunner:function(t,e){for(var r=0;r<this.runners.length;r+=1)if(this.runners[r].runnerid===t.runnerid)return;this.runners.push(t),e&&this.updateAnimationDetails()},updateAnimationDetails:function(){var t;0<this.runners.length?(t=this.getAnimationNames(this.animationSecs),$("#rg2-track-names").empty().append(t).show(),$("#rg2-animation-controls").show()):($("#rg2-track-names").hide(),$("#rg2-animation-controls").hide()),this.calculateAnimationRange(),$("#rg2-clock").text(rg2.utils.formatSecsAsHHMMSS(this.animationSecs))},updateNameDetails:function(t){t=this.getAnimationNames(t);""!==t?$("#rg2-track-names").empty().append(t).show():$("#rg2-track-names").hide()},clockSliderMoved:function(t){this.resetAnimationTime(t),rg2.redraw(!1)},getAnimationNames:function(t){for(var e,r,s,i=rg2.results.getDisplayedTrackDetails(),a=0;a<this.runners.length;a+=1)(r={}).colour=this.runners[a].colour,r.course=this.runners[a].coursename,r.name=this.runners[a].name.trim(),this.realTime?r.distance=this.getDistanceAtTime(a,this.animationSecs-this.runners[a].starttime):r.distance=this.getDistanceAtTime(a,t),i.push(r);if(0===i.length)return"";for(a=0;a<i.length;a+=1)i[a].index=a;for(i.sort(function(t,e){return t.course!==e.course?t.course>e.course?1:-1:t.index>e.index?1:t.index<e.index?-1:0}),e="<table>",s="",a=0;a<i.length;a+=1)s!==i[a].course&&(e+="<tr><th colspan='3'>"+i[a].course+"</th></tr>",s=i[a].course),e+="<tr><td style='color:"+i[a].colour+";'><i class='fa fa-circle'></i></td><td class='align-left'>"+i[a].name+"</td>",i[a].hasOwnProperty("distance")?e+="<td class='align-right'>"+i[a].distance+this.units:e+="<td>",e+="</td></tr>";return e+="</table>"},getDistanceAtTime:function(t,e){t=this.runners[t].cumulativeDistance,t=e>t.length-1?t[t.length-1]:t[e];return t=void 0===t?0:t},getMaxControls:function(){for(var t=0,e=0;e<this.runners.length;e+=1)t=Math.max(t,this.runners[e].splits.length);return t-2},getSplitsTableHeader:function(t){for(var e="<table class='splitstable'><tr><th>"+rg2.t("Course")+"</th><th>"+rg2.t("Name")+"</th>",r=1;r<=t;r+=1)e+="<th>"+r+"</th>";return e+"<th>F</th></tr>"},getSplitsTable:function(){var t,e,r,s,i,a,o;if(this.runners.length<1)return"<p>"+rg2.t("Select runners on Results tab")+".</p>";for(a=[],o=0,i=this.getMaxControls(),t=this.getSplitsTableHeader(i),e=0;e<this.runners.length;e+=1){for(o=0,t+="<tr class='splitsname-row'><td>"+(s=this.runners[e]).coursename+"</td><td>"+s.name+"</td>",r=1;r<s.splits.length;r+=1)t+="<td>"+rg2.utils.formatSecsAsMMSS(s.splits[r])+"</td>",a[r]=s.splits[r]-o,o=s.splits[r];for(t+="</tr><tr class='splitstime-row'><td></td><td></td>",r=1;r<s.splits.length;r+=1)t+="<td>"+rg2.utils.formatSecsAsMMSS(a[r])+"</td>";for(isNaN(s.cumulativeTrackDistance[s.cumulativeTrackDistance.length-1])?t+="</tr><tr class='splitsdistance-row'><td></td><td>--</td>":t+="</tr><tr class='splitsdistance-row'><td></td><td>"+s.cumulativeTrackDistance[s.cumulativeTrackDistance.length-1]+" "+this.units+"</td>",r=1;r<s.splits.length;r+=1)isNaN(s.legTrackDistance[r])?t+="<td>--</td>":t+="<td>"+s.legTrackDistance[r]+"</td>"}return t+="</tr></table>"},removeRunner:function(t,e){for(var r=0;r<this.runners.length;r+=1)this.runners[r].runnerid===t&&this.runners.splice(r,1);e&&this.updateAnimationDetails()},toggleAnimation:function(){null===this.timer?(this.startAnimation(),$("#btn-start-stop").removeClass("fa-play").addClass("fa-pause").prop("title",rg2.t("Pause"))):(this.stopAnimation(),$("#btn-start-stop").removeClass("fa-pause").addClass("fa-play").prop("title",rg2.t("Run")))},startAnimation:function(){null===this.timer&&(this.timer=setInterval(this.timerExpired.bind(this),this.timerInterval))},calculateAnimationRange:function(){var t;for(this.earliestStartSecs=86400,this.latestFinishSecs=0,t=this.slowestTimeSecs=0;t<this.runners.length;t+=1)this.runners[t].starttime<this.earliestStartSecs&&(this.earliestStartSecs=this.runners[t].starttime),this.runners[t].starttime+this.runners[t].x.length>this.latestFinishSecs&&(this.latestFinishSecs=this.runners[t].starttime+this.runners[t].x.length),this.runners[t].x.length>this.slowestTimeSecs&&(this.slowestTimeSecs=this.runners[t].x.length);this.resetAnimationTime(0)},stopAnimation:function(){clearInterval(this.timer),this.timer=null},timerExpired:function(){rg2.redraw(!0)},setFullTails:function(t){this.useFullTails=!!t,rg2.redraw(!1)},setTailLength:function(t){this.tailLength=60*t,rg2.redraw(!1)},setStartControl:function(t){var e;if(this.massStartControl=parseInt(t,10),this.massStartControl===rg2.config.MASS_START_BY_CONTROL)for(this.massStartControl=0,this.massStartByControl=!0,e=0;e<this.runners.length;e+=1)this.runners[e].nextStopTime=this.runners[e].splits[1];else for(this.massStartByControl=!1,e=0;e<this.runners.length;e+=1)this.runners[e].nextStopTime=rg2.config.VERY_HIGH_TIME_IN_SECS;this.resetAnimationTime(0)},setReplayType:function(){this.realTime?(this.realTime=!1,$("#btn-real-time").removeClass().addClass("fa fa-users").prop("title",rg2.t("Mass start")+" > "+rg2.t("Real time")),0<rg2.courses.getHighestControlNumber()&&$("#rg2-control-select").prop("disabled",!1)):(this.realTime=!0,$("#btn-real-time").removeClass().addClass("fa fa-clock").prop("title",rg2.t("Real time")+" > "+rg2.t("Mass start")),$("#rg2-control-select").prop("disabled",!0)),this.resetAnimationTime(0)},resetAnimationTime:function(t){this.realTime?(this.animationSecs=0<t?t:this.earliestStartSecs,this.startSecs=this.earliestStartSecs,$("#rg2-clock-slider").slider("option","max",this.latestFinishSecs),$("#rg2-clock-slider").slider("option","min",this.earliestStartSecs)):(this.animationSecs=0<t?t:0,this.startSecs=0,$("#rg2-clock-slider").slider("option","max",this.slowestTimeSecs),$("#rg2-clock-slider").slider("option","min",0)),this.milliSecs=1e3*this.animationSecs,$("#rg2-clock-slider").slider("value",this.animationSecs),$("#rg2-clock").text(rg2.utils.formatSecsAsHHMMSS(this.animationSecs))},toggleNameDisplay:function(){var t="",t=this.displayNames?this.displayInitials?(this.displayNames=!1,this.displayInitials=!1,"Show names"):(this.displayInitials=!0,"Hide names"):(this.displayNames=!0,"Show initials");$("#btn-toggle-names").prop("title",rg2.t(t))},displayName:function(t,e){var r;this.displayNames&&e<t.x.length&&0<=e&&(rg2.ctx.fillStyle="black",rg2.ctx.font=rg2.options.replayFontSize+"pt Arial",rg2.ctx.globalAlpha=rg2.config.FULL_INTENSITY,rg2.ctx.textAlign="left",r=this.displayInitials?t.initials:t.name,rg2.ctx.save(),rg2.ctx.translate(t.x[e],t.y[e]),rg2.ctx.rotate(rg2.ctx.displayAngle),rg2.ctx.fillText(r,12,6),rg2.ctx.restore())},incrementAnimationTime:function(){this.realTime?this.animationSecs<this.latestFinishSecs&&(this.milliSecs+=this.deltas[this.deltaIndex]):this.animationSecs<this.slowestTimeSecs&&(this.milliSecs+=this.deltas[this.deltaIndex]),this.animationSecs=parseInt(this.milliSecs/1e3,10),this.useFullTails?this.tailStartTimeSecs=this.startSecs+1:this.tailStartTimeSecs=Math.max(this.animationSecs-this.tailLength,this.startSecs+1)},drawAnimation:function(){var t,e,r,s;for($("#rg2-clock-slider").slider("value",this.animationSecs),$("#rg2-clock").text(rg2.utils.formatSecsAsHHMMSS(this.animationSecs)),rg2.ctx.lineWidth=rg2.options.routeWidth,rg2.ctx.globalAlpha=rg2.config.FULL_INTENSITY,r=0;r<this.runners.length;r+=1){for(t=this.runners[r],e=this.realTime?t.starttime:0===this.massStartControl||t.splits.length<this.massStartControl?0:-1*t.splits[this.massStartControl],rg2.ctx.strokeStyle=t.colour,rg2.ctx.globalAlpha=rg2.options.routeIntensity,rg2.ctx.beginPath(),rg2.ctx.moveTo(t.x[this.tailStartTimeSecs-e],t.y[this.tailStartTimeSecs-e]),s=this.tailStartTimeSecs;s<this.animationSecs;s+=1)e<s&&s-e<t.nextStopTime&&rg2.ctx.lineTo(t.x[s-e],t.y[s-e]);rg2.ctx.stroke(),rg2.ctx.beginPath(),s-e<t.nextStopTime?s-=e:s=t.nextStopTime,rg2.ctx.arc(t.x[s],t.y[s],rg2.config.RUNNER_DOT_RADIUS,0,2*Math.PI,!1),rg2.ctx.globalAlpha=rg2.config.FULL_INTENSITY,rg2.ctx.strokeStyle=rg2.config.BLACK,rg2.ctx.stroke(),rg2.ctx.fillStyle=t.colour,rg2.ctx.fill(),this.displayName(t,s)}this.updateNameDetails(s),this.massStartByControl&&this.checkForStopControl(this.animationSecs)},checkForStopControl:function(t){for(var e=!0,r=0;r<this.runners.length;r+=1)if(t<this.runners[r].splits[this.massStartControl+1]-this.runners[r].splits[this.massStartControl]){e=!1;break}if(e){for(this.massStartControl+=1,r=0;r<this.runners.length;r+=1)this.massStartControl<this.runners[r].splits.length?this.runners[r].nextStopTime=this.runners[r].splits[this.massStartControl+1]:this.runners[r].nextStopTime=rg2.config.VERY_HIGH_TIME_IN_SECS;this.resetAnimationTime(0)}},goSlower:function(){0<this.deltaIndex&&--this.deltaIndex,$("#rg2-animation-speed").empty().text("x "+this.deltas[this.deltaIndex]/100)},goFaster:function(){this.deltaIndex<this.deltas.length-1&&(this.deltaIndex+=1),$("#rg2-animation-speed").empty().text("x "+this.deltas[this.deltaIndex]/100)},resultIsBeingAnimated:function(e){return-1<this.runners.findIndex(t=>t.runnerid===e)}},rg2.Animation=t}(),function(){var i,h,r;function a(t){var e;h.save(),h.setTransform(1,0,0,1,0,0),h.globalAlpha=rg2.config.FULL_INTENSITY,h.fillStyle=rg2.config.GREY,h.fillRect(0,0,h.canvas.width,h.canvas.height),h.restore(),0<r.height?(h.fillStyle=rg2.config.WHITE,h.globalAlpha=rg2.config.FULL_INTENSITY,h.fillRect(0,0,r.width,r.height),h.globalAlpha=rg2.options.mapIntensity,h.drawImage(r,0,0),(e=$("#rg2-info-panel").tabs("option","active"))===rg2.config.TAB_DRAW?(rg2.courses.drawCourses(rg2.config.DIM),rg2.controls.drawControls(!1),rg2.results.drawTracks(),rg2.drawing.drawNewTrack()):e===rg2.config.TAB_CREATE?rg2.manager.drawControls():(rg2.courses.drawCourses(rg2.config.DIM),rg2.results.drawTracks(),rg2.overlay.drawOverlays(),rg2.controls.drawControls(!1),t&&rg2.animation.incrementAnimationTime(),rg2.animation.drawAnimation())):rg2.config.managing||(h.font="30pt Arial",h.textAlign="center",h.fillStyle=rg2.config.BLACK,h.fillText(rg2.t("Select an event"),rg2.canvas.width/2,rg2.canvas.height/2))}function s(t,e,r,s){h.displayAngle=(h.displayAngle-t)%(2*Math.PI),h.translate(e,r),h.rotate(t),s?(t=h.transformedPoint(i.width/2,.9*i.height),h.translate(t.x-e,t.y-r)):h.translate(-1*e,-1*r),h.save(),a(!1)}function t(){var t=i.height/r.height;rg2.input.lastX=i.width/2,rg2.input.lastY=i.height/2,rg2.input.zoomSize=1,rg2.input.dragStart=null,rg2.input.dragged=!0,t=t<1?t:1,rg2.input.infoPanelMaximised||window.innerWidth>=rg2.config.BIG_SCREEN_BREAK_POINT?h.setTransform(t,0,0,t,$("#rg2-info-panel").outerWidth(),0):h.setTransform(t,0,0,t,0,0),h.displayAngle=0,h.save(),a(!1)}function e(t,e,r){var s;rg2.input.infoPanelMaximised=t,$("#rg2-resize-info").prop("title",rg2.t(e)),$("#rg2-hide-info-panel-control").css("left",r),r=t?($("#rg2-info-panel").show(),s="fa-chevron-right","fa-chevron-left"):($("#rg2-info-panel").hide(),s="fa-chevron-left","fa-chevron-right"),$("#rg2-hide-info-panel-icon").removeClass(s).addClass(r).prop("title",rg2.t(e))}function g(){rg2.input.scaleFactor=rg2.config.DEFAULT_SCALE_FACTOR,$("#rg2-container").css("height",window.innerHeight-36),i.width=window.innerWidth,i.height=window.innerHeight-36,rg2.ui.setTitleBar(),t()}function d(){i.addEventListener("touchstart",rg2.handleTouchStart,!1),i.addEventListener("touchmove",rg2.handleTouchMove,!1),i.addEventListener("touchend",rg2.handleTouchEnd,!1),i.addEventListener("DOMMouseScroll",rg2.handleScroll,!1),i.addEventListener("mousewheel",rg2.handleScroll,!1),i.addEventListener("mousedown",rg2.handleMouseDown,!1),i.addEventListener("mousemove",rg2.handleMouseMove,!1),i.addEventListener("mouseup",rg2.handleMouseUp,!1),window.addEventListener("resize",g,!1),r.addEventListener("load",function(){$("#rg2-map-load-progress").hide(),t(),rg2.overlay.mapLoaded(),rg2.config.managing&&rg2.manager.mapLoadCallback()},!1)}i=$("#rg2-map-canvas")[0],h=i.getContext("2d"),r=new Image,h.displayAngle=0,rg2.zoom=function(t){var e;(rg2.config.managing||null!==rg2.events.getActiveEventID())&&(t=Math.pow(rg2.input.scaleFactor,t),(e=rg2.input.zoomSize*t)<50)&&.05<e&&(rg2.input.zoomSize=e,e=h.transformedPoint(rg2.input.lastX,rg2.input.lastY),h.translate(e.x,e.y),h.scale(t,t),h.translate(-e.x,-e.y),h.save(),a(!1))},rg2.rotateMap=function(t){s(t*(Math.PI/36),r.width/2,r.height/2,!1)},rg2.alignMap=function(t,e,r){s((h.displayAngle-t)%(2*Math.PI),e,r,!0)},rg2.redraw=a,rg2.canvas=i,rg2.setUpCanvas=function(){var o,t,r,s,n,i,e,a,l,c,u;d(),o=h,a=document.createElementNS("http://www.w3.org/2000/svg","svg"),l=a.createSVGMatrix(),c=[],u=o.save,o.save=function(){return c.push(l.translate(0,0)),u.call(o)},t=o.restore,o.restore=function(){return l=c.pop(),t.call(o)},r=o.scale,o.scale=function(t,e){return l=l.scaleNonUniform(t,e),r.call(o,t,e)},s=o.translate,o.translate=function(t,e){return l=l.translate(t,e),s.call(o,t,e)},n=o.setTransform,o.setTransform=function(t,e,r,s,i,a){return l.a=t,l.b=e,l.c=r,l.d=s,l.e=i,l.f=a,n.call(o,t,e,r,s,i,a)},i=a.createSVGPoint(),o.transformedPoint=function(t,e){return i.x=t,i.y=e,i.matrixTransform(l.inverse())},e=o.rotate,o.rotate=function(t){return l=l.rotate(180*t/Math.PI),e.call(o,t)},g()},rg2.ctx=h,rg2.addListeners=d,rg2.resetMapState=t,rg2.getMapSize=function(){return{height:r.height,width:r.width}},rg2.loadNewMap=function(t){$("#rg2-map-load-progress-label").text(rg2.t("Loading map")),$("#rg2-map-load-progress").show(),r.src=t},rg2.resizeInfoDisplay=function(){rg2.input.infoPanelMaximised?e(!1,"Show info panel","0px"):e(!0,"Hide info panel","366px"),t()}}(),function(){var t,e,i;function g(t){return i.hasOwnProperty(t)?i[t]:t}function r(){for(var t=["#rg2-events-tab a","#rg2-courses-tab a","#rg2-results-tab a","#rg2-draw-tab a","#rg2-draw-title","#draw-text-1","#draw-text-2","#draw-text-3","#draw-text-4","#draw-text-5","#rg2-load-gps-title",".rg2-options-dialog .ui-dialog-title"],e=["Events","Courses","Results","Draw","Draw route","Left click to add/lock/unlock a handle","Green - draggable","Red - locked","Right click to delete a handle","Drag a handle to adjust track around locked point(s)","Load GPS file (GPX or TCX)","Configuration options"],r=0;r<t.length;r+=1)$(t[r]).text(g(e[r]));for(var s=["rg2-replay-start-control","#rg2-hide-info-panel-icon","#btn-about","#btn-options","#btn-zoom-out","#btn-zoom-in","#btn-reset","#btn-show-splits","#rg2-splits-table","#btn-slower","#btn-faster","#btn-rotate-right","#btn-rotate-left","#btn-stats","#btn-measure"],i=["Start at","Hide info panel","Help","Options","Zoom out","Zoom in","Reset","Splits","Splits table","Slower","Faster","Rotate right","Rotate left","Statistics","Measure"],a=0;a<s.length;a+=1)$(s[a]).prop("title",g(i[a]));for(var o=["label[for=btn-full-tails]","label[for=spn-tail-length]","label[for=rg2-select-language]","label[for=spn-map-intensity]","label[for=spn-route-intensity]","label[for=spn-route-width]","label[for=spn-name-font-size]","label[for=spn-course-width]","label[for=spn-control-circle]","label[for=chk-snap-toggle]","label[for=chk-show-three-seconds]","label[for=chk-show-GPS-speed]","label[for=rg2-course-select]","label[for=rg2-name-select]","label[for=btn-move-all]","label[for=btn-align-map]"],n=["Full tails","Length","Language","Map intensity %","Route intensity %","Route width","Replay label font size","Course overprint width","Control circle size","Snap to control when drawing","Show +3 time loss for GPS routes","Show GPS speed colours","Select course","Select name","Move track and map together (or right click-drag)","Align map to next control"],l=0;l<o.length;l+=1)$(o[l]).prop("textContent",g(n[l]));for(var c=["#btn-undo","#btn-undo-gps-adjust","#btn-save-route","#btn-reset-drawing","#btn-three-seconds","#btn-save-gps-route","#btn-autofit-gps"],u=["Undo","Undo","Save","Reset","+3 sec","Save GPS route","Autofit"],h=0;h<c.length;h+=1)$(c[h]).button("option","label",g(u[h]));$("#btn-toggle-controls").hasClass("fa-circle-o")?$("#btn-toggle-controls").prop("title",g("Show controls")):$("#btn-toggle-controls").prop("title",g("Hide controls"))}e={mapIntensity:1,routeIntensity:1,replayFontSize:12,courseWidth:3,routeWidth:4,circleSize:20,snap:!0,showThreeSeconds:!(t={DEFAULT_SCALE_FACTOR:1.1,TAB_EVENTS:0,TAB_COURSES:1,TAB_RESULTS:2,TAB_DRAW:3,TAB_LOGIN:4,TAB_CREATE:5,TAB_EDIT:6,TAB_MAP:7,TAB_DELETE_MAP:8,INVALID_MAP_ID:9999,DEFAULT_NEW_COMMENT:"Type your comment",DEFAULT_EVENT_COMMENT:"Comments (optional)",GPS_RESULT_OFFSET:5e4,MASS_START_REPLAY:1,REAL_TIME_REPLAY:2,MASS_START_BY_CONTROL:99999,VERY_HIGH_TIME_IN_SECS:99999,BIG_SCREEN_BREAK_POINT:800,SMALL_SCREEN_BREAK_POINT:500,PURPLE:"#b300ff",RED:"#ff0000",GREEN:"#00ff00",DARK_GREEN:"rgb(34, 139, 34)",DARK_GREEN_30:"rgba(34, 139, 34, 0.3)",GREY:"#e0e0e0",RED_30:"rgba(255,0,0,0.3)",GREEN_30:"rgba(0,255,0,0.3)",WHITE:"#ffffff",BLACK:"#000000",RUNNER_DOT_RADIUS:6,HANDLE_DOT_RADIUS:7,HANDLE_COLOUR:"#ff0000",DIM:.75,FULL_INTENSITY:1,RG2VERSION:"1.10.3",TIME_NOT_FOUND:9999,RIGHT_CLICK:3,DO_NOT_SAVE_COURSE:9999,FORMAT_NORMAL:1,FORMAT_NORMAL_NO_RESULTS:2,FORMAT_SCORE_EVENT:3,FORMAT_SCORE_EVENT_NO_RESULTS:4,DISPLAY_ALL_COURSES:99999,EXCLUDED_NONE:0,EXCLUDED_ZERO_SPLITS:1,EXCLUDED_REAL_SPLITS:2,MAX_DRAWN_ROUTES:10,languages:[{language:"Čeština",code:"cz"},{language:"Deutsch",code:"de"},{language:"Suomi",code:"fi"},{language:"Français",code:"fr"},{language:"Italiano",code:"it"},{language:"日本語",code:"ja"},{language:"Norsk",code:"no"},{language:"Português - Brasil",code:"pt"},{language:"Русский",code:"ru"}],FILE_SIZE_WARNING:2,PIXEL_SIZE_WARNING:4e3}),showGPSSpeed:!1,alignMap:!1,maxSpeed:4,minSpeed:15,drawnRoutes:[]},rg2.t=g,rg2.options=e,rg2.config=t,rg2.saveConfigOptions=function(){try{window.hasOwnProperty("localStorage")&&null!==window.localStorage&&localStorage.setItem("rg2-options",JSON.stringify(this.options))}catch(t){}},rg2.saveDrawnRouteDetails=function(t){var e=this.options.drawnRoutes;e.length>=rg2.config.MAX_DRAWN_ROUTES&&e.shift(),e.push(t),this.options.drawnRoutes=e,this.saveConfigOptions()},rg2.removeDrawnRouteDetails=function(t){for(var e=[],r=0;r<this.options.drawnRoutes.length;r+=1)this.options.drawnRoutes[r].id===t.id&&this.options.drawnRoutes[r].eventid===t.eventid||e.push(this.options.drawnRoutes[r]);this.options.drawnRoutes=e,this.saveConfigOptions()},rg2.setConfigOption=function(t,e){this.options[t]=e},rg2.loadConfigOptions=function(){try{var t,e;if(window.hasOwnProperty("localStorage")&&null!==window.localStorage&&null!==localStorage.getItem("rg2-options")){for(t in e=JSON.parse(localStorage.getItem("rg2-options")))e.hasOwnProperty(t)&&(this.options[t]=e[t]);this.options.circleSize=20,0===this.options.mapIntensity&&rg2.utils.showWarningDialog("Warning","Your saved settings have 0% map intensity so the map is invisible. You can adjust this on the configuration menu")}}catch(t){console.log("Local storage not supported")}},rg2.getOverprintDetails=function(){var t={},e=rg2.getMapSize(),e=Math.pow(Math.min(e.height,e.width)/1500,.5);return e=Math.min(e,5),e=Math.max(e,.5),e=Math.round(rg2.options.circleSize*e),t.controlRadius=e,t.finishInnerRadius=e*(5/6),t.finishOuterRadius=e*(7/6),t.startTriangleLength=e*(7/6),t.overprintWidth=this.options.courseWidth,t.font=e+"pt Arial",t},rg2.setDictionary=function(t){i=t,r()},rg2.getDictionaryCode=function(){return i.code},rg2.setLanguageOptions=function(){i={code:"en"},rg2.createLanguageDropdown(rg2.config.languages),"en"!==rg2Config.start_language&&rg2.getNewLanguage(rg2Config.start_language)},rg2.createLanguageDropdown=function(t){var e,r,s;for($("#rg2-select-language").empty(),s=document.getElementById("rg2-select-language"),r="en"===i.code,s.options.add(rg2.utils.generateOption("en","en: English",r)),e=0;e<t.length;e+=1)r=i.code===t[e].code,s.options.add(rg2.utils.generateOption(t[e].code,t[e].code+": "+t[e].language,r))}}(),function(){function t(t,e,r){this.code=t,this.x=e,this.y=r}t.prototype={Constructor:t},rg2.Control=t}(),function(){function t(){this.controls=[],this.displayControls=!1}t.prototype={Constructor:t,addControl:function(t,e,r){for(var s=!0,i=0;i<this.controls.length;i+=1)if(this.controls[i].code===t){s=!1;break}s&&this.controls.push(new rg2.Control(t,e,r))},deleteAllControls:function(){this.controls.length=0},drawControls:function(t){var e,r,s;if(this.displayControls)for(s=rg2.getOverprintDetails(),r=this.controls.length,e=0;e<r;e+=1)0===this.controls[e].code.indexOf("F")||0===this.controls[e].code.indexOf("M")?this.drawFinish(this.controls[e].x,this.controls[e].y,this.controls[e].code,s):0===this.controls[e].code.indexOf("S")?this.drawStart(this.controls[e].x,this.controls[e].y,this.controls[e].code,1.5*Math.PI,s):(this.drawSingleControl(this.controls[e].x,this.controls[e].y,this.controls[e].code,.25*Math.PI,s),t&&rg2.ctx.fillRect(this.controls[e].x-1,this.controls[e].y-1,3,3))},drawSingleControl:function(t,e,r,s,i){var a,o;rg2.ctx.beginPath(),rg2.ctx.strokeStyle="white",rg2.ctx.lineWidth=i.overprintWidth+2,rg2.ctx.arc(t,e,i.controlRadius,0,2*Math.PI,!1),rg2.ctx.stroke(),rg2.ctx.beginPath(),rg2.ctx.textAlign="center",rg2.ctx.font=i.font,rg2.ctx.strokeStyle="white",rg2.ctx.miterLimit=2,rg2.ctx.lineJoin="circle",rg2.ctx.lineWidth=1.5,rg2.ctx.textBaseline="middle",a=rg2.ctx.measureText(r),a=s<Math.PI?a.width/2:-1*a.width/2,o=s>=Math.PI/2&&s<=1.5*Math.PI?-1*i.controlRadius/2:i.controlRadius/2,rg2.ctx.strokeText(r,t+1.3*i.controlRadius*Math.sin(s)+a,e+1.3*i.controlRadius*Math.cos(s)+o),rg2.ctx.beginPath(),rg2.ctx.font=i.font,rg2.ctx.fillStyle=rg2.config.PURPLE,rg2.ctx.strokeStyle=rg2.config.PURPLE,rg2.ctx.lineWidth=i.overprintWidth,rg2.ctx.arc(t,e,i.controlRadius,0,2*Math.PI,!1),rg2.ctx.fillText(r,t+1.3*i.controlRadius*Math.sin(s)+a,e+1.3*i.controlRadius*Math.cos(s)+o),rg2.ctx.stroke()},drawFinish:function(t,e,r,s){rg2.ctx.strokeStyle="white",rg2.ctx.lineWidth=s.overprintWidth+2,rg2.ctx.beginPath(),rg2.ctx.arc(t,e,s.finishInnerRadius,0,2*Math.PI,!1),rg2.ctx.stroke(),rg2.ctx.beginPath(),rg2.ctx.arc(t,e,s.finishOuterRadius,0,2*Math.PI,!1),rg2.ctx.stroke(),rg2.ctx.beginPath(),rg2.ctx.font=s.font,rg2.ctx.textAlign="left",rg2.ctx.strokeStyle="white",rg2.ctx.miterLimit=2,rg2.ctx.lineJoin="circle",rg2.ctx.lineWidth=1.5,rg2.ctx.strokeText(r,t+1.5*s.controlRadius,e+s.controlRadius),rg2.ctx.stroke(),rg2.ctx.beginPath(),rg2.ctx.fillStyle=rg2.config.PURPLE,rg2.ctx.strokeStyle=rg2.config.PURPLE,rg2.ctx.lineWidth=s.overprintWidth,rg2.ctx.arc(t,e,s.finishInnerRadius,0,2*Math.PI,!1),rg2.ctx.stroke(),rg2.ctx.beginPath(),rg2.ctx.arc(t,e,s.finishOuterRadius,0,2*Math.PI,!1),rg2.ctx.fillText(r,t+1.5*s.controlRadius,e+s.controlRadius),rg2.ctx.stroke()},drawStart:function(t,e,r,s,i){var a=[],o=[],n=2*Math.PI/3;s+=Math.PI/2,rg2.ctx.lineCap="round",rg2.ctx.strokeStyle="white",rg2.ctx.lineWidth=i.overprintWidth+2,rg2.ctx.beginPath(),a[0]=t+i.startTriangleLength*Math.sin(s),o[0]=e-i.startTriangleLength*Math.cos(s),rg2.ctx.moveTo(a[0],o[0]),a[1]=t+i.startTriangleLength*Math.sin(s+n),o[1]=e-i.startTriangleLength*Math.cos(s+n),rg2.ctx.lineTo(a[1],o[1]),rg2.ctx.stroke(),rg2.ctx.beginPath(),rg2.ctx.moveTo(a[1],o[1]),a[2]=t+i.startTriangleLength*Math.sin(s-n),o[2]=e-i.startTriangleLength*Math.cos(s-n),rg2.ctx.lineTo(a[2],o[2]),rg2.ctx.stroke(),rg2.ctx.beginPath(),rg2.ctx.moveTo(a[2],o[2]),rg2.ctx.lineTo(a[0],o[0]),rg2.ctx.stroke(),rg2.ctx.beginPath(),rg2.ctx.font=i.font,rg2.ctx.textAlign="left",rg2.ctx.strokeStyle="white",rg2.ctx.miterLimit=2,rg2.ctx.lineJoin="circle",rg2.ctx.lineWidth=1.5,rg2.ctx.strokeText(r,a[0]+1.25*i.controlRadius,o[0]+1.25*i.controlRadius),rg2.ctx.stroke(),rg2.ctx.strokeStyle=rg2.config.PURPLE,rg2.ctx.lineWidth=i.overprintWidth,rg2.ctx.font=i.font,rg2.ctx.fillStyle=rg2.config.PURPLE,rg2.ctx.beginPath(),rg2.ctx.moveTo(a[0],o[0]),rg2.ctx.lineTo(a[1],o[1]),rg2.ctx.stroke(),rg2.ctx.beginPath(),rg2.ctx.moveTo(a[1],o[1]),rg2.ctx.lineTo(a[2],o[2]),rg2.ctx.stroke(),rg2.ctx.beginPath(),rg2.ctx.moveTo(a[2],o[2]),rg2.ctx.lineTo(a[0],o[0]),rg2.ctx.fillText(r,a[0]+1.25*i.controlRadius,o[0]+1.25*i.controlRadius),rg2.ctx.stroke()},toggleControlDisplay:function(){this.displayControls?($("#btn-toggle-controls").removeClass("fa-ban").addClass("fa-circle-o"),$("#btn-toggle-controls").prop("title",rg2.t("Show controls"))):($("#btn-toggle-controls").removeClass("fa-circle-o").addClass("fa-ban"),$("#btn-toggle-controls").prop("title",rg2.t("Hide controls"))),this.displayControls=!this.displayControls},displayAllControls:function(){this.displayControls=!0},getControlCount:function(){return this.controls.length}},rg2.Controls=t}(),function(){function t(t,e){this.name=t.name,this.trackcount=0,this.display=!1,this.courseid=t.courseid,this.codes=t.codes,this.setExcluded(t),this.filterTo=this.codes.length,this.filterFrom=0,this.x=t.xpos,this.y=t.ypos,this.isScoreCourse=e,this.resultcount=0,this.angle=[],this.textAngle=[],this.setAngles(),this.length=this.setLength()}t.prototype={Constructor:t,incrementTracksCount:function(){this.trackcount+=1},setExcluded:function(r){this.excludeType=r.excludeType,this.exclude=r.codes.map((t,e)=>-1<r.exclude.findIndex(t=>t===e)),this.allowed=r.codes.map((t,e)=>-1<r.exclude.findIndex(t=>t===e)?r.allowed[r.exclude.findIndex(t=>t===e)]:0)},setLength:function(){var t,e=0,r=rg2.events.getMetresPerPixel();if(void 0!==r&&!this.isScoreCourse){for(t=1;t<this.x.length;t+=1)e+=rg2.utils.getDistanceBetweenPoints(this.x[t],this.y[t],this.x[t-1],this.y[t-1]);return 0!==e?(e*r/1e3).toFixed(1):void 0}},getLegLengths:function(){var t,e=[];if(this.isScoreCourse)e[1]=1;else for(e[0]=0,t=1;t<this.x.length;t+=1)e[t]=parseInt(e[t-1]+rg2.utils.getDistanceBetweenPoints(this.x[t],this.y[t],this.x[t-1],this.y[t-1]),0);return e},setAngles:function(){for(var t,e,r,s,i=0;i<this.x.length-1;i+=1)this.isScoreCourse?(this.angle[i]=1.5*Math.PI,this.textAngle[i]=.25*Math.PI):(this.angle[i]=rg2.utils.getAngle(this.x[i],this.y[i],this.x[i+1],this.y[i+1]),t=Math.sin(this.angle[i-1]),e=Math.cos(this.angle[i-1]),r=Math.sin(this.angle[i])+t,s=Math.cos(this.angle[i])+e,this.textAngle[i]=rg2.utils.getAngle(r/2,s/2,t,e));this.angle[this.x.length-1]=1.5*Math.PI,this.textAngle[this.x.length-1]=1.5*Math.PI},drawCourse:function(t){if(this.display){var e=rg2.getOverprintDetails();if(rg2.ctx.globalAlpha=t,rg2.controls.drawStart(this.x[0],this.y[0],"",this.angle[0],e),this.isScoreCourse||(t={from:this.filterFrom,to:this.filterTo},this.drawLinesBetweenControls({x:this.x,y:this.y},this.angle,e,t)),this.isScoreCourse)for(s=1;s<this.x.length;s+=1)0===this.codes[s].indexOf("F")||0===this.codes[s].indexOf("M")?rg2.controls.drawFinish(this.x[s],this.y[s],"",e):rg2.controls.drawSingleControl(this.x[s],this.y[s],this.codes[s],this.textAngle[s],e);else{for(var t=Math.max(this.filterFrom,1),r=Math.min(this.filterTo+1,this.x.length-1),s=t;s<r;s+=1)rg2.controls.drawSingleControl(this.x[s],this.y[s],s,this.textAngle[s],e);rg2.controls.drawFinish(this.x[this.x.length-1],this.y[this.y.length-1],"",e)}}},drawLinesBetweenControls:function(e,r,s,i){var a,o,n,l;for(let t=i.from;t<i.to;t+=1)l=0===t?s.startTriangleLength:s.controlRadius,a=e.x[t]+l*Math.cos(r[t]),o=e.y[t]+l*Math.sin(r[t]),l=t===this.x.length-2?s.finishOuterRadius:s.controlRadius,n=e.x[t+1]-l*Math.cos(r[t]),l=e.y[t+1]-l*Math.sin(r[t]),rg2.ctx.beginPath(),rg2.ctx.moveTo(a,o),rg2.ctx.lineTo(n,l),rg2.ctx.stroke()}},rg2.Course=t}(),function(){function t(){this.courses=[],this.totaltracks=0,this.numberofcourses=0,this.highestControlNumber=0}t.prototype={Constructor:t,getCourseName:function(t){return this.courses[t].name},isValidCourseId:function(t){return t in this.courses},getCoursesForEvent:function(){for(var t,e=[],r=0;r<this.courses.length;r+=1)void 0!==this.courses[r]&&((t={}).id=this.courses[r].courseid,t.name=this.courses[r].name,t.results=this.courses[r].resultcount,e.push(t));return e},getHighestControlNumber:function(){return this.highestControlNumber},getCourseDetails:function(t){return this.courses[t]},getVariantDetails:function(e){for(let t=0;t<this.courses.length;t+=1)if(this.courses[t].variant===e)return this.courses[t]},getCourseLegLengths:function(t){return this.courses[t].getLegLengths()},getNumberOfControlsOnCourse:function(t){return this.courses[t].codes.length-2},incrementTracksCount:function(t){this.courses[t].incrementTracksCount(),this.totaltracks+=1},addCourse:function(t){this.courses[t.courseid]=t,this.numberofcourses+=1,void 0!==this.courses[t.courseid].codes&&this.courses[t.courseid].codes.length>this.highestControlNumber&&(this.highestControlNumber=this.courses[t.courseid].codes.length-1,this.updateControlDropdown())},updateCourseDropdown:function(){var t,e;for($("#rg2-course-select").empty(),(e=document.getElementById("rg2-course-select")).options.add(rg2.utils.generateOption(null,rg2.t("Select course"))),t=0;t<this.courses.length;t+=1)void 0!==this.courses[t]&&e.options.add(rg2.utils.generateOption(t,rg2.he.decode(this.courses[t].name)))},updateControlDropdown:function(){var t,e=document.getElementById("rg2-control-select");for($("#rg2-control-select").empty(),e.options.add(rg2.utils.generateOption(0,"S")),e.options.add(rg2.utils.generateOption(rg2.config.MASS_START_BY_CONTROL,"By control")),t=1;t<this.highestControlNumber;t+=1)e.options.add(rg2.utils.generateOption(t,t))},deleteAllCourses:function(){this.courses.length=0,this.numberofcourses=0,this.totaltracks=0,this.highestControlNumber=0},drawCourses:function(t){for(var e=0;e<this.courses.length;e+=1)void 0!==this.courses[e]&&this.courses[e].drawCourse(t)},putOnDisplay:function(t){void 0!==this.courses[t]&&(this.courses[t].display=!0,this.setFilter(t))},putAllOnDisplay:function(){for(let t=0;t<this.courses.length;t+=1)void 0!==this.courses[t]&&this.putOnDisplay(this.courses[t].courseid)},removeAllFromDisplay:function(){for(let t=0;t<this.courses.length;t+=1)void 0!==this.courses[t]&&this.removeFromDisplay(this.courses[t].courseid)},removeFromDisplay:function(t){void 0!==this.courses[t]&&(this.courses[t].display=!1,this.setFilter(t))},setFilter:function(e){e=parseInt(e,10);const r=this.courses[e].display||rg2.results.anyTracksForCourseDisplayed(e);document.querySelectorAll("[data-filter]").forEach(t=>{parseInt(t.dataset.courseId,10)===e&&(t.dataset.filter=r)})},setAllFilters:function(){for(let t=0;t<this.courses.length;t+=1)void 0!==this.courses[t]&&this.setFilter(t)},getCoursesOnDisplay:function(){var e=[];for(let t=0;t<this.courses.length;t+=1)void 0!==this.courses[t]&&this.courses[t].display&&e.push(t);return e},allCoursesDisplayed:function(){for(let t=0;t<this.courses.length;t+=1)if(void 0!==this.courses[t]&&!this.courses[t].display)return!1;return!0},getNumberOfCourses:function(){return this.numberofcourses},generateControlList:function(t){for(var e,r,s,i,a=0;a<this.courses.length;a+=1)if(void 0!==this.courses[a]&&(e=this.courses[a].codes,r=this.courses[a].x,s=this.courses[a].y,void 0!==e))for(i=0;i<e.length;i+=1)t.addControl(e[i],r[i],s[i])},updateScoreCourse:function(t,e,r,s){for(var i=0;i<this.courses.length;i+=1)if(void 0!==this.courses[i]&&this.courses[i].courseid===t){this.courses[i].codes=e,this.courses[i].x=r,this.courses[i].y=s,this.courses[i].setAngles();break}},setResultsCount:function(){for(var t=0;t<this.courses.length;t+=1)void 0!==this.courses[t]&&(this.courses[t].resultcount=rg2.results.countResultsByCourseID(t))},formatCoursesAsTable:function(){var t,e="<table class='coursemenutable'><tr><th>"+rg2.t("Course")+"</th><th><i class='fa fa-eye'></i></th>";return e=(e=(e=(e+="<th>"+rg2.t("Runners")+"</th><th>"+rg2.t("Routes")+"</th><th><i class='fa fa-eye'></i></th><th><i class='fa fa-play'></i></th></tr>")+((t=this.formatCourseDetails()).html+"<tr class='allitemsrow'><td>"+rg2.t("All")+"</td>"))+("<td><input class='showallcourses' id="+t.coursecount+" type=checkbox name=course></input></td>"))+("<td>"+t.res+"</td><td>"+this.totaltracks+"</td><td>"),0<this.totaltracks&&(e+="<input id="+t.coursecount+" class='alltracks' type=checkbox name=track></input>"),e+="</td><td></td></tr></table>"},formatCourseDetails:function(){var t={html:"",res:0};let e;for(e=0;e<this.courses.length;e+=1)void 0!==this.courses[e]&&(t.html+="<tr><td>"+this.courses[e].name+"</td><td><input class='showcourse' id="+e+" type=checkbox name=course></input></td>",t.html+="<td>"+this.courses[e].resultcount+"</td><td>"+this.courses[e].trackcount+"</td><td>",t.res+=this.courses[e].resultcount,0<this.courses[e].trackcount?(t.html+="<input id="+e+" class='allcoursetracks' type=checkbox name=track></input></td>",t.html+="<td><input id="+e+" class='allcoursetracksreplay' type=checkbox name=replay></input>"):t.html+="</td><td>",t.html+="</td></tr>");return t.coursecount=e,t},formatCourseFilters:function(){let e="";for(let t=0;t<this.courses.length;t+=1)void 0!==this.courses[t]&&!this.courses[t].isScoreCourse&&2<this.courses[t].codes.length&&(e=(e=(e+="<div class='filter-item' data-course-id="+this.courses[t].courseid+" data-filter='false'>"+this.courses[t].name)+"</div><div class='filter-item' data-course-id="+this.courses[t].courseid+" data-filter='false' id='course-filter-")+this.courses[t].courseid+"'></div>");return e},formatFilterSliders:function(){for(let s=0;s<this.courses.length;s+=1)if(void 0!==this.courses[s]){let r=this;$("#course-filter-"+this.courses[s].courseid).slider({range:!0,min:0,max:this.courses[s].codes.length,values:[0,this.courses[s].codes.length],slide:function(t,e){r.filterChanged(s,e.values[0],e.values[1])}})}},drawLinesBetweenControls:function(t,e,r,s,i){this.courses[r].drawLinesBetweenControls(t,e,s,i)},getFilterDetails:function(t){var e={};return e.filterFrom=this.courses[t].filterFrom,e.filterTo=this.courses[t].filterTo,e},filterChanged:function(t,e,r){this.courses[t].filterFrom=e,this.courses[t].filterTo=r,rg2.redraw(!1)},getExcluded:function(t){return rg2.events.isScoreEvent()?[]:this.courses[t].exclude},getExcludedText:function(){let t="";for(let s=0;s<this.courses.length;s+=1)void 0!==this.courses[s]&&this.courses[s].excludeType!==rg2.config.EXCLUDED_NONE&&(t=(t=t+this.courses[s].courseid+"|"+this.courses[s].excludeType)+this.courses[s].exclude.reduce((t,e,r)=>e?t+"|"+r+","+this.courses[s].allowed[r]:t,"")+"\n");return t}},rg2.Courses=t}(),function(){function t(){this.trackColor="#ff0000",this.hasResults=!1,this.routeToDelete=null,this.initialiseDrawing()}t.prototype={Constructor:t,gpsFileLoaded:function(){return this.gpstrack.fileLoaded},autofitGPSTrack:function(){this.gpstrack.autofitTrack()},adjustOffset:function(t){this.gpstrack.adjustOffset(t)},uploadGPS:function(t){this.gpstrack.uploadGPS(t)},getControlXY:function(){return{x:this.controlx,y:this.controly}},mouseUp:function(t,e,r){var s,i,a,o=$("#rg2-info-panel").tabs("option","active");if(o===rg2.config.TAB_DRAW)if((i=this.gpstrack).fileLoaded){if(void 0!==(o=i.handles.getHandleClicked({x:t,y:e})))r===rg2.config.RIGHT_CLICK&&0!==o.index&&o.index!==i.handles.length?o.locked?i.handles.unlockHandle(o.index):i.handles.deleteHandle(o.index):o.locked?i.handles.unlockHandle(o.index):i.handles.lockHandle(o.index);else for(a=i.baseX.length,s=0;s<a;s+=1)if(i.baseX[s]+3>=t&&i.baseX[s]-3<=t&&i.baseY[s]+3>=e&&i.baseY[s]-3<=e){i.handles.addHandle(t,e,s);break}}else null!==i.routeData.resultid&&null!==i.routeData.courseid?this.addNewPoint(t,e):rg2.utils.showWarningDialog("No course/name","Please select course, name and time before you start drawing a route or upload a file.")},dragEnded:function(){var t;this.gpstrack.fileLoaded&&((t=this.gpstrack).savedBaseX=t.baseX.slice(0),t.savedBaseY=t.baseY.slice(0),t.baseX=t.routeData.x.slice(0),t.baseY=t.routeData.y.slice(0),t.handles.saveForUndo(),t.handles.rebaselineXY(),$("#btn-undo-gps-adjust").button("enable"))},initialiseDrawing:function(){this.gpstrack=new rg2.GPSTrack,this.gpstrack.routeData=new rg2.RouteData,this.pendingCourseID=null,this.controlx=[],this.controly=[],this.angles=[],this.nextControl=0,this.previousValidControlIndex=0,this.isScoreCourse=!1,this.gpstrack.initialiseGPS(),this.hasResults=rg2.events.hasResults(),this.initialiseUI(),rg2.redraw(!1)},initialiseUI:function(){rg2.courses.updateCourseDropdown(),this.hasResults?($("#rg2-select-name").show(),$("#rg2-enter-name").hide()):($("#rg2-select-name").hide(),$("#rg2-enter-name").show()),$("#rg2-name-select").prop("disabled",!0),$("#rg2-undo").prop("disabled",!0),$("#btn-reset-drawing").button("enable"),rg2.utils.setButtonState("disable",["#btn-save-route","#btn-save-gps-route","#btn-undo","#btn-three-seconds","#rg2-load-gps-file","#rg2-autofit-gps"]),$("#rg2-name-select").empty(),$("#rg2-new-comments").empty().val(rg2.t(rg2.config.DEFAULT_NEW_COMMENT)),$("#rg2-event-comments").empty().val(rg2.t(rg2.config.DEFAULT_EVENT_COMMENT)),$("#btn-move-all").prop("checked",!1),$("#rg2-name-entry").empty().val(""),$("#rg2-time-entry").empty().val(""),$("#rg2-name").removeClass("valid"),$("#rg2-time").removeClass("valid")},setCourse:function(t){isNaN(t)||(null!==this.gpstrack.routeData.courseid?1<this.gpstrack.routeData.x.length?(this.pendingCourseid=t,this.confirmCourseChange()):(null!==this.gpstrack.routeData.resultid&&rg2.results.putScoreCourseOnDisplay(this.gpstrack.routeData.resultid,!1),rg2.courses.removeFromDisplay(this.gpstrack.routeData.courseid),this.initialiseCourse(t)):this.initialiseCourse(t))},initialiseCourse:function(t){var e;this.gpstrack.routeData.eventid=rg2.events.getKartatEventID(),this.gpstrack.routeData.courseid=t,e=rg2.courses.getCourseDetails(t),this.isScoreCourse=e.isScoreCourse,this.isScoreCourse||(rg2.courses.putOnDisplay(t),this.gpstrack.routeData.coursename=e.name,e.excludeType===rg2.config.EXCLUDED_ZERO_SPLITS?this.gpstrack.routeData.controlsToAdjust=e.exclude.indexOf(!0):this.gpstrack.routeData.controlsToAdjust=e.x.length-1,this.controlx=e.x,this.controly=e.y,this.gpstrack.routeData.x.length=0,this.gpstrack.routeData.y.length=0,this.gpstrack.routeData.x[0]=this.controlx[0],this.gpstrack.routeData.y[0]=this.controly[0],this.gpstrack.routeData.controlx=this.controlx,this.gpstrack.routeData.controly=this.controly,this.angles=e.angle),rg2.results.createNameDropdown(t),$("#rg2-name-select").prop("disabled",!1),$("#btn-undo-gps-adjust").button("disable"),rg2.redraw(!1)},doDrawingReset:function(){$("#rg2-drawing-reset-dialog").dialog("destroy"),null!==this.gpstrack.routeData.courseid&&rg2.courses.removeFromDisplay(this.gpstrack.routeData.courseid),null!==this.gpstrack.routeData.resultid&&rg2.results.putScoreCourseOnDisplay(this.gpstrack.routeData.resultid,!1),this.pendingCourseid=null,this.initialiseDrawing()},doCancelDrawingReset:function(){$("#rg2-drawing-reset-dialog").dialog("destroy")},confirmCourseChange:function(){var t={selector:"<div id='rg2-course-change-dialog'>The route you have started to draw will be discarded. Are you sure you want to change the course?</div>",title:"Confirm course change",classes:"rg2-confirm-change-course",doText:"Change course"};t.onDo=this.doChangeCourse.bind(this),t.onCancel=this.doCancelChangeCourse.bind(this),rg2.utils.createModalDialog(t)},resetDrawing:function(){var t={selector:"<div id='rg2-drawing-reset-dialog'>All information you have entered will be removed. Are you sure you want to reset?</div>",title:"Confirm reset",classes:"rg2-confirm-drawing-reset",doText:"Reset"};t.onDo=this.doDrawingReset.bind(this),t.onCancel=this.doCancelDrawingReset.bind(this),rg2.utils.createModalDialog(t)},doChangeCourse:function(){$("#rg2-course-change-dialog").dialog("destroy"),rg2.courses.removeFromDisplay(this.gpstrack.routeData.courseid),null!==this.gpstrack.routeData.resultid&&rg2.results.putScoreCourseOnDisplay(this.gpstrack.routeData.resultid,!1),this.doDrawingReset(),this.initialiseCourse(this.pendingCourseid)},doCancelChangeCourse:function(){$("#rg2-course-select").val(this.gpstrack.routeData.courseid),this.pendingCourseid=null,$("#rg2-course-change-dialog").dialog("destroy")},showCourseInProgress:function(){null!==this.gpstrack.routeData.courseid&&(this.isScoreCourse?rg2.results.putScoreCourseOnDisplay(this.gpstrack.routeData.resultid,!0):rg2.courses.putOnDisplay(this.gpstrack.routeData.courseid))},setName:function(t){var e;isNaN(t)||((t=rg2.results.getFullResult(t)).hasValidTrack&&(e=rg2.t("If you draw a new route it will overwrite the old route for this runner.")+" "+rg2.t("GPS routes are saved separately and will not be overwritten."),rg2.utils.showWarningDialog(rg2.t("Route already drawn"),e)),null!==this.gpstrack.routeData.resultid&&rg2.results.putScoreCourseOnDisplay(this.gpstrack.routeData.resultid,!1),this.gpstrack.routeData.resultid=t.resultid,this.gpstrack.routeData.name=t.name,this.gpstrack.routeData.splits=t.splits,this.isScoreCourse?(rg2.results.putScoreCourseOnDisplay(t.resultid,!0),this.controlx=t.scorex,this.controly=t.scorey,this.gpstrack.routeData.x.length=0,this.gpstrack.routeData.y.length=0,this.gpstrack.routeData.x[0]=this.controlx[0],this.gpstrack.routeData.y[0]=this.controly[0],this.gpstrack.routeData.controlx=this.controlx,this.gpstrack.routeData.controly=this.controly,this.nextControl=1,rg2.redraw(!1)):(this.nextControl=this.getNextValidControl(0),this.previousValidControlIndex=0),this.alignMapToAngle(0),this.startDrawing())},setNameAndTime:function(){var t,e,r,s,i,a=$("#rg2-name-entry").val();if(a?$("#rg2-name").addClass("valid"):$("#rg2-name").removeClass("valid"),(t=$("#rg2-time-entry").val()).match(/\d+[:.][0-5]\d$/)?$("#rg2-time").addClass("valid"):($("#rg2-time").removeClass("valid"),t=null),a&&t){for(t=t.replace(".",":"),this.gpstrack.routeData.name=a,this.gpstrack.routeData.resultid=0,this.gpstrack.routeData.totaltime=t,this.gpstrack.routeData.startsecs=0,this.gpstrack.routeData.time[0]=rg2.utils.getSecsFromHHMMSS(t),this.gpstrack.routeData.totalsecs=rg2.utils.getSecsFromHHMMSS(t),this.nextControl=1,r=(e=rg2.courses.getCourseLegLengths(this.gpstrack.routeData.courseid))[e.length-1],s=[],i=0;i<e.length;i+=1)s[i]=parseInt(e[i]/r*this.gpstrack.routeData.totalsecs,10);this.gpstrack.routeData.splits=s,this.previousValidControlIndex=0,rg2.redraw(!1),this.startDrawing()}},startDrawing:function(){$("#btn-three-seconds").button("enable"),$("#rg2-load-gps-file").val(null).button("enable"),rg2.redraw(!1)},alignMapToAngle:function(t){var e;rg2.options.alignMap&&t<this.controlx.length-1&&(e=this.isScoreCourse?rg2.utils.getAngle(this.controlx[t],this.controly[t],this.controlx[t+1],this.controly[t+1]):this.angles[t],rg2.alignMap(e+Math.PI/2,this.controlx[t],this.controly[t]))},addNewPoint:function(t,e){this.closeEnough(t,e)?(this.addRouteDataPoint(this.controlx[this.nextControl],this.controly[this.nextControl]),this.alignMapToAngle(this.nextControl),this.previousValidControlIndex=this.nextControl,this.nextControl=this.getNextValidControl(this.nextControl),this.nextControl===this.controlx.length&&$("#btn-save-route").button("enable")):this.addRouteDataPoint(Math.round(t),Math.round(e)),$("#btn-undo").button("enable"),rg2.redraw(!1)},getNextValidControl:function(t){var e,r=this.gpstrack.routeData.splits;if(2===r.length)return t+1;for(e=t+1;e<r.length;e+=1)if(r[e]!==r[e-1])return e;return r.length},getPreviousValidControl:function(t){var e,r=this.gpstrack.routeData.splits;if(2===r.length)return t-1;for(e=t-1;0<e;--e)if(r[e]!==r[e-1])return e;return 0},addRouteDataPoint:function(t,e){this.gpstrack.routeData.x.push(t),this.gpstrack.routeData.y.push(e)},undoGPSAdjust:function(){var t=this.gpstrack;t.baseX=t.savedBaseX.slice(0),t.baseY=t.savedBaseY.slice(0),t.routeData.x=t.savedBaseX.slice(0),t.routeData.y=t.savedBaseY.slice(0),t.handles.undo(),$("#btn-undo-gps-adjust").button("disable"),rg2.redraw(!1)},undoLastPoint:function(){var t=this.gpstrack.routeData.x.length;1<t&&(this.controlx[this.previousValidControlIndex]===this.gpstrack.routeData.x[t-1]&&this.controly[this.previousValidControlIndex]===this.gpstrack.routeData.y[t-1]&&(this.nextControl===this.controlx.length&&$("#btn-save-route").button("disable"),this.nextControl=this.previousValidControlIndex,this.previousValidControlIndex=this.getPreviousValidControl(this.nextControl),this.alignMapToAngle(this.nextControl-1)),this.gpstrack.routeData.x.pop(),this.gpstrack.routeData.y.pop()),1<this.gpstrack.routeData.x.length?$("#btn-undo").button("enable"):$("#btn-undo").button("disable"),rg2.redraw(!1)},saveGPSRoute:function(){var t,e,r=this.gpstrack.routeData.time[this.gpstrack.routeData.time.length-1]-this.gpstrack.routeData.time[0];for(this.gpstrack.routeData.totaltime=rg2.utils.formatSecsAsMMSS(r),r=60*(new Date).getTimezoneOffset(),this.gpstrack.routeData.startsecs=this.gpstrack.routeData.time[0]-r,e=this.gpstrack.routeData.x.length,t=0;t<e;t+=1)this.gpstrack.routeData.x[t]=Math.round(this.gpstrack.routeData.x[t]),this.gpstrack.routeData.y[t]=Math.round(this.gpstrack.routeData.y[t]),this.gpstrack.routeData.time[t]-=this.gpstrack.routeData.startsecs;for(this.gpstrack.routeData.resultid+=rg2.config.GPS_RESULT_OFFSET;rg2.results.resultIDExists(this.gpstrack.routeData.resultid);)this.gpstrack.routeData.resultid+=rg2.config.GPS_RESULT_OFFSET,this.gpstrack.routeData.name+="*";this.gpstrack.routeData.comments=$("#rg2-new-comments").val(),$("#btn-undo-gps-adjust").button("disable"),this.setDeltas(),this.postRoute()},saveRoute:function(){this.gpstrack.routeData.comments=$("#rg2-new-comments").val(),this.gpstrack.routeData.controlx=this.controlx,this.gpstrack.routeData.controly=this.controly,this.gpstrack.routeData.controlx.splice(0,1),this.gpstrack.routeData.controly.splice(0,1),this.setDeltas(),this.postRoute(),0!==this.gpstrack.routeData.resultid&&this.gpstrack.routeData.resultid!=rg2.GPS_RESULT_OFFSET||this.gpstrack.routeData.splits.splice(0,1)},setDeltas:function(){for(var t=this.gpstrack.routeData.x.length-1;0<t;--t)this.gpstrack.routeData.x[t]=this.gpstrack.routeData.x[t]-this.gpstrack.routeData.x[t-1],this.gpstrack.routeData.y[t]=this.gpstrack.routeData.y[t]-this.gpstrack.routeData.y[t-1];for(t=this.gpstrack.routeData.time.length-1;0<t;--t)this.gpstrack.routeData.time[t]=this.gpstrack.routeData.time[t]-this.gpstrack.routeData.time[t-1]},postRoute:function(){var t=rg2Config.json_url+"?type=addroute&id="+this.gpstrack.routeData.eventid,e=JSON.stringify(this.gpstrack.routeData),r=this;document.getElementById("rg2-container").style.cursor="wait",$.ajax({data:e,type:"POST",url:t,dataType:"json",success:function(t){t.ok?r.routeSaved(t):rg2.utils.showWarningDialog(r.gpstrack.routeData.name,rg2.t("Your route was not saved. Please try again"))},error:function(){rg2.utils.showWarningDialog(r.gpstrack.routeData.name,rg2.t("Your route was not saved. Please try again"))},complete:function(){document.getElementById("rg2-container").style.cursor="default"}})},routeSaved:function(t){rg2.utils.showShareDialog(this.gpstrack.routeData.name,t.newid,rg2.t("Your route has been saved")+"."),rg2.saveDrawnRouteDetails({eventid:parseInt(t.eventid,10),id:t.newid,token:t.token}),rg2.loadEvent(rg2.events.getActiveEventID())},confirmDeleteRoute:function(t){this.routeToDelete=t,(t={selector:"<div id='route-delete-dialog'>This route will be permanently deleted. Are you sure?</div>",title:"Confirm route delete",classes:"rg2-confirm-route-delete-dialog",doText:"Delete route"}).onDo=this.doDeleteRoute.bind(this),t.onCancel=this.doCancelDeleteRoute.bind(this),rg2.utils.createModalDialog(t)},doCancelDeleteRoute:function(){$("#route-delete-dialog").dialog("destroy")},doDeleteRoute:function(){var t,e;$("#route-delete-dialog").dialog("destroy"),e=rg2.results.getDeletionInfo(this.routeToDelete),t=rg2Config.json_url+"?type=deletemyroute&id="+rg2.events.getKartatEventID()+"&routeid="+e.id,e=JSON.stringify({token:e.token}),document.getElementById("rg2-container").style.cursor="wait",$.ajax({data:e,type:"POST",url:t,dataType:"json",success:function(t){t.ok?(rg2.utils.showWarningDialog(rg2.t("Route deleted"),rg2.t("Route has been deleted")),rg2.removeDrawnRouteDetails({eventid:parseInt(t.eventid,10),id:parseInt(t.routeid,10)}),rg2.getEvents()):rg2.utils.showWarningDialog(rg2.t("Delete failed"),rg2.t("Delete failed"))},error:function(t,e){rg2.utils.showWarningDialog(rg2.t("Delete failed"),rg2.t("Delete failed"))},complete:function(){document.getElementById("rg2-container").style.cursor="default"}})},waitThreeSeconds:function(){this.addRouteDataPoint(this.gpstrack.routeData.x[this.gpstrack.routeData.x.length-1],this.gpstrack.routeData.y[this.gpstrack.routeData.y.length-1]),rg2.redraw(!1)},closeEnough:function(t,e){var r=rg2.options.snap?8:2;return Math.abs(t-this.controlx[this.nextControl])<r&&Math.abs(e-this.controly[this.nextControl])<r},adjustTrack:function(t,e,r){var s,i,a;$("#btn-move-all").prop("checked")||r===rg2.config.RIGHT_CLICK?rg2.ctx.translate(e.x-t.x,e.y-t.y):0<(r=this.gpstrack).handles.handlesLocked()?1===r.handles.handlesLocked()?this.scaleRotateAroundSingleLockedPoint(t,e,r.handles.getSingleLockedHandle(),r.handles.getStartHandle().time,r.handles.getFinishHandle().time):void 0===(s=r.handles.getHandleClicked(t))||s.locked||(i=r.handles.getEarliestLockedHandle(),a=r.handles.getLatestLockedHandle(),i.time>=s.time?this.scaleRotateAroundSingleLockedPoint(t,e,i,r.handles.getStartHandle().time,i.time):a.time<s.time?this.scaleRotateAroundSingleLockedPoint(t,e,a,a.time,r.handles.getFinishHandle().time):this.adjustBetweenTwoLockedPoints(t,e,s)):this.dragTrack(e.x-t.x,e.y-t.y)},adjustBetweenTwoLockedPoints:function(t,e,r){var s=this.gpstrack.handles.getPreviousLockedHandle(r),i=this.gpstrack.handles.getNextLockedHandle(r);this.scaleRotateAroundSingleLockedPoint(t,e,s,s.time,r.time),this.scaleRotateAroundSingleLockedPoint(t,e,i,r.time,i.time)},scaleRotateAroundSingleLockedPoint:function(t,e,r,s,i){for(var a,o=rg2.utils.getDistanceBetweenPoints(e.x,e.y,r.x,r.y)/rg2.utils.getDistanceBetweenPoints(t.x,t.y,r.x,r.y),n=rg2.utils.getAngle(e.x,e.y,r.x,r.y)-rg2.utils.getAngle(t.x,t.y,r.x,r.y),l=s;l<=i;l+=1)a=rg2.utils.rotatePoint(this.gpstrack.baseX[l]-r.x,this.gpstrack.baseY[l]-r.y,n),this.gpstrack.routeData.x[l]=a.x*o+r.x,this.gpstrack.routeData.y[l]=a.y*o+r.y;this.gpstrack.handles.alignHandles(this.gpstrack.routeData)},dragTrack:function(t,e){for(var r=this.gpstrack,s=0;s<r.baseX.length;s+=1)r.routeData.x[s]=r.baseX[s]+t,r.routeData.y[s]=r.baseY[s]+e;r.handles.dragHandles(t,e)},drawNewTrack:function(){var t=rg2.getOverprintDetails();rg2.ctx.lineWidth=t.overprintWidth,rg2.ctx.strokeStyle=rg2.config.RED,rg2.ctx.fillStyle=rg2.config.RED_30,0<this.nextControl&&!this.gpstrack.fileLoaded&&(rg2.ctx.beginPath(),this.nextControl<this.controlx.length-1?this.drawCircle(t.controlRadius):(this.drawCircle(t.finishInnerRadius),rg2.ctx.stroke(),rg2.ctx.beginPath(),this.drawCircle(t.finishOuterRadius)),rg2.ctx.fillRect(this.controlx[this.nextControl]-1,this.controly[this.nextControl]-1,3,3),rg2.ctx.stroke()),rg2.ctx.strokeStyle=this.trackColor,rg2.ctx.fillStyle=this.trackColour,rg2.ctx.font="10pt Arial",rg2.ctx.textAlign="left",rg2.ctx.globalAlpha=.6,this.drawRoute(),this.gpstrack.handles.drawHandles()},drawCircle:function(t){rg2.ctx.arc(this.controlx[this.nextControl],this.controly[this.nextControl],t,0,2*Math.PI,!1),rg2.ctx.fill()},drawRoute:function(){var t,e;if(1<this.gpstrack.routeData.x.length){for(rg2.ctx.beginPath(),rg2.ctx.moveTo(this.gpstrack.routeData.x[0],this.gpstrack.routeData.y[0]),e=this.gpstrack.routeData.x.length,t=1;t<e;t+=1)rg2.ctx.lineTo(this.gpstrack.routeData.x[t],this.gpstrack.routeData.y[t]);rg2.ctx.stroke()}}},rg2.Draw=t}(),function(){function t(t){switch(this.kartatid=t.id,this.mapid=t.mapid,this.format=t.format,this.name=t.name,this.date=t.date,this.club=t.club,this.rawtype=t.type,t.type){case"I":this.type="International event";break;case"N":this.type="National event";break;case"R":this.type="Regional event";break;case"L":this.type="Local event";break;case"T":this.type="Training event";break;default:this.type="Unknown"}this.comment=t.comment,this.locked=t.locked,this.courses=0,this.setMapDetails(t)}t.prototype={Constructor:t,setMapDetails:function(t){void 0===t.suffix?this.mapfilename=this.mapid+".jpg":this.mapfilename=this.mapid+"."+t.suffix,this.worldfile=new rg2.Worldfile(t)}},rg2.Event=t}(),function(){function t(){this.events=[],this.activeEventID=null}t.prototype={Constructor:t,deleteAllEvents:function(){this.events.length=0,this.activeEventID=null},addEvent:function(t){this.events.push(t)},getEventInfo:function(t){var e;return t=t||this.getKartatEventID(),t=this.getEventIDForKartatID(t),(e=this.events[t]).id=t,e.controls=rg2.controls.getControlCount(),e.exclude=rg2.courses.getExcludedText(),e},getKartatEventID:function(){return this.events[this.activeEventID].kartatid},getActiveMapID:function(){return this.events[this.activeEventID].mapid},getMapFileName:function(){return this.events[this.activeEventID].mapfilename},setActiveEventID:function(t){this.activeEventID=null===t?null:parseInt(t,10)},getActiveEventID:function(){return this.activeEventID},getEventIDForKartatID:function(t){for(var e=0;e<this.events.length;e+=1)if(this.events[e].kartatid===t)return e},getActiveEventDate:function(){return null!==this.activeEventID?this.events[this.activeEventID].date:""},getActiveEventName:function(){return null!==this.activeEventID?this.events[this.activeEventID].name:"Routegadget 2"},getEventEditDropdown:function(t){var e;for(t.options.add(rg2.utils.generateOption(null,"No event selected")),e=this.events.length-1;-1<e;--e)t.options.add(rg2.utils.generateOption(this.events[e].kartatid,this.events[e].kartatid+": "+this.events[e].date+": "+rg2.he.decode(this.events[e].name)));return t},isScoreEvent:function(){return null!==this.activeEventID&&(this.events[this.activeEventID].format===rg2.config.FORMAT_SCORE_EVENT||this.events[this.activeEventID].format===rg2.config.FORMAT_SCORE_EVENT_NO_RESULTS)},hasResults:function(){return null===this.activeEventID||this.events[this.activeEventID].format===rg2.config.FORMAT_NORMAL||this.events[this.activeEventID].format===rg2.config.FORMAT_SCORE_EVENT},mapIsGeoreferenced:function(){return null!==this.activeEventID&&this.events[this.activeEventID].worldfile.valid},eventIsLocked:function(){return null!==this.activeEventID&&this.events[this.activeEventID].locked},getLengthUnits:function(){return null!==this.activeEventID&&this.mapIsGeoreferenced()?"m":"px"},getMetresPerPixel:function(){var t,e,r,s,i,a;if(null!==this.activeEventID&&this.mapIsGeoreferenced())return s=rg2.getMapSize(),i=rg2.utils.getDistanceBetweenPoints(0,0,s.width,s.height),e=(a=this.events[this.activeEventID].worldfile).C,t=a.F,r=a.A*s.width+a.B*s.height+a.C,s=a.D*s.width+a.E*s.height+a.F,rg2.utils.getLatLonDistance(t,e,s,r)/i},getWorldFile:function(){return this.events[this.activeEventID].worldfile},formatEventsAsMenu:function(){for(var t,e="",r=this.events.length-1;0<=r;--r)t=rg2.t(this.events[r].type)+": "+this.events[r].date,this.events[r].worldfile.valid&&(t+=": "+rg2.t("Map is georeferenced")),""!==this.events[r].comment&&(t+=": "+this.events[r].comment),e+='<li title="'+t+'" id=event-'+r+"><a href='#"+this.events[r].kartatid+"'>",""!==this.events[r].comment&&(e+="<i class='fa fa-info-circle event-info-icon' id='info-"+r+"'></i>"),this.events[r].worldfile.valid&&(e+="<i class='fa fa-globe-americas event-info-icon' id='info-"+r+"'>&nbsp</i>"),this.events[r].locked&&(e+="<i class='fa fa-lock event-info-icon' id='info-"+r+"'>&nbsp</i>"),e+=this.events[r].date+": "+this.events[r].name+"</a></li>";return e},mapIDIsInUse:function(e){for(let t=0;t<this.events.length;t+=1)if(this.events[t].mapid===e)return!0;return!1}},rg2.Events=t}(),function(){function t(){this.lat=[],this.lon=[],this.startOffset=0,this.baseX=[],this.baseY=[],this.handles=new rg2.Handles,this.savedBaseX=[],this.savedBaseY=[],this.fileLoaded=!1,this.fileName="",this.fileType="",this.routeData=new rg2.RouteData,this.xml="",this.autofitOffset=null}t.prototype={Constructor:t,initialiseGPS:function(){this.lat.length=0,this.lon.length=0,this.startOffset=0,this.baseX.length=0,this.baseY.length=0,this.handles.deleteAllHandles(),this.savedBaseX.length=0,this.savedBaseY.length=0,this.fileLoaded=!1,this.routeData.x.length=0,this.routeData.y.length=0,this.routeData.time.length=0},uploadGPS:function(t){var e,r=new FileReader;this.fileName=t.target.files[0].name,r.onerror=function(){rg2.utils.showWarningDialog("GPS file problem","Unable to open GPS file.")},e=this,r.onload=function(t){try{e.fileType=e.fileName.slice(-3).toLowerCase(),"gpx"!==e.fileType&&"tcx"!==e.fileType?rg2.utils.showWarningDialog("GPS file problem","File type not recognised. Please check you have selected the correct file."):($("#rg2-load-gps-file").button("disable"),e.xml=$.parseXML(t.target.result),e.processGPSFile())}catch(t){rg2.utils.showWarningDialog("GPS file problem","File is not valid XML. Please check you have selected the correct file.")}},r.readAsText(t.target.files[0])},processGPSFile:function(){this.initialiseGPS(),"gpx"===this.fileType?this.processGPX():this.processTCX(),this.processGPSTrack()},processGPX:function(){for(var t,e,r,s,i=this.xml.getElementsByTagName("trkseg"),a=0;a<i.length;a+=1)for(t=i[a].getElementsByTagName("trkpt"),this.startOffset=this.getStartOffset(t[0].getElementsByTagName("time")[0].textContent),e=0;e<t.length;e+=1)r=t[e].getAttribute("lat"),s=t[e].getAttribute("lon"),"0"!==r&&"0"!==s&&(this.lat.push(r),this.lon.push(s),this.routeData.time.push(this.getSecsFromTrackpoint(t[e].getElementsByTagName("time")[0].textContent)))},processTCX:function(){for(var t,e,r,s,i=this.xml.getElementsByTagName("Track"),a=0;a<i.length;a+=1)for(t=i[a].getElementsByTagName("Trackpoint"),this.startOffset=this.getStartOffset(t[0].getElementsByTagName("Time")[0].textContent),e=0;e<t.length;e+=1)0<t[e].getElementsByTagName("Position").length&&(r=(s=t[e].getElementsByTagName("Position"))[0].getElementsByTagName("LatitudeDegrees")[0].textContent,s=s[0].getElementsByTagName("LongitudeDegrees")[0].textContent,"0"!==r)&&"0"!==s&&(this.lat.push(r),this.lon.push(s),this.routeData.time.push(this.getSecsFromTrackpoint(t[e].getElementsByTagName("Time")[0].textContent)))},getStartOffset:function(t){t=parseInt(Date.parse(t.substr(0,11)+"00:00:00Z")/1e3,10);return isNaN(t)?0:t},getSecsFromTrackpoint:function(t){t=parseInt(Date.parse(t)/1e3,10);return isNaN(t)?0:t-this.startOffset},processGPSTrack:function(){rg2.events.mapIsGeoreferenced()?(this.applyWorldFile(),this.trackMatchesMapCoordinates()?$("#btn-move-all").prop("checked",!0):(rg2.utils.showWarningDialog("GPS file problem","Your GPS file does not match the map co-ordinates. Please check you have selected the correct file."),this.fitTrackInsideCourse())):this.fitTrackInsideCourse(),this.lat.length=0,this.lon.length=0,this.expandToOneSecondInterval(),this.baseX=this.routeData.x.slice(0),this.baseY=this.routeData.y.slice(0),this.addStartAndFinishHandles(),this.fileLoaded=!0,2<this.routeData.splits.length&&$("#btn-autofit-gps").button("enable"),$("#btn-save-gps-route").button("enable"),rg2.redraw(!1)},adjustOffset:function(t){this.autofitOffset=t,this.processGPSFile(),this.autofitTrack()},expandToOneSecondInterval:function(){var t,e,r,s,i,a,o=[],n=[],l=[],c=this.routeData,u=c.time[0],h=c.x[0],g=c.y[0];for(o[0]=h,n[0]=g,l[0]=c.time[0],e=l[0]+1,t=1;t<c.x.length;t+=1)if(0<(r=c.time[t]-u)){for(s=(c.x[t]-h)/r,i=(c.y[t]-g)/r,a=1;a<=r;)o.push(h+s*a),n.push(g+i*a),l.push(e),e+=1,a+=1;h=c.x[t],g=c.y[t],u=e-1}this.routeData.x=o.slice(0),this.routeData.y=n.slice(0),this.routeData.time=l.slice(0)},autofitTrack:function(){$("#btn-move-all").prop("checked",!1),this.handles.deleteAllHandles(),this.addStartAndFinishHandles(),null===this.autofitOffset&&(this.autofitOffset=this.getOffset(),rg2.ui.setAutofitSpinner(this.autofitOffset));for(let t=1;t<this.routeData.controlsToAdjust;t+=1){var e;this.routeData.splits[t]!==this.routeData.splits[t-1]&&(e=this.routeData.splits[t]+this.autofitOffset)<this.baseX.length&&0<=e&&(this.handles.addHandle(this.routeData.x[e],this.routeData.y[e],e),rg2.drawing.adjustTrack({x:this.routeData.x[e],y:this.routeData.y[e]},{x:this.routeData.controlx[t],y:this.routeData.controly[t]}),this.handles.lockHandleByTime(e),this.baseX=this.routeData.x.slice(0),this.baseY=this.routeData.y.slice(0),this.handles.rebaselineXY())}$("#btn-autofit-gps").button("disable"),$("#btn-undo-gps-adjust").button("disable"),rg2.redraw(!1)},getOffset:function(){for(var t,e,r,s,i=this.getSpeedAverage(),a=[],o=0;o<=20;o+=1)a[o]=0;for(o=1;o<this.routeData.controlsToAdjust;o+=1)if((e=this.routeData.splits[o])!==this.routeData.splits[o-1])for(10<=e&&e+10<i.length&&(r=i.slice(e-10,e+10+1)),t=0;t<=20;t+=1)a[t]+=r[t];for(s=0,o=1;o<a.length;o+=1)a[o]<a[s]&&(s=o);return s-10},getSpeedAverage:function(){var t,e=[],r=[];for(e[0]=0,t=1;t<this.routeData.x.length;t+=1)e[t]=rg2.utils.getDistanceBetweenPoints(this.routeData.x[t],this.routeData.y[t],this.routeData.x[t-1],this.routeData.y[t-1]);for(t=1;t<this.routeData.x.length-1;t+=1)r[t]=(e[t-1]+e[t]+e[t+1])/3;return r[0]=e[0],r[this.routeData.x.length-1]=e[this.routeData.x.length-1],r},trackMatchesMapCoordinates:function(){var t=Math.min.apply(Math,this.routeData.x),e=Math.max.apply(Math,this.routeData.x),r=Math.min.apply(Math,this.routeData.y),s=Math.max.apply(Math,this.routeData.y),i=rg2.getMapSize();return 0<e&&t<i.width&&r<i.height&&0<s},applyWorldFile:function(){for(var t=rg2.events.getWorldFile(),e=0;e<this.lat.length;e+=1)this.routeData.x[e]=Math.round((t.E*this.lon[e]-t.B*this.lat[e]+t.xCorrection)/t.AEDB),this.routeData.y[e]=Math.round((-1*t.D*this.lon[e]+t.A*this.lat[e]+t.yCorrection)/t.AEDB)},addStartAndFinishHandles:function(){this.handles.addHandle(this.baseX[0],this.baseY[0],0),this.handles.addHandle(this.baseX[this.baseX.length-1],this.baseY[this.baseY.length-1],this.baseY.length-1)},fitTrackInsideCourse:function(){var t,e,r,s=this.getLatLonInfo(),i=this.getControlInfo(),a=(i.maxX-i.minX)/(s.maxLon-s.minLon),o=(i.maxY-i.minY)/(s.maxLat-s.minLat);for(o<a?o=a*s.latCorrection/s.lonCorrection:a=o*s.lonCorrection/s.latCorrection,this.routeData.x[0]=(this.lon[0]-s.minLon)*a+i.minX,this.routeData.y[0]=-1*(this.lat[0]-s.maxLat)*o+i.minY,e=i.minX-(this.routeData.x[0]-i.x[0]),r=i.minY-(this.routeData.y[0]-i.y[0]),t=0;t<this.lat.length;t+=1)this.routeData.x[t]=(this.lon[t]-s.minLon)*a+e,this.routeData.y[t]=-1*(this.lat[t]-s.maxLat)*o+r},getLatLonInfo:function(){var t={};return t.maxLat=Math.max.apply(Math,this.lat),t.maxLon=Math.max.apply(Math,this.lon),t.minLat=Math.min.apply(Math,this.lat),t.minLon=Math.min.apply(Math,this.lon),t.lonCorrection=rg2.utils.getLatLonDistance(t.minLat,t.maxLon,t.minLat,t.minLon)/(t.maxLon-t.minLon),t.latCorrection=rg2.utils.getLatLonDistance(t.minLat,t.minLon,t.maxLat,t.minLon)/(t.maxLat-t.minLat),t},getControlInfo:function(){var t,e=rg2.drawing.getControlXY();return e.minX=Math.min.apply(Math,e.x),e.maxX=Math.max.apply(Math,e.x),e.minY=Math.min.apply(Math,e.y),e.maxY=Math.max.apply(Math,e.y),(e.maxY-e.minY<100||e.maxX-e.minX<100)&&(e.minX=0,e.minY=0,t=rg2.getMapSize(),e.maxX=t.width,e.maxY=t.height),e}},rg2.GPSTrack=t}(),function(){function s(t,e,r,s){this.x=t,this.y=e,this.basex=t,this.basey=e,this.undox=t,this.undoy=e,this.locked=!1,this.time=r,this.index=s}function t(){this.handles=[]}t.prototype={Constructor:t,addHandle:function(t,e,r){this.handles.push(new s(t,e,r,this.handles.length)),this.handles.sort(function(t,e){return t.time-e.time}),this.renumberHandles()},deleteHandle:function(t){0!==t&&t!==this.handles.length-1&&(this.handles.splice(t,1),this.renumberHandles())},renumberHandles:function(){for(var t=0;t<this.handles.length;t+=1)this.handles[t].index=t},lockHandle:function(t){this.handles[t].locked=!0},lockHandleByTime:function(t){for(var e=0;e<this.handles.length;e+=1)this.handles[e].time===t&&(this.handles[e].locked=!0)},unlockAllHandles:function(){for(var t=0;t<this.handles.length;t+=1)this.handles[t].locked=!1},unlockHandle:function(t){this.handles[t].locked=!1},handlesLocked:function(){for(var t=0,e=0;e<this.handles.length;e+=1)this.handles[e].locked&&(t+=1);return t},deleteAllHandles:function(){this.handles.length=0},rebaselineXY:function(){this.copyHandleFields("","base")},saveForUndo:function(){this.copyHandleFields("base","undo")},undo:function(){this.copyHandleFields("undo","base"),this.copyHandleFields("undo","")},copyHandleFields:function(t,e){for(var r=0;r<this.handles.length;r+=1)this.handles[r][e+"x"]=this.handles[r][t+"x"],this.handles[r][e+"y"]=this.handles[r][t+"y"]},getStartHandle:function(){return this.handles[0]},getFinishHandle:function(){return this.handles[this.handles.length-1]},getHandleClicked:function(t){for(var e=0;e<this.handles.length;e+=1)if(rg2.utils.getDistanceBetweenPoints(t.x,t.y,this.handles[e].basex,this.handles[e].basey)<=rg2.config.HANDLE_DOT_RADIUS)return this.handles[e]},getEarliestLockedHandle:function(){for(var t=0;t<this.handles.length;t+=1)if(this.handles[t].locked)return this.handles[t]},getLatestLockedHandle:function(){for(var t=this.handles.length-1;0<t;--t)if(this.handles[t].locked)return this.handles[t]},getPreviousLockedHandle:function(t){for(var e=t.index-1;0<=e;--e)if(this.handles[e].locked)return this.handles[e]},getNextLockedHandle:function(t){for(var e=t.index+1;e<this.handles.length;e+=1)if(this.handles[e].locked)return this.handles[e]},getSingleLockedHandle:function(){return this.getEarliestLockedHandle()},dragHandles:function(t,e){for(var r=0;r<this.handles.length;r+=1)this.handles[r].x=this.handles[r].basex+t,this.handles[r].y=this.handles[r].basey+e},drawHandles:function(){for(var t=0;t<this.handles.length;t+=1)rg2.ctx.lineWidth=1,!0===this.handles[t].locked?(rg2.ctx.fillStyle=rg2.config.RED_30,rg2.ctx.strokeStyle=rg2.config.RED):(rg2.ctx.fillStyle=rg2.config.GREEN_30,rg2.ctx.strokeStyle=rg2.config.GREEN),rg2.ctx.beginPath(),rg2.ctx.arc(this.handles[t].x,this.handles[t].y,rg2.config.HANDLE_DOT_RADIUS,0,2*Math.PI,!1),rg2.ctx.fill(),rg2.ctx.stroke()},alignHandles:function(t){for(var e=0;e<this.handles.length;e+=1)this.handles[e].x=t.x[this.handles[e].time],this.handles[e].y=t.y[this.handles[e].time]}},rg2.Handles=t}(),function(){function s(t,e,r){this.description=t,this.name=e,this.params=r}function t(){var t,e,r;if(this.georefsystems=[],this.georefsystems.push(new s("Not georeferenced","none","")),this.georefsystems.push(new s("GB National Grid","EPSG:27700","+proj=tmerc +lat_0=49 +lon_0=-2 +k=0.9996012717 +x_0=400000 +y_0=-100000 +ellps=airy +datum=OSGB36 +units=m +no_defs")),this.georefsystems.push(new s("Google EPSG:900913","EPSG:900913","+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0 +k=1.0 +units=m +nadgrids=@null +no_defs")),void 0!==rg2Config.epsg_code){for(e=rg2Config.epsg_code.split("|"),r=rg2Config.epsg_params.split("|"),t=0;t<e.length;t+=1)this.georefsystems.push(new s(e[t].replace(" ",""),e[t].replace(" ",""),r[t]));this.defaultGeorefVal=e[0].replace(" ","")}else this.defaultGeorefVal="EPSG:27700"}function e(t){void 0===t.A?(this.valid=!1,this.A=0,this.B=0,this.C=0,this.D=0,this.E=0,this.F=0):(this.A=parseFloat(t.A),this.B=parseFloat(t.B),this.C=parseFloat(t.C),this.D=parseFloat(t.D),this.E=parseFloat(t.E),this.F=parseFloat(t.F),this.valid=!0,this.AEDB=t.A*t.E-t.D*t.B,this.xCorrection=t.B*t.F-t.E*t.C,this.yCorrection=t.D*t.C-t.A*t.F)}t.prototype={Constructor:t,getDefault:function(){return this.defaultGeorefVal},getDropdown:function(t){for(var e=0;e<this.georefsystems.length;e+=1)t.options.add(rg2.utils.generateOption(this.georefsystems[e].name,this.georefsystems[e].description));return t},getParams:function(t){for(var e=0;e<this.georefsystems.length;e+=1)if(this.georefsystems[e].name===t)return this.georefsystems[e].params;return""}},e.prototype={Constructor:e,getX:function(t,e){return Math.round((this.E*t-this.B*e+this.xCorrection)/this.AEDB)},getY:function(t,e){return Math.round((-1*this.D*t+this.A*e+this.yCorrection)/this.AEDB)},getLon:function(t,e){return this.A*t+this.B*e+this.C},getLat:function(t,e){return this.D*t+this.E*e+this.F}},rg2.Georefs=t,rg2.Worldfile=e,rg2.Map=function(t){void 0!==t?(this.mapid=t.mapid,this.name=t.name,this.worldfile=new e(t),this.localworldfile=new e({A:t.localA,B:t.localB,C:t.localC,D:t.localD,E:t.localE,F:t.localF}),void 0===t.mapfilename?this.mapfilename=this.mapid+".jpg":this.mapfilename=t.mapfilename):(this.mapid=0,this.name="",this.worldfile=new e(0),this.localworldfile=new e(0)),this.xpx=[],this.ypx=[],this.lat=[],this.lon=[]}}(),function(){function t(){this.measuring=!1,this.dragging=!1,this.colours=["#ff00ff","#0000ff","#00ff00","#ff0000","#00ffff"],this.colourIndex=0,this.overlays=[],this.currentOverlay=this.initialiseOverlay(),this.units="px",this.metresPerPixel=1,this.dotSize=5,this.lineWidth=3,this.initialiseUI(),this.updateDetails(),rg2.redraw(!1)}t.prototype={Constructor:t,initialiseOverlay:function(){var t={};return t.id=String.fromCharCode(this.overlays.length+65),t.colour=this.getNextColour(),t.x=[],t.y=[],t.length=0,t.started=!1,t.idx=void 0,t},mapLoaded:function(){this.metresPerPixel=rg2.events.getMetresPerPixel(),void 0===this.metresPerPixel?(this.metresPerPixel=1,this.units="px"):this.units="m"},getNextColour:function(){return this.colourIndex=(this.colourIndex+1)%this.colours.length,this.colours[this.colourIndex]},startOverlay:function(){this.currentOverlay.started=!0,this.updateDetails()},endOverlay:function(){this.currentOverlay.idx=this.overlays.length,this.overlays.push(this.currentOverlay),this.currentOverlay=this.initialiseOverlay(),this.updateDetails()},deleteOverlay:function(t){this.overlays.splice(t,1),this.updateOverlays(),this.updateDetails(),rg2.redraw(!1)},deleteAllOverlays:function(){this.overlays.length=0,this.currentOverlay=this.initialiseOverlay(),this.updateOverlays(),this.updateDetails(),rg2.redraw(!1)},updateOverlays:function(){for(let t=this.colourIndex=0;t<this.overlays.length;t+=1)this.overlays[t].id=String.fromCharCode(t+65),this.overlays[t].idx=t,this.overlays[t].colour=this.getNextColour();this.currentOverlay.id=String.fromCharCode(this.overlays.length+65),this.currentOverlay.idx=this.overlays.length,this.currentOverlay.colour=this.getNextColour()},mouseUp:function(t,e){this.measuring&&(this.dragging=!1,this.currentOverlay.started||this.startOverlay(),t===this.currentOverlay.x[this.currentOverlay.x.length-1]&&e===this.currentOverlay.y[this.currentOverlay.x.length-1]?this.endOverlay():(this.currentOverlay.x.push(t),this.currentOverlay.y.push(e),this.currentOverlay.length=this.calculateLength(this.currentOverlay.x,this.currentOverlay.y)*this.metresPerPixel,this.updateDetails(),rg2.redraw(!1)))},mouseDrag:function(r,t){if(!this.measuring)return!1;if(!this.dragging)for(let e=0;e<this.overlays.length;e+=1)for(let t=0;t<this.overlays[e].x.length;t+=1)this.closeEnough(r.x,r.y,this.overlays[e].x[t],this.overlays[e].y[t])&&(this.dragging=!0,this.dragOverlay=e,this.dragPoint=t);return!!this.dragging&&(this.overlays[this.dragOverlay].x[this.dragPoint]=parseInt(t.x,10),this.overlays[this.dragOverlay].y[this.dragPoint]=parseInt(t.y,10),this.overlays[this.dragOverlay].length=this.calculateLength(this.overlays[this.dragOverlay].x,this.overlays[this.dragOverlay].y)*this.metresPerPixel,this.updateDetails(),!0)},closeEnough:function(t,e,r,s){return Math.abs(t-r)<10&&Math.abs(e-s)<10},dragEnded:function(){this.dragging=!1},initialiseUI:function(){const t=this;$("#btn-measure").click(function(){null!==rg2.events.getActiveEventID()&&($("#rg2-map-canvas").css("cursor","crosshair"),t.measuring=!0,rg2.redraw(!1),$("#rg2-overlay-dialog").dialog({position:{my:"right-10 top+10",at:"right top",of:"#rg2-map-canvas"},width:200,minWidth:150,title:rg2.t("Measure"),dialogClass:"rg2-overlay-dialog",close:function(){t.measuring=!1,$("#rg2-map-canvas").css("cursor","auto"),rg2.redraw(!1)}}),t.updateDetails())})},calculateLength:function(e,r){if(e.length<2)return 0;let s=0;for(let t=1;t<e.length;t+=1)s+=rg2.utils.getDistanceBetweenPoints(e[t-1],r[t-1],e[t],r[t]);return s},updateDetails:function(){let e="";for(let t=0;t<this.overlays.length;t+=1)e+=this.formatOverlay(this.overlays[t],!0);e+=this.formatOverlay(this.currentOverlay,!1),1<this.overlays.length&&(e=e+"<div>"+rg2.t("All")+"</div><div></div><div></div><div><i class='delete-all-overlays fa fa-trash'></i></div>"),$("#rg2-overlay-details").empty().append(e);var r=this;$(".delete-overlay").off().click(function(t){r.deleteOverlay(parseInt(t.target.id,10))}),$(".delete-all-overlays").off().click(function(){r.deleteAllOverlays()}),$(".end-overlay").off().click(function(){r.endOverlay()})},formatOverlay:function(t,e){let r="";return r=(r=r+"<div>"+t.id+"</div>")+"<div class='overlay-bar' style='--overlay-colour:"+t.colour+";'></div>",t.started?(r=r+"<div>"+parseInt(t.length,10)+this.units+"</div>",r=e?r+"<div><i class='delete-overlay fa fa-trash' id="+t.idx+"></i></div>":r+"<div><i class='end-overlay fa fa-save' id="+t.idx+"></i></div>"):r+="<div></div><div></div>",r},drawSingleOverlay:function(e,r){rg2.ctx.strokeStyle=e.colour,rg2.ctx.fillStyle=e.colour,rg2.ctx.beginPath(),rg2.ctx.moveTo(e.x[0],e.y[0]);for(let t=1;t<e.x.length;t+=1)rg2.ctx.lineTo(e.x[t],e.y[t]);rg2.ctx.stroke();for(let t=0;t<e.x.length;t+=1)rg2.ctx.beginPath(),rg2.ctx.arc(e.x[t],e.y[t],this.dotSize,0,2*Math.PI,!1),r?rg2.ctx.fill():rg2.ctx.stroke()},drawOverlays:function(){if(this.measuring){if(rg2.ctx.lineWidth=this.lineWidth,rg2.ctx.globalAlpha=.6,0<this.overlays.length)for(let t=0;t<this.overlays.length;t+=1)this.drawSingleOverlay(this.overlays[t],!0);this.currentOverlay.started&&(1===this.currentOverlay.x.length?(rg2.ctx.strokeStyle=this.currentOverlay.colour,rg2.ctx.fillStyle=this.currentOverlay.colour,rg2.ctx.beginPath(),rg2.ctx.arc(this.currentOverlay.x[0],this.currentOverlay.y[0],this.dotSize,0,2*Math.PI,!1),rg2.ctx.stroke()):this.drawSingleOverlay(this.currentOverlay,!1))}}},rg2.Overlay=t}(),function(){function t(){}for(var e,r=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],s=r.length,i=window.console=window.console||{};s;)i[e=r[--s]]||(i[e]=t)}(),function(){function t(t,e,r,s,i){this.resultid=t.resultid,this.rawid=this.resultid%rg2.config.GPS_RESULT_OFFSET,this.isScoreEvent=e,this.name=rg2.he.decode(t.name),this.initials=this.getInitials(this.name),this.starttime=t.starttime,this.time=t.time,"00"!==this.time&&"0"!==this.time||(this.time=""),this.timeInSecs=t.secs,this.position=t.position,this.status=t.status,this.canDelete=!1,this.showResult=!0,this.token=0,t.comments?this.comments=rg2.he.decode(t.comments):this.comments="",this.coursename=t.coursename,""===this.coursename&&(this.coursename=t.courseid.toString()),this.courseid=t.courseid,this.variant=t.variant,this.splits=this.adjustRawSplits(t.splits),e&&(this.scorex=s,this.scorey=i,this.scorecodes=r),this.initialiseTrack(t)}t.prototype={Constructor:t,initialiseTrack:function(t){var e;this.legpos=[],this.racepos=[],this.hasValidTrack=!1,this.displayTrack=!1,this.displayScoreCourse=!1,this.trackColour=null,this.trackx=[],this.tracky=[],this.speedColour=[],this.xysecs=[],this.resultid>=rg2.config.GPS_RESULT_OFFSET?(this.isGPSTrack=!0,e=rg2.results.getTimeAndSplitsForID(this.rawid),this.time=e.time,this.splits=e.splits,this.time===rg2.config.TIME_NOT_FOUND&&(this.time=t.time)):this.isGPSTrack=!1},adjustRawSplits:function(t){var e;for(t.splice(0,0,0),e=1;e<t.length;e+=1)t[e]<=0&&(t[e]=t[e-1]);return t[t.length-1]=Math.max(this.timeInSecs,t[t.length-2]),t},putTrackOnDisplay:function(){this.hasValidTrack&&(this.trackColour=rg2.colours.getNextColour(),this.displayTrack=!0)},removeTrackFromDisplay:function(){this.hasValidTrack&&(this.trackColour=null,this.displayTrack=!1)},addTrack:function(t){var e;for(this.trackx=t.x.split(",").map(function(t){return parseInt(t,10)}),this.tracky=t.y.split(",").map(function(t){return parseInt(t,10)}),e=1;e<this.trackx.length;e+=1)this.trackx[e]=this.trackx[e-1]+this.trackx[e],this.tracky[e]=this.tracky[e-1]+this.tracky[e];(this.isGPSTrack?this.expandGPSTrack():2===this.splits.length?this.expandTrackWithNoSplits():this.expandNormalTrack())&&rg2.courses.incrementTracksCount(this.courseid)},drawTrack:function(t){try{let s,i,a;if(this.displayTrack){this.isGPSTrack&&rg2.options.showGPSSpeed&&0===this.speedColour.length&&this.setSpeedColours();let e=0,r=this.xysecs.length;var o=this.splits[t.filterFrom],n=this.splits[t.filterTo];for(let t=0;t<this.xysecs.length;t+=1)this.xysecs[t]<o&&(e=t),this.xysecs[t]<=n&&(r=t);rg2.ctx.lineWidth=rg2.options.routeWidth,rg2.ctx.strokeStyle=this.trackColour,rg2.ctx.globalAlpha=rg2.options.routeIntensity,rg2.ctx.fillStyle=this.trackColour,rg2.ctx.font="10pt Arial",rg2.ctx.textAlign="left",rg2.ctx.beginPath(),rg2.ctx.moveTo(this.trackx[e],this.tracky[e]),s=this.trackx[e],i=this.tracky[e],a=0;for(let t=e+1;t<=r;t+=1)rg2.ctx.lineTo(this.trackx[t],this.tracky[t]),this.trackx[t]===s&&this.tracky[t]===i?a+=1:0<a&&((!this.isGPSTrack||this.isGPSTrack&&rg2.options.showThreeSeconds)&&rg2.ctx.fillText("+"+3*a,s+5,i+5),a=0),s=this.trackx[t],i=this.tracky[t],this.isGPSTrack&&rg2.options.showGPSSpeed&&(rg2.ctx.strokeStyle=this.speedColour[t],rg2.ctx.stroke(),rg2.ctx.beginPath(),rg2.ctx.moveTo(s,i));rg2.ctx.stroke()}}catch(t){console.log("Problem drawing track for result ID "+this.resultid)}},drawScoreCourse:function(){if(this.displayScoreCourse&&1<this.scorex.length){var e=rg2.getOverprintDetails(),r=(rg2.ctx.globalAlpha=rg2.config.FULL_INTENSITY,rg2.utils.getAngle(this.scorex[0],this.scorey[0],this.scorex[1],this.scorey[1]));rg2.controls.drawStart(this.scorex[0],this.scorey[0],"",r,e),r=[];for(let t=0;t<this.scorex.length-1;t+=1)r[t]=rg2.utils.getAngle(this.scorex[t],this.scorey[t],this.scorex[t+1],this.scorey[t+1]);var t={from:0,to:this.scorex.length};rg2.courses.drawLinesBetweenControls({x:this.scorex,y:this.scorey},r,this.courseid,e,t);for(let t=1;t<this.scorex.length-1;t+=1)rg2.controls.drawSingleControl(this.scorex[t],this.scorey[t],t,.25*Math.PI,e);rg2.controls.drawFinish(this.scorex[this.scorex.length-1],this.scorey[this.scorey.length-1],"",e)}},expandNormalTrack:function(){var t;return this.xysecs.length=0,this.xysecs[0]=0,t={},this.isScoreEvent?(t.x=this.scorex,t.y=this.scorey):t=rg2.courses.getCourseDetails(this.courseid),this.calculateTrackTimes(t),this.isScoreEvent&&(this.hasValidTrack=!0),this.hasValidTrack},calculateTrackTimes:function(t){for(var e,r,s,i=[],a=this.getNextValidControl(i[0]=0),o=t.x[a],n=t.y[a],l=this.trackx[e=0],c=this.tracky[0],u=0,h=1;h<this.trackx.length;h+=1)if(r=this.trackx[h],s=this.tracky[h],e+=rg2.utils.getDistanceBetweenPoints(r,s,l,c),i[h]=Math.round(e),c=s,o===(l=r)&&n===s){if(this.xysecs[h]=this.splits[a],this.addInterpolatedTimes(u,h,i),u=h,(a=this.getNextValidControl(a))===t.x.length){this.hasValidTrack=!0;break}o=t.x[a],n=t.y[a]}},getNextValidControl:function(t){for(var e=t+1;e<this.splits.length;e+=1)if(this.splits[e]!==this.splits[e-1])return e;return this.splits.length},expandTrackWithNoSplits:function(){var t,e,r,s,i,a,o,n,l,c,u,h,g,d;for(this.xysecs.length=0,t=this.splits[1],this.xysecs[0]=0,(e={}).x=rg2.courses.getCourseDetails(this.courseid).x,e.y=rg2.courses.getCourseDetails(this.courseid).y,s=e.x[r=1],i=e.y[r],a=e.x[e.x.length-1],o=e.y[e.y.length-1],this.trackx.push(a),this.tracky.push(o),h=0,g=(d=this.calculateTotalTrackLength())[d.length-1],0,u=!1,n=1;n<this.trackx.length;n+=1)if(l=this.trackx[n],c=this.tracky[n],l===this.trackx[0]&&c===this.tracky[0]||(u=!0),s===l&&i===c&&u){if(l=parseInt(d[n]/g*t,10),this.xysecs[n]=l,this.splits[r]=l,this.addInterpolatedTimes(h,n,d),h=n,(r+=1)===e.x.length){this.hasValidTrack=!0;break}s=e.x[r],i=e.y[r]}return this.hasValidTrack},calculateTotalTrackLength:function(){for(var t=[],e=this.trackx[t[0]=0],r=this.tracky[0],s=1;s<this.trackx.length;s+=1)t[s]=t[s-1]+Math.round(rg2.utils.getDistanceBetweenPoints(this.trackx[s],this.tracky[s],e,r)),e=this.trackx[s],r=this.tracky[s];return t},addInterpolatedTimes:function(t,e,r){for(var s=this.xysecs[t],i=this.xysecs[e]-s,a=r[t],o=r[e]-a,n=t;n<=e;n+=1)this.xysecs[n]=s+Math.round((r[n]-a)*i/o)},expandGPSTrack:function(){for(var t=0;t<this.trackx.length;t+=1)this.xysecs[t]=3*t;return this.speedColour.length=0,this.hasValidTrack=!0,this.hasValidTrack},setSpeedColours:function(){for(var t,e=this.trackx.length,r=this.speedColour[0]=0,s=1;s<e;s+=1)t=rg2.utils.getDistanceBetweenPoints(this.trackx[s],this.tracky[s],this.trackx[s-1],this.tracky[s-1]),this.speedColour[s]=(t+r)/2,r=t;this.mapSpeedColours()},mapSpeedColours:function(){for(var t,e,r=16.667/rg2.options.maxSpeed,s=16.667/rg2.options.minSpeed,i=this.speedColour.slice().sort(function(t,e){return t-e}),a=rg2.events.getMetresPerPixel(),o=void 0!==a?(e=3*r/a,3*s/a):(e=i[i.length-1],i[Math.floor(i.length/95)]),n=e-o,l=0;l<this.speedColour.length;l+=1)t=Math.max(this.speedColour[l],o),t=Math.min(t,e),this.speedColour[l]=this.getColour((t-o)/n)},getColour:function(t){var e,r="#";return 0===t?"#0080ff":(t<.5?r+="ff":((e=parseInt(255*(1-t)*2,10))<16&&(r+="0"),r+=e.toString(16)),.5<=t?r+="ff":((e=255-parseInt(255*(.5-t)*2,10))<16&&(r+="0"),r+=e.toString(16)),r+"00")},getInitials:function(t){var e,r,s,i;if(null===t)return"??";for(s=(t=t.trim().replace(/GPS/g,"*")).length,r=!(i=""),e=0;e<s;e+=1)r&&(i+=t.substr(e,1),r=!1)," "===t.charAt(e)&&(r=!0);return i}},rg2.Result=t}(),function(){function t(){this.results=[]}t.prototype={Constructor:t,addResults:function(t,e){var r,s,i,a,o,n,l=t.length;if(e)for(a=[],o=[],n=[],r=0;r<l;r+=1)void 0===a[i=t[r].variant]&&(a[i]=t[r].scorecodes,o[i]=t[r].scorex,n[i]=t[r].scorey);for(r=0;r<l;r+=1)rg2.courses.isValidCourseId(t[r].courseid)&&(t[r].resultid>rg2.config.GPS_RESULT_OFFSET&&""===t[r].coursename&&(t[r].coursename=rg2.courses.getCourseDetails(t[r].courseid).name),s=e?(i=t[r].variant,new rg2.Result(t[r],e,a[i],o[i],n[i])):new rg2.Result(t[r],e),this.results.push(s));this.setDisplayOrder(),this.setDeletionInfo(),this.setScoreCourseInfo(),this.handleExclusions(),this.sanitiseSplits(e)},setDisplayOrder:function(){for(let t=0;t<this.results.length;t+=1)this.results[t].resultid<rg2.config.GPS_RESULT_OFFSET?this.results[t].displayOrder=t:this.results[t].displayOrder=this.getRawDisplayOrder(this.results[t].rawid)},getRawDisplayOrder:function(e){var t=this.results.findIndex(t=>t.resultid===e);return-1<t?this.results[t].displayOrder:e},setScoreCourseInfo:function(){for(var t,e=0;e<this.results.length;e+=1)this.results[e].resultid>=rg2.config.GPS_RESULT_OFFSET&&void 0!==(t=this.getFullResultForRawID(this.results[e].rawid))&&void 0!==t.scorex&&(this.results[e].scorex=t.scorex,this.results[e].scorey=t.scorey,this.results[e].scorecodes=t.scorecodes)},setDeletionInfo:function(){for(var t,e=rg2.events.getKartatEventID(),r=[],s=rg2.options.drawnRoutes,i=0;i<s.length;i+=1)s[i].eventid===e&&r.push(s[i]);for(i=0;i<r.length;i+=1)for(t=0;t<this.results.length;t+=1)this.results[t].resultid===r[i].id&&(this.results[t].canDelete=!0,this.results[t].token=r[i].token)},getDeletionInfo:function(t){return{id:this.results[t].resultid,token:this.results[t].token}},getAllRunnersForCourse:function(t,e){for(var r=[],s=0;s<this.results.length;s+=1)this.results[s].courseid!==t||e&&!this.results[s].hasValidTrack||r.push(s);return r},getAllResultsForCourse:function(t){for(var e=[],r=0;r<this.results.length;r+=1)this.results[r].courseid===t&&this.results[r].resultid===this.results[r].rawid&&e.push(this.results[r]);return e},getAllResultsForVariant:function(e){var r=[];for(let t=0;t<this.results.length;t+=1)this.results[t].variant===e&&this.results[t].resultid===this.results[t].rawid&&r.push(this.results[t]);return r},generateScoreCourses:function(){for(var t,e,r,s=[],i=[],a=[],o=[],n=0;n<this.results.length;n+=1)if((e=this.results[n]).resultid<rg2.config.GPS_RESULT_OFFSET)for(r=e.courseid,-1===s.indexOf(r)&&(s.push(r),i[r]=[],a[r]=[],o[r]=[]),t=0;t<e.scorecodes.length;t+=1)-1===i[r].indexOf(e.scorecodes[t])&&(i[r].push(e.scorecodes[t]),a[r].push(e.scorex[t]),o[r].push(e.scorey[t]));for(n=0;n<s.length;n+=1)rg2.courses.updateScoreCourse(r=s[n],i[r],a[r],o[r])},handleExclusions:function(){let t=void 0,s=void 0,a=[];for(let r=0;r<this.results.length;r+=1)if(this.results[r].courseid!==t&&(t=this.results[r].courseid,s=rg2.courses.getCourseDetails(t)),s.excludeType===rg2.config.EXCLUDED_REAL_SPLITS){-1===a.indexOf(t)&&a.push(t);let e=0;for(let t=1;t<s.exclude.length;t+=1)s.exclude[t]&&(e+=Math.min(this.results[r].splits[t]-this.results[r].splits[t-1],s.allowed[t]));this.results[r].timeInSecs=Math.max(this.results[r].splits[this.results[r].splits.length-1]-e,0),this.results[r].time=rg2.utils.formatSecsAsMMSS(this.results[r].timeInSecs)}for(let i=0;i<a.length;i+=1){let r=this.results.filter(t=>t.courseid===a[i]);for(let e=0;e<r.length;e+=1){var o;r[e].rawid!==r[e].resultid&&-1<(o=r.findIndex(t=>t.resultid===r[e].rawid))&&(r[e].status=r[o].status)}r.sort(function(t,e){return"ok"!==t.status||0===t.timeInSecs?"ok"!==e.status||0===e.timeInSecs?0:1:"ok"!==e.status||0===e.timeInSecs?-1:t.timeInSecs-e.timeInSecs});let e=0,s=0;for(let t=0;t<r.length;t+=1)"ok"!==r[t].status||0===r[t].timeInSecs?r[t].position="":(s!==r[t].timeInSecs?(e+=1,s=r[t].timeInSecs):0<t&&r[t].rawid!==r[t-1].rawid&&(e+=1),r[t].position=e);for(let e=0;e<r.length;e+=1){var n=this.results.findIndex(t=>t.resultid===r[e].resultid);-1<n&&(this.results[n].position=r[e].position,this.results[n].displayOrder=e)}}},sanitiseSplits:function(t){let i=void 0,a=void 0;for(let s=0;s<this.results.length;s+=1){this.results[s].courseid!==i&&(i=this.results[s].courseid,a=rg2.courses.getCourseDetails(i)),this.results[s].legSplits=[];let e=this.results[s].legSplits[0]=0,r=!1;for(let t=1;t<this.results[s].splits.length;t+=1)this.results[s].splits[t]-e==0?a.exclude[t]?(this.results[s].legSplits[t]=this.results[s].splits[t]-e,e=this.results[s].splits[t]):(this.results[s].legSplits[t]=0,r=!0,void 0===this.results[s].lastValidSplit&&(this.results[s].lastValidSplit=t-1)):r?(this.results[s].legSplits[t]=0,e=this.results[s].splits[t],r=!1):(this.results[s].legSplits[t]=this.results[s].splits[t]-e,e=this.results[s].splits[t]);if(void 0===this.results[s].lastValidSplit&&(this.results[s].lastValidSplit=this.results[s].splits.length-1),!t)for(var o=rg2.courses.getNumberOfControlsOnCourse(this.results[s].courseid)+2;this.results[s].splits.length<o;)this.results[s].splits.push(this.results[s].splits[this.results[s].splits.length-1]),this.results[s].legSplits.push(0)}},getCoursesAndControls:function(){var e=[],r=[];for(let t=0;t<this.results.length;t+=1)this.results[t].rawid<rg2.config.GPS_RESULT_OFFSET&&(this.results[t].isScoreEvent?-1===e.indexOf(this.results[t].variant)&&(e.push(this.results[t].variant),r.push(this.results[t].splits.length)):-1===e.indexOf(this.results[t].courseid)&&(e.push(this.results[t].courseid),r.push(this.results[t].splits.length)));var t=e.map(t=>rg2.courses.getExcluded(t));return{courses:e,controls:r,exclude:t}},putScoreCourseOnDisplay:function(t,e){for(var r=0;r<this.results.length;r+=1)this.results[r].resultid===t&&(this.results[r].displayScoreCourse=e)},displayScoreCourse:function(t,e){this.results[t].displayScoreCourse=e},countResultsByCourseID:function(t){for(var e=rg2.events.getEventInfo(),r=0,s=0;s<this.results.length;s+=1)this.results[s].courseid===t&&(this.results[s].resultid<rg2.config.GPS_RESULT_OFFSET||e.format===rg2.config.FORMAT_NO_RESULTS||e.format===rg2.config.FORMAT_SCORE_EVENT_NO_RESULTS)&&(r+=1);return r},getRoutesForEvent:function(){for(var t,e=[],r=0;r<this.results.length;r+=1)this.results[r].hasValidTrack&&((t={}).id=r,t.resultid=this.results[r].resultid,t.name=this.results[r].name,t.time=this.results[r].time,t.coursename=this.results[r].coursename,e.push(t));return e},getCourseForResult:function(e){for(let t=0;t<this.results.length;t+=1)if(this.results[t].resultid===e)return this.results[t].courseid},getCourseForResultByIndex:function(t){return this.results[t].courseid},getResultsInfo:function(){for(var t,e={results:0,drawnroutes:0,gpsroutes:0,secs:0},r=0;r<this.results.length;r+=1)(t=this.results[r]).resultid<rg2.config.GPS_RESULT_OFFSET&&(e.results+=1,t.time)&&(e.secs+=t.splits[t.splits.length-1]),t.hasValidTrack&&(t.resultid<rg2.config.GPS_RESULT_OFFSET?e.drawnroutes+=1:e.gpsroutes+=1);return e.totalroutes=e.drawnroutes+e.gpsroutes,e.percent=0<e.results?(100*e.totalroutes/e.results).toFixed(1):0,e.time=this.formatTotalRunningTime(e.secs),e},formatTotalRunningTime:function(t){var e=Math.floor(t/86400)+" days ";return t-=86400*Math.floor(t/86400),e+=Math.floor(t/3600)+" hours ",t-=3600*Math.floor(t/3600),(e+=Math.floor(t/60)+" minutes ")+(t-60*Math.floor(t/60)+" seconds")},getFullResult:function(t){return this.results[t]},getFullResultForRawID:function(t){for(var e=0;e<this.results.length;e+=1)if(this.results[e].resultid===t)return this.results[e]},drawTracks:function(){for(let e=0;e<this.results.length;e+=1){let t;t=this.results[e].isScoreEvent?{from:0,to:this.results[e].scorex.length}:rg2.courses.getFilterDetails(this.results[e].courseid),this.results[e].drawTrack(t),this.results[e].drawScoreCourse()}},getTracksOnDisplay:function(){for(var t,e=[],r=0;r<this.results.length;r+=1)(t=this.results[r]).displayTrack&&e.push(t.resultid);return e},putOneTrackOnDisplay:function(t){for(var e=0;e<this.results.length;e+=1)this.results[e].resultid===parseInt(t,10)&&this.results[e].putTrackOnDisplay()},removeOneTrackFromDisplay:function(t){for(var e=0;e<this.results.length;e+=1)this.results[e].resultid===parseInt(t,10)&&this.results[e].removeTrackFromDisplay()},updateTrackDisplay:function(t,e){for(var r=0;r<this.results.length;r+=1)this.results[r].courseid!==t&&rg2.config.DISPLAY_ALL_COURSES!==t||(e?this.results[r].putTrackOnDisplay():this.results[r].removeTrackFromDisplay())},getDisplayedTrackNames:function(){for(var t="",e=0;e<this.results.length;e+=1)this.results[e].displayTrack&&(t=(t+="<p style='color:"+this.results[e].trackColour+";'>"+rg2.courses.getCourseName(this.results[e].courseid))+": "+this.results[e].name+"</p>");return t},getDisplayedTrackDetails:function(){for(var t,e=[],r=0;r<this.results.length;r+=1)this.results[r].displayTrack&&((t={}).colour=this.results[r].trackColour,t.course=rg2.courses.getCourseName(this.results[r].courseid),t.name=this.results[r].name,t.id=r,e.push(t));return e},setSpeedRange:function(t,e){$("#spn-min-speed").spinner("option","min",rg2.options.maxSpeed+1),$("#spn-max-speed").spinner("option","max",rg2.options.minSpeed-1),rg2.setConfigOption("maxSpeed",t),rg2.setConfigOption("minSpeed",e),this.resetSpeedColours(),rg2.redraw(!1)},resetSpeedColours:function(){for(var t=0;t<this.results.length;t+=1)this.results[t].speedColour.length=0},resultIDExists:function(t){for(var e=0;e<this.results.length;e+=1)if(t===this.results[e].resultid)return!0;return!1},getTimeAndSplitsForID:function(t){for(var e=0;e<this.results.length;e+=1)if(t===this.results[e].resultid)return{time:this.results[e].time,splits:this.results[e].splits};return{time:rg2.config.TIME_NOT_FOUND,splits:[]}},addTracks:function(r){var t=r.length;for(let e=0;e<t;e+=1){var s=r[e].id;let t=0;for(;t<this.results.length;){if(s===this.results[t].resultid){this.results[t].addTrack(r[e]);break}t+=1}}},deleteAllResults:function(){this.results.length=0},sortByCourseIDThenResultID:function(t,e){return t.courseid>e.courseid?1:e.courseid>t.courseid?-1:t.rawid===e.rawid?t.resultid-e.resultid:t.displayOrder-e.displayOrder},formatResultListAsAccordion:function(){if(0===this.results.length)return"<p>"+rg2.t("No results available")+"</p>";let e="",r=!0,s=0,i=0;this.prepareResults();for(let t=0;t<this.results.length;t+=1){var a=this.results[t];a.showResult&&(a.courseid!==s&&(r?r=!1:e+=this.getBottomRows(i,s)+"</table></div>",i=0,e+=this.getCourseHeader(a),s=a.courseid),e+='<tr class="resultrow"><td id='+a.rawid+">"+a.position+"</td>",""!==a.comments&&a.comments!==rg2.t("Type your comment")?(a.comments=a.comments.replace(/"/g,"&quot;"),e+='<td><a href="#" title="'+a.comments+'">'+this.getNameHTML(a,t)+"</a>"):e+="<td>"+this.getNameHTML(a,t),a.canDelete&&(e+=" <i class='deleteroute fa fa-trash' id="+t+"></i>"),e+="</td><td>"+a.time+"</td>",a.hasValidTrack?(i+=1,e+="<td><input class='showtrack showtrack-"+s+"' id="+a.resultid+" type=checkbox name=result></input></td>"):e+="<td></td>",e+="<td><input class='showreplay",a.hasValidTrack&&(e+=" showtrackreplay"),e=e+(" showreplay-"+s+"' id="+t)+" type=checkbox name=replay></input></td></tr>")}return e+=this.getBottomRows(i,s)+"</table></div></div>"},prepareResults:function(){var t,e,r;for(this.results.sort(this.sortByCourseIDThenResultID),t=void 0,r=!1,e=0;e<this.results.length;e+=1)this.results[e].rawid===t?r&&this.results[e].hasValidTrack&&(this.results[e-1].showResult=!1,this.results[e].position=this.results[e-1].position,r=!1):(r=!this.results[e].hasValidTrack,t=this.results[e].rawid)},getNameHTML:function(t,e){var r=t.rawid===t.resultid?t.name:"<i>"+t.name+"</i>";return"<div>"+(r=t.isScoreEvent?"<input class='showscorecourse showscorecourse-"+e+"' id="+e+" type=checkbox name=scorecourse></input> "+r:r)+"</div>"},getCourseHeader:function(t){var e=t.coursename,r=rg2.courses.getCourseDetails(t.courseid);return r&&(e+=void 0===r.length?"":": "+r.length+" km"),r="<h3>"+e+"<input class='showcourse' id="+t.courseid+" type=checkbox name=course title='Show course'></input></h3><div>",(r+="<div class='input-group margin-bottom-sm'><span class='input-group-addon'><i class='fa fa-search fa-fw'></i></span><input type='text' class='form-control rg2-result-search' id='search-"+t.courseid+"' placeholder='"+rg2.t("Search")+"'></div>")+("<table class='resulttable' id='table-"+t.courseid+"'><tr><th></th><th>"+rg2.t("Name")+"</th><th>"+rg2.t("Time")+"</th><th><i class='fa fa-pen'></i></th><th><i class='fa fa-play'></i></th></tr>")},getBottomRows:function(t,e){var r="<tr class='allitemsrow'><td></td><td>"+rg2.t("Routes")+"</td><td></td>";return 0<t?r=r+"<td><input class='allcoursetracks' id="+e+" type=checkbox name=track></input></td><td><input class='allcoursetracksreplay' id="+e+" type=checkbox name=replay></input></td>":r+="<td></td><td></td>",r=r+("</tr><tr class='allitemsrow'><td></td><td>"+rg2.t("All")+"</td><td></td><td></td>")+("<td><input class='allcoursereplay' id="+e+" type=checkbox name=replay></input></td></tr>")},getComments:function(){var t,e,r="<div class='rg2-comments-table'><div class='header'>"+rg2.t("Name")+"</div><div class='header'>"+rg2.t("Course")+"</div>";for(r+="<div class='header'>"+rg2.t("Comments")+"</div>",e="",t=0;t<this.results.length;t+=1)""!==this.results[t].comments&&(e=(e+="<div class='item'><strong>"+this.results[t].name+"</strong></div><div class='item'>")+this.results[t].coursename+"</div><div class='item selectable'>"+this.results[t].comments+"</div>");return e=""!==e?r+e+"</div> ":e},createNameDropdown:function(t){var e,r;for($("#rg2-name-select").empty(),(r=document.getElementById("rg2-name-select")).options.add(rg2.utils.generateOption(null,rg2.t("Select name"))),e=0;e<this.results.length;e+=1)this.results[e].courseid===t&&this.results[e].resultid<rg2.config.GPS_RESULT_OFFSET&&r.options.add(rg2.utils.generateOption(e,this.results[e].time+" "+this.results[e].name))},anyTracksForCourseDisplayed:function(e){for(let t=0;t<this.results.length;t+=1)if(this.results[t].courseid===e&&this.results[t].hasValidTrack&&this.results[t].displayTrack)return!0;return!1},allTracksForCourseDisplayed:function(e){for(let t=0;t<this.results.length;t+=1)if(this.results[t].courseid===e&&this.results[t].hasValidTrack&&!this.results[t].displayTrack)return!1;return!0},allTracksDisplayed:function(){for(let t=0;t<this.results.length;t+=1)if(this.results[t].hasValidTrack&&!this.results[t].displayTrack)return!1;return!0},allTracksForCourseReplayed:function(e){for(let t=0;t<this.results.length;t+=1)if(this.results[t].courseid===e&&this.results[t].hasValidTrack&&!rg2.animation.resultIsBeingAnimated(t))return!1;return!0},allResultsForCourseReplayed:function(e){for(let t=0;t<this.results.length;t+=1)if(this.results[t].courseid===e&&!rg2.animation.resultIsBeingAnimated(t))return!1;return!0}},rg2.Results=t}(),function(){function i(t){$("#rg2-load-progress").hide(),$("#rg2-map-load-progress").hide(),$("body").css("cursor","auto"),rg2.utils.showWarningDialog("Configuration error",t)}rg2.getEvents=function(){var e;$.getJSON(rg2Config.json_url,{type:"events",cache:!1}).done(function(t){rg2.events.deleteAllEvents(),$.each(t.data.events,function(){rg2.events.addEvent(new rg2.Event(this))}),rg2.ui.createEventMenu(),rg2.requestedHash.getID()&&void 0!==(e=rg2.events.getEventIDForKartatID(rg2.requestedHash.getID()))&&rg2.loadEvent(e),rg2.config.managing&&rg2.manager.eventListLoaded()}).fail(function(t,e,r){i("Events request failed: "+r)})},rg2.getEvent=function(s){$.getJSON(rg2Config.json_url,{id:s,type:"event",cache:!1}).done(function(t){$("#rg2-load-progress-label").text(rg2.t("Saving courses")),$.each(t.data.courses,function(){rg2.courses.addCourse(new rg2.Course(this,rg2.events.isScoreEvent()))}),rg2.courses.updateCourseDropdown(),rg2.courses.generateControlList(rg2.controls),$("#btn-toggle-controls").show(),$("#btn-toggle-names").show(),a=t,$("#rg2-load-progress-label").text(rg2.t("Saving results")),e=rg2.events.isScoreEvent(),0<rg2.courses.getNumberOfCourses()&&rg2.results.addResults(a.data.results,e),rg2.courses.setResultsCount(),e&&(rg2.controls.deleteAllControls(),rg2.results.generateScoreCourses(),rg2.courses.generateControlList(rg2.controls)),$("#rg2-result-list").accordion("refresh");var e,r,s,i,a=t;if($("#rg2-load-progress-label").text(rg2.t("Saving routes")),0<rg2.courses.getNumberOfCourses()&&rg2.results.addTracks(a.data.routes),rg2.ui.createCourseMenu(),rg2.ui.createResultMenu(),rg2.animation.updateAnimationDetails(),$("body").css("cursor","auto"),rg2.config.managing)rg2.manager.eventFinishedLoading();else{for($("#rg2-info-panel").tabs("enable",rg2.config.TAB_COURSES),$("#rg2-info-panel").tabs("enable",rg2.config.TAB_RESULTS),rg2.events.eventIsLocked()?$("#rg2-info-panel").tabs("disable",rg2.config.TAB_DRAW):$("#rg2-info-panel").tabs("enable",rg2.config.TAB_DRAW),$("#rg2-info-panel").tabs("option","active")!==rg2.config.TAB_DRAW&&$("#rg2-info-panel").tabs("option","active",rg2.requestedHash.getTab()),$("#rg2-info-panel").tabs("refresh"),$("#btn-show-splits").show(),rg2Config.enable_splitsbrowser&&rg2.events.hasResults()?$("#rg2-splitsbrowser").off().click(function(){window.open(rg2Config.json_url+"?type=splitsbrowser&id="+rg2.events.getKartatEventID()+"&_="+Date.now())}).show():$("#rg2-splitsbrowser").off().hide(),s=rg2.requestedHash.getRoutes(),r=0;r<s.length;r+=1){var o=$.Event("click");o.target={},o.target.checked=!0,o.target.id=s[r],$(".showtrack").filter("#"+s[r]).trigger(o).prop("checked",!0)}for(i=rg2.requestedHash.getCourses(),r=0;r<i.length;r+=1){var n=$.Event("click");n.target={},n.target.checked=!0,n.target.id=i[r],$(".showcourse").filter("#"+i[r]).trigger(n).prop("checked",!0)}}$("#rg2-load-progress-label").text(""),$("#rg2-load-progress").hide(),rg2.redraw(!1),rg2.eventLoaded()}).fail(function(t,e,r){i("Event request failed for event "+s+": "+r),rg2.eventLoaded()})},rg2.getNewLanguage=function(t){$.getScript(rg2Config.lang_url+t+".js").done(function(t){rg2.ui.setNewLanguage(t)}).fail(function(t,e,r){i("Language request failed.")})}}(),function(){var s={dragStart:null,dragged:!0,infoPanelMaximised:!0,scaleFactor:1.1};function e(t){s.dragStart=rg2.ctx.transformedPoint(s.lastX,s.lastY),s.dragged=!1,s.whichButton=t.which}function i(){var t;s.dragStart&&(t=rg2.ctx.transformedPoint(s.lastX,s.lastY),Math.round(t.x),Math.round(t.y),5<Math.abs(t.x-s.dragStart.x)+Math.abs(t.y-s.dragStart.y))&&(rg2.drawing.gpsFileLoaded()?rg2.drawing.adjustTrack({x:Math.round(s.dragStart.x),y:Math.round(s.dragStart.y)},t,s.whichButton):$("#rg2-info-panel").tabs("option","active")===rg2.config.TAB_CREATE?rg2.manager.adjustControls({x:Math.round(s.dragStart.x),y:Math.round(s.dragStart.y)},t,s.whichButton):rg2.overlay.mouseDrag(s.dragStart,t)||rg2.ctx.translate(t.x-s.dragStart.x,t.y-s.dragStart.y),s.dragged=!0,rg2.redraw(!1))}function r(t){var e=$("#rg2-info-panel").tabs("option","active");s.dragged?(e===rg2.config.TAB_CREATE?rg2.manager:e===rg2.config.TAB_DRAW?rg2.drawing:rg2.overlay).dragEnded():e===rg2.config.TAB_CREATE?rg2.manager.mouseUp(Math.round(s.dragStart.x),Math.round(s.dragStart.y)):(e===rg2.config.TAB_DRAW?rg2.drawing:rg2.overlay).mouseUp(Math.round(s.dragStart.x),Math.round(s.dragStart.y),t.which),s.dragStart=null,rg2.redraw(!1)}function a(t){s.pinchStart0=rg2.ctx.transformedPoint(t.touches[0].pageX,t.touches[0].pageY),s.pinchStart1=rg2.ctx.transformedPoint(t.touches[1].pageX,t.touches[1].pageY),s.pinched=!0}function o(t){s.lastX=t.offsetX||t.layerX-rg2.canvas.offsetLeft,s.lastY=t.offsetY||t.layerY-rg2.canvas.offsetTop}rg2.input=s,rg2.handleMouseDown=function(t){return o(t),e(t),t.stopPropagation(),t.preventDefault()&&!1},rg2.handleMouseUp=function(t){return r(t),t.stopPropagation(),t.preventDefault()&&!1},rg2.handleMouseMove=function(t){return o(t),i(),t.stopPropagation(),t.preventDefault()&&!1},rg2.handleTouchEnd=function(t){r(t),s.pinched=!1},rg2.handleTouchStart=function(t){t.preventDefault(),1<t.touches.length&&a(t),s.lastX=t.touches[0].pageX,s.lastY=t.touches[0].pageY,e(t)},rg2.handleTouchMove=function(t){var e,r;1<t.touches.length?s.pinched||a(t):s.pinched=!1,s.pinched&&1<t.touches.length?(s.pinchEnd0=rg2.ctx.transformedPoint(t.touches[0].pageX,t.touches[0].pageY),s.pinchEnd1=rg2.ctx.transformedPoint(t.touches[1].pageX,t.touches[1].pageY),1.1<(e=rg2.utils.getDistanceBetweenPoints(s.pinchStart0.x,s.pinchStart0.y,s.pinchStart1.x,s.pinchStart1.y))/(r=rg2.utils.getDistanceBetweenPoints(s.pinchEnd0.x,s.pinchEnd0.y,s.pinchEnd1.x,s.pinchEnd1.y))?(rg2.zoom(-1),s.pinchStart0=s.pinchEnd0,s.pinchStart1=s.pinchEnd1):e/r<.9&&(rg2.zoom(1),s.pinchStart0=s.pinchEnd0,s.pinchStart1=s.pinchEnd1)):(s.lastX=t.touches[0].pageX,s.lastY=t.touches[0].pageY,i())},rg2.handleScroll=function(t){var e=t.wheelDelta?t.wheelDelta/40:t.detail?-t.detail:0;return e&&rg2.zoom(e),t.stopPropagation(),t.preventDefault()&&!1}}(),rg2.ui={setTitleBar:function(){var t;window.innerWidth>=rg2.config.BIG_SCREEN_BREAK_POINT?(t=rg2.he.decode(rg2.events.getActiveEventName())+" "+rg2.events.getActiveEventDate(),document.title=t,$("#rg2-event-title").html(t).show()):window.innerWidth>rg2.config.SMALL_SCREEN_BREAK_POINT?(t=rg2.events.getActiveEventName(),$("#rg2-event-title").html(t).show()):$("#rg2-event-title").hide(),rg2.events.mapIsGeoreferenced()?$("#rg2-event-title-icon").addClass("fa fa-globe-americas"):$("#rg2-event-title-icon").removeClass("fa fa-globe-americas"),rg2.events.eventIsLocked()?$("#rg2-event-lock-icon").addClass("fa fa-lock"):$("#rg2-event-lock-icon").removeClass("fa fa-lock")},setNewLanguage:function(t){void 0!==$("#rg2-event-list").menu("instance")&&$("#rg2-event-list").menu("destroy"),"en"===t&&rg2.setDictionary({code:"en"}),this.createEventMenu(),null!==(t=rg2.events.getActiveEventID())&&(rg2.courses.removeAllFromDisplay(),rg2.results.updateTrackDisplay(rg2.config.DISPLAY_ALL_COURSES,!1),rg2.animation.resetAnimation(),rg2.drawing.initialiseDrawing(rg2.events.hasResults(t)),this.createCourseMenu(),this.createResultMenu()),$("#rg2-info-panel").tabs("refresh"),rg2.redraw(!1)},getManagerLink:function(){return"<a href="+rg2Config.json_url.replace("rg2api.php","?manage")+">Manager Login</a>"},tabActivated:function(){this.getActiveTab()===rg2.config.TAB_DRAW&&(rg2.courses.removeAllFromDisplay(),rg2.drawing.showCourseInProgress());var t=$("#rg2-info-panel").attr(this.getScrollPosAttrName());$("#rg2-event-tab-body").scrollParent().scrollTop(t),rg2.redraw(!1)},displayAboutDialog:function(){$("#rg2-event-stats").empty().html(rg2.getEventStats()),$("#rg2-manager-link").empty().html(this.getManagerLink()),$("#rg2-about-dialog").dialog({width:Math.min(1e3,.8*rg2.canvas.width),maxHeight:Math.min(1e3,.9*rg2.canvas.height),title:"RG2 Version "+rg2.config.RG2VERSION,dialogClass:"rg2-about-dialog",resizable:!1,buttons:{Ok:function(){$(this).dialog("close")}}})},displayOptionsDialog:function(){$("#rg2-option-controls").dialog({minWidth:400,title:rg2.t("Configuration options"),dialogClass:"rg2-options-dialog",close:function(){rg2.saveConfigOptions()}})},initialiseButtons:function(){var t=this;$("#btn-about").click(function(){t.displayAboutDialog()}),$("#btn-faster").click(function(){rg2.animation.goFaster()}),$("#btn-full-tails").prop("checked",!1).click(function(t){t.target.checked?(rg2.animation.setFullTails(!0),$("#spn-tail-length").spinner("disable")):(rg2.animation.setFullTails(!1),$("#spn-tail-length").spinner("enable"))}),$("#btn-move-all").prop("checked",!1),$("#btn-align-map").prop("checked",rg2.options.alignMap).click(function(t){t.target.checked?rg2.options.alignMap=!0:rg2.options.alignMap=!1,rg2.saveConfigOptions()}),$("#btn-options").click(function(){t.displayOptionsDialog()}),$("#btn-real-time").click(function(){rg2.animation.setReplayType()}),$("#btn-reset").click(function(){rg2.resetMapState()}),$("#btn-reset-drawing").button().button("disable").click(function(){rg2.drawing.resetDrawing()}),$("#btn-save-gps-route").button().button("disable").click(function(){rg2.drawing.saveGPSRoute()}),$("#btn-save-route").button().button("disable").click(function(){rg2.drawing.saveRoute()}),$("#btn-show-splits").click(function(){$("#rg2-splits-table").empty().append(rg2.animation.getSplitsTable()).dialog({width:"auto",maxHeight:$("#rg2-map-canvas").height(),height:"auto",position:{my:"top",at:"top",of:"#rg2-map-canvas"},dialogClass:"rg2-splits-table",modal:!0,buttons:{Ok:function(){$("#rg2-splits-table").dialog("close")}}})}).hide(),$("#btn-slower").click(function(){rg2.animation.goSlower()}),$("#btn-start-stop").click(function(){rg2.animation.toggleAnimation()}),$("#btn-three-seconds").button().click(function(){rg2.drawing.waitThreeSeconds()}).button("disable"),$("#btn-toggle-controls").click(function(){rg2.controls.toggleControlDisplay(),rg2.redraw(!1)}).hide(),$("#btn-toggle-names").click(function(){rg2.animation.toggleNameDisplay(),rg2.redraw(!1)}).hide(),$("#btn-undo").button().button("disable").click(function(){rg2.drawing.undoLastPoint()}),$("#btn-undo-gps-adjust").button().button("disable").click(function(){rg2.drawing.undoGPSAdjust()}),$("#btn-autofit-gps").button().button("disable").click(function(){rg2.drawing.autofitGPSTrack()}),$("#btn-zoom-in").click(function(){rg2.zoom(1)}),$("#btn-zoom-out").click(function(){rg2.zoom(-1)}),$("#btn-rotate-left").click(function(){rg2.rotateMap(-1)}),$("#btn-rotate-right").click(function(){rg2.rotateMap(1)}),$("#rg2-load-gps-file").button().button("disable")},setResultCheckboxes:function(){$(".showcourse").click(function(t){t.stopPropagation();var e=t.target.id;t.target.checked?(rg2.courses.putOnDisplay(e),$(".showcourse").filter("#"+e).prop("checked",!0)):(rg2.courses.removeFromDisplay(e),$(".showcourse").filter("#"+e).prop("checked",!1)),$(".showallcourses").prop("checked",rg2.courses.allCoursesDisplayed()),rg2.courses.setFilter(e),rg2.requestedHash.setCourses(),rg2.redraw(!1)}),$(".showallcourses").click(function(t){t.target.checked?(rg2.courses.putAllOnDisplay(),$(".showcourse").prop("checked",!0)):(rg2.courses.removeAllFromDisplay(),$(".showcourse").prop("checked",!1)),rg2.courses.setAllFilters(),rg2.requestedHash.setCourses(),rg2.redraw(!1)}),$(".showscorecourse").click(function(t){rg2.results.displayScoreCourse(parseInt(t.target.id,10),t.target.checked),rg2.redraw(!1)}),$(".showtrack").click(function(t){var e=parseInt(t.target.id,10),r=rg2.results.getCourseForResult(e);t.target.checked?rg2.results.putOneTrackOnDisplay(e):rg2.results.removeOneTrackFromDisplay(e),$(".allcoursetracks").filter("#"+r).prop("checked",rg2.results.allTracksForCourseDisplayed(r)),$(".alltracks").prop("checked",rg2.results.allTracksDisplayed()),rg2.courses.setFilter(r),rg2.requestedHash.setRoutes(),rg2.redraw(!1)}),$(".deleteroute").click(function(t){rg2.drawing.confirmDeleteRoute(parseInt(t.target.id,10))}),$(".allcoursetracks").click(function(t){var e=parseInt(t.target.id,10);rg2.results.updateTrackDisplay(e,t.target.checked),$(".allcoursetracks").filter("#"+e).prop("checked",t.target.checked),$(".showtrack-"+e).prop("checked",t.target.checked),$(".alltracks").prop("checked",rg2.results.allTracksDisplayed()),rg2.courses.setFilter(e),rg2.requestedHash.setRoutes(),rg2.redraw(!1)}),$(".alltracks").click(function(t){rg2.results.updateTrackDisplay(rg2.config.DISPLAY_ALL_COURSES,t.target.checked),$(".showtrack").prop("checked",t.target.checked),$(".allcoursetracks").prop("checked",t.target.checked),rg2.courses.setAllFilters(t.target.checked),rg2.requestedHash.setRoutes(),rg2.redraw(!1)}),$(".showreplay").click(function(t){var e=parseInt(t.target.id,10),r=rg2.results.getCourseForResultByIndex(e);t.target.checked?rg2.animation.addRunner(new rg2.Runner(e),!0):rg2.animation.removeRunner(e,!0),$(".allcoursetracksreplay").filter("#"+r).prop("checked",rg2.results.allTracksForCourseReplayed(r)),$(".allcoursereplay").filter("#"+r).prop("checked",rg2.results.allResultsForCourseReplayed(r)),rg2.redraw(!1)}),$(".allcoursetracksreplay").click(function(t){var e=parseInt(t.target.id,10),r=rg2.results.getAllRunnersForCourse(e,!0);rg2.animation.animateRunners(r,t.target.checked),$(".showtrackreplay.showreplay-"+e).prop("checked",t.target.checked),$(".allcoursetracksreplay").filter("#"+e).prop("checked",t.target.checked),$(".allcoursereplay").prop("checked",rg2.results.allResultsForCourseReplayed(e)),rg2.redraw(!1)}),$(".allcoursereplay").click(function(t){var e=parseInt(t.target.id,10),r=rg2.results.getAllRunnersForCourse(e,!1);rg2.animation.animateRunners(r,t.target.checked),$(".showreplay-"+e).prop("checked",t.target.checked),$(".allcoursetracksreplay").filter("#"+e).prop("checked",rg2.results.allTracksForCourseReplayed(e)),rg2.redraw(!1)})},createResultMenu:function(){var t=(t=rg2.results.formatResultListAsAccordion()).replace(/&amp;/g,"&");$("#rg2-result-list").empty().append(t),$("#rg2-result-list").accordion("option","active",!1).accordion("refresh"),$(".rg2-result-search").keyup(function(t){for(var e,r,s,i=t.target.value.toUpperCase(),a=t.target.id.replace("search-",""),o=$(".resulttable"),n=0;n<o.length;n+=1)if(o[n].id==="table-"+a){e=o[n];break}for(r=e.getElementsByTagName("tr"),n=1;n<r.length;n+=1)(s=r[n].getElementsByTagName("td")[1])&&(-1<s.innerHTML.toUpperCase().indexOf(i)?r[n].style.display="":r[n].style.display="none")}),$("#rg2-info-panel").tabs("refresh"),this.setResultCheckboxes(),0===rg2.courses.getHighestControlNumber()?$("#rg2-control-select").prop("disabled",!0):$("#rg2-control-select").prop("disabled",!1),$(".resulttable tr").dblclick(function(){var t=$(this).find("td").attr("id");t&&rg2.stats.showStats(parseInt(t,10))}),$(".resulttable tr").contextmenu(function(t){t.preventDefault();t=$(this).find("td").attr("id");t&&rg2.stats.showExtraStats(parseInt(t,10))})},createCourseMenu:function(){$("#rg2-course-table").empty().append(rg2.courses.formatCoursesAsTable()),$("#rg2-course-filter-table").empty().append(rg2.courses.formatCourseFilters()),rg2.courses.formatFilterSliders()},initialiseSpinners:function(){$("#spn-control-circle").spinner({max:50,min:3,step:1,spin:function(t,e){rg2.setConfigOption("circleSize",e.value),rg2.redraw(!1)}}).val(rg2.options.circleSize),$("#spn-course-width").spinner({max:10,min:1,step:.5,spin:function(t,e){rg2.setConfigOption("courseWidth",e.value),rg2.redraw(!1)}}).val(rg2.options.courseWidth),$("#spn-map-intensity").spinner({max:100,min:0,step:10,numberFormat:"n",spin:function(t,e){rg2.setConfigOption("mapIntensity",e.value/100),rg2.redraw(!1)}}).val(100*rg2.options.mapIntensity),$("#spn-name-font-size").spinner({max:30,min:5,step:1,numberFormat:"n",spin:function(t,e){rg2.setConfigOption("replayFontSize",e.value),rg2.redraw(!1)}}).val(rg2.options.replayFontSize),$("#spn-route-intensity").spinner({max:100,min:0,step:10,numberFormat:"n",spin:function(t,e){rg2.setConfigOption("routeIntensity",e.value/100),rg2.redraw(!1)}}).val(100*rg2.options.routeIntensity),$("#spn-route-width").spinner({max:10,min:1,step:.5,spin:function(t,e){rg2.setConfigOption("routeWidth",e.value),rg2.redraw(!1)}}).val(rg2.options.routeWidth),$("#spn-tail-length").spinner({max:600,min:0,spin:function(t,e){rg2.animation.setTailLength(e.value)}}).val(0),$("#spn-offset").spinner({max:600,min:-600,disabled:!0,spin:function(t,e){rg2.drawing.adjustOffset(e.value)}}).val(0),$("#spn-max-speed").spinner({max:10,min:1,spin:function(t,e){rg2.results.setSpeedRange(e.value,rg2.options.minSpeed)}}).val(rg2.options.maxSpeed),$("#spn-min-speed").spinner({max:20,min:5,spin:function(t,e){rg2.results.setSpeedRange(rg2.options.maxSpeed,e.value)}}).val(rg2.options.minSpeed)},setAutofitSpinner:function(t){$("#spn-offset").spinner("value",t).spinner("enable")},createEventMenu:function(){var t,e;rg2.config.managing||(t="<span class='input-group-addon'><i class='fa fa-search fa-fw'></i></span><input type='text' class='form-control rg2-event-search' placeholder='"+rg2.t("Search")+"'>",(e=$("#rg2-event-search")).empty().append(t),$(".rg2-event-search").keyup(function(t){for(var e=t.target.value.toUpperCase(),r=$("#rg2-event-list")[0].getElementsByTagName("a"),s=0;s<r.length;s+=1)-1<r[s].innerText.toUpperCase().indexOf(e)?r[s].parentElement.style.display="":r[s].parentElement.style.display="none"}),t=rg2.events.formatEventsAsMenu(),void 0!==(e=$("#rg2-event-list")).menu("instance")&&e.menu("destroy"),e.empty().append(t).menu({select:function(t,e){e=parseInt(e.item[0].id.replace("event-",""),10);rg2.loadEvent(e),rg2.requestedHash.setNewEvent(rg2.events.getKartatEventID())}}))},getScrollPosAttrName:function(){return"scroll-"+this.getActiveTab()},getActiveTab:function(){return $("#rg2-info-panel").tabs("option","active")},setUIEventHandlers:function(){var t,e=this;$("#rg2-info-panel-tab-body").scroll(function(){$("#rg2-info-panel").attr(e.getScrollPosAttrName(),$(this).scrollTop())}),$("#rg2-resize-info").click(function(){rg2.resizeInfoDisplay()}),$("#rg2-hide-info-panel-control").click(function(){rg2.resizeInfoDisplay()}),$("#rg2-control-select").prop("disabled",!0).change(function(){rg2.animation.setStartControl($("#rg2-control-select").val())}),$("#rg2-name-select").prop("disabled",!0).change(function(){rg2.drawing.setName(parseInt($("#rg2-name-select").val(),10))}),$("#rg2-course-select").change(function(){rg2.drawing.setCourse(parseInt($("#rg2-course-select").val(),10))}),$("#rg2-enter-name").click(function(){rg2.drawing.setNameAndTime()}).keyup(function(){rg2.drawing.setNameAndTime()}),$("#rg2-new-comments").focus(function(){$("#rg2-new-comments").val()===rg2.t(rg2.config.DEFAULT_NEW_COMMENT)&&$("#rg2-new-comments").val("")}),$("#chk-snap-toggle").prop("checked",rg2.options.snap).click(function(t){t.target.checked?rg2.options.snap=!0:rg2.options.snap=!1}),$("#chk-show-three-seconds").prop("checked",rg2.options.showThreeSeconds).click(function(t){t.target.checked?rg2.options.showThreeSeconds=!0:rg2.options.showThreeSeconds=!1,rg2.redraw(!1)}),$("#chk-show-GPS-speed").prop("checked",rg2.options.showGPSSpeed).click(function(t){t.target.checked?rg2.options.showGPSSpeed=!0:rg2.options.showGPSSpeed=!1,rg2.redraw(!1)}),$("#rg2-select-language").change(function(){(t=$("#rg2-select-language").val())!==rg2.getDictionaryCode()&&("en"===t?e.setNewLanguage("en"):rg2.getNewLanguage(t))}),$("#rg2-load-gps-file").change(function(t){rg2.drawing.uploadGPS(t)})},configureUI:function(){var t;$(document).on("contextmenu",function(t){t.preventDefault()}),t=this,$("#rg2-info-panel").tabs({disabled:[rg2.config.TAB_COURSES,rg2.config.TAB_RESULTS,rg2.config.TAB_DRAW],active:rg2.config.TAB_EVENTS,heightStyle:"content",activate:function(){t.tabActivated()}}),$("#rg2-result-list").accordion({collapsible:!0,heightStyle:"content"}),$("#rg2-clock").text("00:00:00"),$("#rg2-clock-slider").slider({slide:function(t,e){rg2.animation.clockSliderMoved(e.value)}}),$("#rg2-header-container").css("color",rg2Config.header_text_colour).css("background",rg2Config.header_colour),$("#rg2-about-dialog").hide(),$("#rg2-splits-display").hide(),$("#rg2-track-names").hide(),$("#rg2-add-new-event").hide(),$("#rg2-load-progress-bar").progressbar({value:!1}),$("#rg2-load-progress-label").text(""),$("#rg2-load-progress").hide(),$("#rg2-map-load-progress-bar").progressbar({value:!1}),$("#rg2-map-load-progress-label").text(""),$("#rg2-map-load-progress").hide(),$("#rg2-option-controls").hide(),$("#rg2-animation-controls").hide(),$("#rg2-splitsbrowser").hide(),this.setUIEventHandlers(),this.initialiseButtons(),this.initialiseSpinners()}},function(){function t(t){var e,r=rg2.results.getFullResult(t);this.name=r.name,this.initials=r.initials,this.runnerid=t,this.starttime=r.starttime,this.splits=r.splits,this.colour=rg2.colours.getNextColour(),r.isScoreEvent?((e={}).name=r.coursename,e.x=r.scorex,e.y=r.scorey,e.codes=r.scorecodes):e=rg2.courses.getCourseDetails(r.courseid),this.coursename=e.name,this.nextStopTime=rg2.config.VERY_HIGH_TIME_IN_SECS,this.x=[],this.y=[],this.cumulativeDistance=[],this.cumulativeDistance[0]=0,this.legTrackDistance=[],this.legTrackDistance[0]=0,this.cumulativeTrackDistance=[],this.cumulativeTrackDistance[0]=0,r.hasValidTrack?this.expandTrack(r.trackx,r.tracky,r.xysecs):this.expandTrack(e.x,e.y,r.splits),this.addTrackDistances(e,r)}t.prototype={Constructor:t,addTrackDistances:function(t,e){var r,s,i=this.cumulativeDistance.length-1;if(void 0!==t.codes)if(1<e.splits.length)for(r=1;r<t.codes.length;r+=1)s=e.splits[r]<=i?e.splits[r]:i,this.cumulativeTrackDistance[r]=this.cumulativeDistance[s],this.legTrackDistance[r]=this.cumulativeTrackDistance[r]-this.cumulativeTrackDistance[r-1];else this.legTrackDistance[1]=this.cumulativeDistance[i],this.cumulativeTrackDistance[1]=this.cumulativeDistance[i]},expandTrack:function(t,e,r){var s,i,a,o,n,l,c,u,h,g=0,d=0,p=t[0],f=e[0],m=0,v=0;for(this.x[0]=t[0],this.y[0]=e[0],void 0===(h=rg2.events.getMetresPerPixel())&&(h=1),s=1;s<r.length;s+=1){for(i=(c=t[s])-p,a=(u=e[s])-f,l=(v+=rg2.utils.getDistanceBetweenPoints(c,u,p,f)*h)-m,o=(d=0===(d=r[s])?g+1:d)-g,n=g+1;n<d;n+=1)this.x[n]=Math.round(p+(n-g)*i/o),this.y[n]=Math.round(f+(n-g)*a/o),this.cumulativeDistance[n]=Math.round(m+(n-g)*l/o);this.x[d]=c,this.y[d]=u,this.cumulativeDistance[d]=Math.round(v),p=c,f=u,m=v,g=d}}},rg2.Runner=t}(),function(){function t(){"use strict";this.result=null,this.rawid=null,this.results=[],this.isScoreOrRelay=!1,this.course=null,this.byLegPos=[],this.byRacePos=[],this.resultIndex=null,this.splitsChart=void 0,this.legChart=void 0,this.activeLeg=1,this.maxIterationIndex=9,this.iterationIndex=2,this.extraStats=!1}t.prototype={Constructor:t,initialise:function(t){this.rawid=t,this.isScoreOrRelay=rg2.events.isScoreEvent(),this.result=rg2.results.getFullResultForRawID(this.rawid),this.isScoreOrRelay?this.results=rg2.results.getAllResultsForVariant(this.result.variant):this.results=rg2.results.getAllResultsForCourse(this.result.courseid),this.initialiseCourse(this.result.courseid),this.adjustSplits(),this.generateLegPositions(),this.resultIndex=this.setResultIndex(this.rawid)},adjustSplits:function(){if(this.course.excludeType===rg2.config.EXCLUDED_REAL_SPLITS)for(let r=0;r<this.results.length;r+=1){let e=0;for(let t=1;t<this.course.exclude.length;t+=1){var s;this.course.exclude[t]&&(s=Math.min(this.results[r].splits[t]-this.results[r].splits[t-1]-e,this.course.allowed[t]),e+=s),this.results[r].splits[t]=this.results[r].splits[t]-e,this.results[r].legSplits[t]=this.results[r].splits[t]-this.results[r].splits[t-1]}}},generateLegPositions:function(){var a=[];for(let s=1;s<this.course.codes.length;s+=1){for(let t=a.length=0;t<this.results.length;t+=1)this.results[t].resultid===this.results[t].rawid&&(this.results[t].isScoreEvent?this.results[t].variant===this.course.courseid&&a.push({time:this.results[t].legSplits[s],id:t}):this.results[t].courseid===this.course.courseid&&a.push({time:this.results[t].legSplits[s],id:t}));a.sort(this.sortLegTimes);let e=0,r=0;for(let t=0;t<a.length;t+=1)this.course.exclude[s]?this.results[a[t].id].legpos[s]=0:a[t].time!==r?e=0===a[t].time?(this.results[a[t].id].legpos[s]=0,r=0):(this.results[a[t].id].legpos[s]=t+1,r=a[t].time,t+1):this.results[a[t].id].legpos[s]=e}a.length=0;for(let i=1;i<this.course.codes.length;i+=1){let e=a.length=0;for(let t=0;t<this.results.length;t+=1)this.results[t].resultid===this.results[t].rawid&&(this.results[t].isScoreEvent?this.results[t].variant===this.course.courseid&&(e=i>this.results[t].lastValidSplit?0:this.results[t].splits[i],a.push({time:e,id:t})):this.results[t].courseid===this.course.courseid&&(e=i>this.results[t].lastValidSplit?0:this.results[t].splits[i],a.push({time:e,id:t})));a.sort(this.sortLegTimes);let r=0,s=0;for(let t=0;t<a.length;t+=1)a[t].time!==s?0===a[t].time?(this.results[a[t].id].racepos[i]=0,r=0,s=0):(this.results[a[t].id].racepos[i]=t+1,s=a[t].time,r=t+1):this.results[a[t].id].racepos[i]=r}},sortLegTimes:function(t,e){return 0===t.time?1:0===e.time?-1:t.time-e.time},setResultIndex:function(e){for(let t=0;t<this.results.length;t+=1)if(this.results[t].rawid===e)return this.result=this.results[t],t;return null},rg2Exception:function(t){this.message=t},showStats:function(t){this.rawid=t,this.extraStats=!1,this.loadStats(t)},showExtraStats:function(t){this.rawid=t,this.extraStats=!0,this.loadStats(t)},loadStats:function(t){if(rg2.events.hasResults()){$("body").css("cursor","wait");const e=(s,i)=>new Promise((t,e)=>{var r=document.createElement("script");r.type="text/javascript",r.crossOrigin="anonymous",r.referrerPolicy="no-referrer",r.integrity=i,r.onload=t,r.onerror=e,r.src=s,document.head.append(r)}),r=s=>new Promise((t,e)=>{var r=document.createElement("link");r.rel="stylesheet",r.crossOrigin="anonymous",r.referrerPolicy="no-referrer",r.onload=t,r.onerror=e,r.href=s,document.head.append(r)});("undefined"==typeof agGrid?e("https://cdn.jsdelivr.net/npm/ag-grid-community/dist/ag-grid-community.min.noStyle.js",""):Promise.resolve()).then(()=>"undefined"==typeof Chart?Promise.all([e("https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.2.0/chart.umd.min.js","sha512-0gS26t/01v98xlf2QF4QS1k32/YHWfFs8HfBM/j7gS97Tr8WxpJqoiDND8r1HgFwGGYRs0aRt33EY8xE91ZgJw=="),r("https://cdn.jsdelivr.net/npm/ag-grid-community/styles/ag-grid.css"),r("https://cdn.jsdelivr.net/npm/ag-grid-community/styles/ag-theme-balham.css")]):Promise.resolve()).then(()=>{$("body").css("cursor","auto"),this.prepareStats(t)}).catch(()=>{rg2.utils.showWarningDialog(rg2.t("Statistics"),rg2.t("Failed to load Grid and Chart utilities.")),$("body").css("cursor","auto")})}else rg2.utils.showWarningDialog(rg2.t("Statistics"),rg2.t("No statistics available for this event format."))},prepareStats:function(t){try{this.initialise(t),this.iterateLostTime(),this.generateSummary(),this.generateSplitsChart(),this.generateLegChart(),this.generateTableByLegPos(),this.generateTableByRacePos(),this.generateSplitsTable(),this.displayStats()}catch(t){t instanceof this.rg2Exception?rg2.utils.showWarningDialog(rg2.t("Statistics"),t.message):rg2.utils.showWarningDialog(rg2.t("Statistics"),rg2.t("Data inconsistency."))}},handleTabActivation:function(t){if(t.currentTarget)switch(t.currentTarget.id){case"rg2-iter-plus-text":this.incrementIterations(),t.preventDefault();break;case"rg2-iter-minus-text":this.decrementIterations(),t.preventDefault();break;case"rg2-iter-text":t.preventDefault()}},displayStats:function(){$("#rg2-stats-summary-text").empty().text(rg2.t("Summary")),$("#rg2-stats-leg-text").empty().text(rg2.t("Leg times")),$("#rg2-stats-cumulative-text").empty().text(rg2.t("Cumulative times")),$("#rg2-stats-splits-text").empty().text(rg2.t("Splits")),this.extraStats?($("#rg2-iter-text").text(this.iterationIndex+1),$("#rg2-iter-plus-text").show(),$("#rg2-iter-text").show(),$("#rg2-iter-minus-text").show()):($("#rg2-iter-plus-text").hide(),$("#rg2-iter-text").hide(),$("#rg2-iter-minus-text").hide());const e=this;$("#rg2-stats-tabs").tabs({active:0,beforeActivate:function(t){e.handleTabActivation(t)}}),$("#rg2-stats-table").dialog({title:this.result.name,resizable:!1,maxHeight:.98*$("#rg2-map-canvas").height(),width:Math.min(.8*$("#rg2-map-canvas").width(),1e3),position:{my:"right top",at:"right top",of:"#rg2-map-canvas"}})},generateSummary:function(){var t=this.getLegPosInfo(),e=rg2.t("Estimated loss");let r=rg2.t("Name")+": <strong>"+this.result.name+"</strong><br>"+rg2.t("Course")+":<strong>"+this.result.coursename+"</strong><br>";r=(r=(r=(r=(r+=rg2.t("Time")+": <strong>"+this.result.time+"</strong><br>")+rg2.t("Position")+": <strong>"+this.results[this.resultIndex].racepos[this.controls-1]+" / "+this.results.length+"</strong><br>")+rg2.t("Average leg position")+": <strong>"+t.average+"</strong> (")+rg2.t("Best")+": <strong>"+t.best+"</strong>, "+rg2.t("Worst")+": <strong>"+t.worst+")</strong><br>")+e+": <strong>"+rg2.utils.formatSecsAsMMSS(this.results[this.resultIndex].totalLoss[this.iterationIndex]),this.isNumberOverZero(this.result.timeInSecs)&&(r+=" ("+(100*this.results[this.resultIndex].totalLoss[this.iterationIndex]/this.result.timeInSecs).toFixed(1)+" %)"),r=(r+="</strong><br>")+rg2.t("Performance")+": <strong>"+(100*this.result.performanceIndex[0]).toFixed(1)+"%</strong><br>";t=this.results[this.resultIndex].refRatio[0].filter(t=>0<t);r+=rg2.t("Consistency")+": <strong>"+(100*this.getStandardDeviation(t)).toFixed(1)+"%</strong>",$("#rg2-stats").empty().append(r)},generateSplitsChart:function(){void 0!==this.splitsChart&&(this.splitsChart.destroy(),this.splitsChart=void 0);const e=(t,e)=>t.p0.skip||t.p1.skip?e:void 0;var t=document.getElementById("rg2-splits-chart"),r=this.results[this.resultIndex].legpos.map((t,e,r)=>e===r.length-1?"F":e);const s=this.getLegPosInfo(),i=this.results[this.resultIndex].legpos.map(t=>0===t?NaN:t),a=this.results[this.resultIndex].loss[this.iterationIndex].map((t,e)=>0===this.results[this.resultIndex].legpos[e]?NaN:t);var o=this.results[this.resultIndex].legpos.map(()=>s.average),n=this.results[this.resultIndex].loss[this.iterationIndex].reduce((t,e)=>Math.max(t,e),0),n=300*parseInt((n+299)/300,10);this.splitsChart=new Chart(t,{data:{labels:r,datasets:[{label:"Leg position",type:"line",data:i,borderColor:rg2.config.RED,backgroundColor:rg2.config.RED_30,yAxisID:"yPosition",segment:{borderColor:t=>e(t,"rgb(0,0,0,0.2)"),borderDash:t=>e(t,[6,6])},spanGaps:!0},{label:"Average leg position",type:"line",data:o,borderColor:rg2.config.RED,backgroundColor:rg2.config.WHITE,borderDash:[5,5],yAxisID:"yPosition",pointStyle:"circle",pointRadius:0,pointHoverRadius:0},{label:"Time loss",type:"bar",data:a,borderColor:rg2.config.DARK_GREEN,backgroundColor:rg2.config.DARK_GREEN_30,yAxisID:"yLoss",segment:{borderColor:t=>e(t,"rgb(0,0,0,0.2)"),borderDash:t=>e(t,[6,6])},spanGaps:!0}]},options:{scales:{x:{min:1,title:{display:!0,text:rg2.t("Control")}},yPosition:{type:"linear",display:!0,position:"left",min:0,max:10*parseInt((this.results.length+9)/10,10),title:{display:!0,text:"Leg position"}},yLoss:{type:"linear",display:!0,position:"right",min:0,max:n,grid:{drawOnChartArea:!1},title:{display:!0,text:"Time loss"}}},plugins:{tooltip:{callbacks:{label:function(t){return"Time loss"===t.dataset.label?"Loss: "+rg2.utils.formatSecsAsMMSS(a[t.dataIndex]):"Leg position"===t.dataset.label?"Position: "+i[t.dataIndex]:""},title:function(t){return"F"===t[0].label?rg2.t("Finish"):rg2.t("Control "+t[0].label)}}}}}}),document.querySelector("#rg2-splits-chart").onwheel=t=>{t.preventDefault(),t.deltaY<0?this.resultIndex=this.resultIndex===this.results.length-1?0:this.resultIndex+1:this.resultIndex=0<this.resultIndex?this.resultIndex-1:this.results.length-1,this.prepareStats(this.results[this.resultIndex].rawid)}},incrementIterations:function(){this.iterationIndex=Math.min(this.iterationIndex+1,this.maxIterationIndex),this.setIterations()},decrementIterations:function(){this.iterationIndex=Math.max(this.iterationIndex-1,0),this.setIterations()},setIterations:function(){$("#rg2-iter-text").text(this.iterationIndex+1),this.drawLegChart(),this.generateSummary(),this.generateSplitsChart(),this.generateTableByLegPos(),this.generateTableByRacePos(),this.generateSplitsTable()},generateLegChart:function(){const r=this;this.activeLeg=1,$("#rg2-control-slider").slider({value:this.activeLeg,min:1,max:this.results[this.resultIndex].splits.length-1,step:1,slide:function(t,e){r.activeLeg=e.value,r.drawLegChart()}}),this.drawLegChart()},drawControlText:function(t){let e;e=this.result.splits.length-1===this.activeLeg?rg2.t("Finish"):rg2.t("Control: "+this.activeLeg),$("#rg2-control-number").text(e),e=this.course.exclude[this.activeLeg]?rg2.t("Control excluded"):(t=t.filter(t=>0<t.loss).map(t=>t.loss),t=this.getAverages(t,100),(e=(e="Runners: "+t.count+", average: "+parseInt(t.mean,10)+"s (")+parseInt(1e3*t.mean/this.course.refLegTime[this.iterationIndex][this.activeLeg],10)/10+"%), median: ")+t.median+"s ("+parseInt(1e3*t.median/this.course.refLegTime[this.iterationIndex][this.activeLeg],10)/10+"%)"),$("#rg2-loss-details").text(e)},drawLegChart:function(){void 0!==this.legChart&&(this.legChart.destroy(),this.legChart=void 0);var t=document.getElementById("rg2-leg-chart");const r=[];this.course.exclude[this.activeLeg]||this.results.map(t=>{var e;0<parseInt(t.legSplits[this.activeLeg],10)&&((e={}).loss=parseInt(t.loss[this.iterationIndex][this.activeLeg],10),e.total=parseInt(t.legSplits[this.activeLeg],10),e.predicted=e.total-e.loss,e.pos=t.legpos[this.activeLeg],e.name=t.name,t.rawid===this.rawid&&(e.activeRunner=!0),r.push(e))}),r.sort((t,e)=>t.total-e.total);var e=r.map(t=>t.predicted),s=r.map(t=>t.loss),i=r.map(t=>t.pos),a=r.map(()=>this.course.refLegTime[this.iterationIndex][this.activeLeg]),o=this.results.reduce((t,e)=>Math.max(t,e.legSplits[this.activeLeg]),0),o=300*parseInt((o+299)/300,10);this.drawControlText(r),this.legChart=new Chart(t,{data:{labels:i,datasets:[{label:"Predicted",type:"bar",data:e,backgroundColor:t=>0===r.length?rg2.DARK_GREEN_30:r[t.dataIndex].activeRunner?rg2.config.DARK_GREEN:rg2.config.DARK_GREEN_30},{label:"Loss",type:"bar",data:s,yAxisID:"yLoss",backgroundColor:t=>0===r.length?rg2.RED_30:r[t.dataIndex].activeRunner?rg2.config.RED:rg2.config.RED_30},{label:"Reference time",type:"line",data:a,borderColor:rg2.config.RED,backgroundColor:rg2.config.WHITE,borderDash:[5,5],yAxisID:"yLoss",pointStyle:"circle",pointRadius:0,pointHoverRadius:0}]},options:{scales:{x:{stacked:!0,title:{display:!0,text:"Position"}},yLoss:{stacked:!0,min:0,max:o,title:{display:!0,text:"Time (s)"}}},plugins:{tooltip:{callbacks:{label:function(t){var e=t.dataset.label+": ";return"Loss"===t.dataset.label?e+=rg2.utils.formatSecsAsMMSS(r[t.dataIndex].loss):e+=rg2.utils.formatSecsAsMMSS(r[t.dataIndex].predicted),e},title:function(t){return r[t[0].dataIndex].name+": "+rg2.utils.formatSecsAsMMSS(r[t[0].dataIndex].total)}}}}}}),document.querySelector("#rg2-leg-chart").onwheel=t=>{t.preventDefault(),t.deltaY<0?this.activeLeg=this.activeLeg===this.result.splits.length-1?1:this.activeLeg+1:this.activeLeg=1<this.activeLeg?this.activeLeg-1:this.result.splits.length-1,$("#rg2-control-slider").slider("value",this.activeLeg),this.drawLegChart()}},getMean:function(t){return t.reduce((t,e)=>t+e,0)/t.length},getStandardDeviation:function(t){if(0===t.length)return 0;const r=this.getMean(t);return Math.sqrt(t.reduce((t,e)=>t+Math.pow(e-r,2),0)/t.length)},isNumberOverZero:function(t){return!(isNaN(parseFloat(t))||!isFinite(t))&&0<t},generateTableByLegPos:function(){var t=[];for(let r=0;r<this.results[this.resultIndex].splits.length;r+=1){var s={};if(0===r?s.control="S":r==this.results[this.resultIndex].splits.length-1?s.control="F":s.control=r+" ("+this.course.codes[r]+")",0===r?s.time="0:00":s.time=rg2.utils.formatSecsAsMMSS(this.results[this.resultIndex].legSplits[r]),0===r||0===this.results[this.resultIndex].legpos[r]||this.course.exclude[r]?s.position="-":s.position=this.results[this.resultIndex].legpos[r],0===r||this.course.exclude[r]?s.performance="-":s.performance=(100*this.results[this.resultIndex].refRatio[0][r]).toFixed(1),this.course.exclude[r]?s.best="-":s.best=rg2.utils.formatSecsAsMMSS(this.byLegPos[r][0].t),0===r||this.course.exclude[r])s.who="-";else{let e=this.byLegPos[r][0].name;for(let t=1;t<this.byLegPos[r].length&&this.byLegPos[r][0].t===this.byLegPos[r][t].t;t+=1)e+=", "+this.byLegPos[r][t].name;s.who=e}var e=this.results[this.resultIndex].legSplits[r]-this.byLegPos[r][0].t;0===r||0===this.results[this.resultIndex].legSplits[r]?s.behind="-":s.behind=rg2.utils.formatSecsAsMMSS(e),0===r?s.percent=0:0===this.results[this.resultIndex].legSplits[r]?s.percent="-":s.percent=parseInt(100*e/this.byLegPos[r][0].t,10),this.course.exclude[r]?s.predicted="-":s.predicted=rg2.utils.formatSecsAsMMSS(this.results[this.resultIndex].predictedSplits[this.iterationIndex][r]),0===this.results[this.resultIndex].legSplits[r]?s.loss="-":s.loss=rg2.utils.formatSecsAsMMSS(this.results[this.resultIndex].loss[this.iterationIndex][r]),t.push(s)}var r={columnDefs:[{headerName:rg2.t("Control"),field:"control",width:80},{headerName:rg2.t("Time"),field:"time",width:80,comparator:this.timeComparator.bind(this)},{headerName:rg2.t("Position"),field:"position",width:75},{headerName:rg2.t("Performance"),field:"performance",width:95,comparator:this.perfComparator.bind(this)},{headerName:rg2.t("Best"),field:"best",width:80},{headerName:rg2.t("Who"),field:"who",headerClass:"align-left",cellClass:"align-left",width:180,tooltipField:"who"},{headerName:rg2.t("Behind"),field:"behind",width:80,comparator:this.timeComparator.bind(this)},{headerName:"%",field:"percent",width:60},{headerName:rg2.t("Predicted"),field:"predicted",width:100,comparator:this.timeComparator.bind(this)},{headerName:rg2.t("Loss"),field:"loss",width:75,comparator:this.timeComparator.bind(this)}],rowData:t,domLayout:"autoHeight",defaultColDef:{headerClass:"align-center",cellClass:"align-center",sortable:!0}};$("#rg2-leg-table").empty(),new agGrid.Grid(document.querySelector("#rg2-leg-table"),r)},timeComparator:function(t,e){return this.getTimeValue(t)-this.getTimeValue(e)},getTimeValue:function(t){return"-"===t?0:parseFloat(t.replace(":","."))},perfComparator:function(t,e){return this.getPerfValue(t)-this.getPerfValue(e)},getPerfValue:function(t){return"-"===t?0:parseFloat(t)},getTimeFromLegPos:function(t){return t.t},getAverages:function(t,e){var r=t.slice();if(0===r.length)return{mean:0,median:0,count:0};r.sort(function(t,e){return t-e});let s=0,i=r.length;e<100&&(t=Math.max(parseInt(i*e/100,10),3),r.splice(t),i=r.length);for(let t=0;t<i;t+=1)s+=r[t];let a;return a=1===i?r[0]:i%2==0?(r[i/2-1]+r[i/2])/2:r[Math.floor(i/2)],{mean:s/i,median:a,count:i}},generateTableByRacePos:function(){var t=[];let e=0;for(let r=0;r<this.results[this.resultIndex].splits.length;r+=1){var s={};if(0==r?s.control="S":r==this.results[this.resultIndex].splits.length-1?s.control="F":s.control=r+" ("+this.course.codes[r]+")",0==r?s.time="0:00":this.results[this.resultIndex].splits[r]===this.results[this.resultIndex].splits[r-1]?s.time="":s.time=rg2.utils.formatSecsAsMMSS(this.results[this.resultIndex].splits[r]),0===r||0===this.results[this.resultIndex].racepos[r]?s.position="-":s.position=this.results[this.resultIndex].racepos[r],s.best=rg2.utils.formatSecsAsMMSS(this.byRacePos[r][0].t),0===r)s.who="-";else{let e=this.byRacePos[r][0].name;for(let t=1;t<this.byRacePos[r].length&&this.byRacePos[r][0].t===this.byRacePos[r][t].t;t+=1)e+=", "+this.byRacePos[r][t].name;s.who=e}var i=this.results[this.resultIndex].splits[r]-this.byRacePos[r][0].t;0===r||0===this.results[this.resultIndex].racepos[r]?s.behind="-":s.behind=rg2.utils.formatSecsAsMMSS(i),0===r||0===this.results[this.resultIndex].racepos[r]?s.percent="-":s.percent=parseInt(100*i/this.byRacePos[r][0].t,10),e+=this.results[this.resultIndex].loss[this.iterationIndex][r],s.loss=rg2.utils.formatSecsAsMMSS(e),t.push(s)}var r={columnDefs:[{headerName:rg2.t("Control"),field:"control",width:88},{headerName:rg2.t("Time"),field:"time",width:85},{headerName:rg2.t("Position"),field:"position",width:100},{headerName:rg2.t("Best"),field:"best",width:85},{headerName:rg2.t("Who"),field:"who",headerClass:"align-left",cellClass:"align-left",width:200,tooltipField:"who"},{headerName:rg2.t("Behind"),field:"behind",width:85},{headerName:"%",field:"percent",width:85},{headerName:"Loss",field:"loss",width:100}],rowData:t,domLayout:"autoHeight",defaultColDef:{headerClass:"align-center",cellClass:"align-center"}};$("#rg2-race-table").empty(),new agGrid.Grid(document.querySelector("#rg2-race-table"),r)},generateSplitsTable:function(){var e=[{headerName:rg2.t("Pos"),field:"position",width:60,pinned:"left",sortable:!0},{headerName:rg2.t("Name"),field:"name",headerClass:"align-left",cellClass:"align-left",width:150,pinned:"left"},{headerName:rg2.t("Time"),field:"time",width:85}];for(let t=1;t<this.controls-1;t+=1)e.push({headerName:t+" ("+this.course.codes[t]+")",field:"C"+t,cellRenderer:this.renderSplits,width:110});e.push({headerName:rg2.t("F"),field:"finish",cellRenderer:this.renderSplits,width:110}),e.push({headerName:rg2.t("Loss"),field:"loss",width:100}),e.push({headerName:rg2.t("Performance"),field:"performance",width:100}),e.push({headerName:rg2.t("Consistency"),field:"consistency",width:100});var r=[];this.results.sort(function(t,e){return t.racepos[t.splits.length-1]<=0?1:e.racepos[e.splits.length-1]<=0?-1:t.racepos[t.splits.length-1]-e.racepos[e.splits.length-1]}),this.resultIndex=this.setResultIndex(this.rawid);for(let t=0;t<this.results.length;t+=1){let e={};var s=this.results[t];0==s.racepos[this.controls-1]?e.position="":e.position=s.racepos[this.controls-1],e.name=s.name,e.time=s.time;for(let t=1;t<this.controls-1;t+=1)s.splits[t]===s.splits[t-1]?e["C"+t]={split:"0:00",pos:s.racepos[t],loss:!1}:e["C"+t]={split:rg2.utils.formatSecsAsMMSS(s.splits[t]),pos:s.racepos[t],loss:!1};e.finish={split:rg2.utils.formatSecsAsMMSS(s.splits[this.controls-1]),pos:s.racepos[this.controls-1]},e.loss=rg2.utils.formatSecsAsMMSS(s.timeInSecs-s.totalLoss[this.iterationIndex]),e.performance=(100*s.performanceIndex[0]).toFixed(1);var i=s.refRatio[0].filter(t=>0<t);e.consistency=(100*this.getStandardDeviation(i)).toFixed(1),r.push(e),e={};for(let t=1;t<this.controls-1;t+=1)e["C"+t]={split:rg2.utils.formatSecsAsMMSS(s.legSplits[t]),pos:s.legpos[t],loss:19<s.loss[this.iterationIndex][t]};e.finish={split:rg2.utils.formatSecsAsMMSS(s.legSplits[this.controls-1]),pos:s.legpos[this.controls-1],loss:19<s.loss[this.iterationIndex][this.controls-1]},e.loss=rg2.utils.formatSecsAsMMSS(s.totalLoss[this.iterationIndex]),r.push(e)}var t={columnDefs:e,rowData:r,defaultColDef:{headerClass:"align-center",cellClass:"align-center"}},a=.98*$("#rg2-map-canvas").height()-175;$("#rg2-results-grid-wrapper").removeAttr("style").attr("style","height: "+a+"px;"),$("#rg2-results-grid").empty(),new agGrid.Grid(document.querySelector("#rg2-results-grid"),t)},renderSplits:function(t){if("0:00"===t.value.split)return"";let e=t.value.split,r="";return 0!==t.value.pos&&(e+=" ("+t.value.pos+")",1===t.value.pos&&(r="rg2-first"),2===t.value.pos&&(r="rg2-second"),3===t.value.pos)&&(r="rg2-third"),t.value.loss&&(r+=" rg2-lost-time"),'<span class="'+r+'">'+e+"</span>"},getLegPosInfo:function(){let e=0,r=0,s=0,i=9999;for(let t=1;t<this.result.legpos.length;t+=1)0!==this.result.legpos[t]&&(e+=this.result.legpos[t],r+=1,i>this.result.legpos[t]&&(i=this.result.legpos[t]),s<this.result.legpos[t])&&(s=this.result.legpos[t]);let t;return 0<r?t=(e/r).toFixed(1):(t=0,i=0,s=0),{best:i,worst:s,average:t}},initialiseCourse:function(t){if(this.isScoreOrRelay?this.course={courseid:this.result.variant,codes:this.result.scorecodes,exclude:!1}:this.course=rg2.courses.getCourseDetails(t),this.controls=this.course.codes.length,this.controls<=2)throw new this.rg2Exception(rg2.t("No splits available."));this.byLegPos.length=0;var r=[],s=[];for(let e=this.byRacePos.length=0;e<this.controls;e+=1){for(let t=s.length=r.length=0;t<this.results.length;t+=1)0===e?(r.push({t:0,name:"",pos:0}),s.push({t:0,name:"",pos:0})):(r.push({t:this.results[t].legSplits[e],name:this.results[t].name,pos:this.results[t].legpos[e]}),e<=this.results[t].lastValidSplit&&s.push({t:this.results[t].splits[e],name:this.results[t].name,pos:this.results[t].racepos[e]}));r.sort(function(t,e){return 0===t.t?1:0===e.t?-1:t.t-e.t}),s.sort(function(t,e){return t.t-e.t}),this.byLegPos.push(r.slice()),this.byRacePos.push(s.slice())}},iterateLostTime:function(){for(let t=0;t<=this.maxIterationIndex;t+=1)this.calculateSplitsforIteration(t),this.calculatePerformanceForIteration(t),this.calculateLostTimeForIteration(t)},calculateSplitsforIteration:function(r){for(let e=0;e<this.results.length;e+=1){0===r&&(this.results[e].iterSplits=[]);var s=[];for(let t=0;t<this.controls;t+=1)s.push((0===r?this.results[e].legSplits:this.results[e].predictedSplits[r-1])[t]);this.results[e].iterSplits[r]=s.slice(0)}},calculatePerformanceForIteration:function(i){0===i&&(this.course.refLegTime=[],this.course.refTime=[]);var r=[],t=[];for(let e=0;e<this.controls;e+=1){if(r.length=0,!this.course.exclude[e])for(let t=0;t<this.results.length;t+=1)0!==this.results[t].iterSplits[i][e]&&r.push(this.results[t].iterSplits[i][e]);var s=this.getAverages(r,25);t.push(s.median)}this.course.refLegTime[i]=t.slice(0),this.course.refTime[i]=t.reduce((t,e)=>t+e);for(let s=0;s<this.results.length;s+=1){0===i&&(this.results[s].refRatio=[],this.results[s].performanceIndex=[],this.results[s].normalPerformanceIndex=[],this.results[s].totalSecs=[]),this.results[s].refRatio[i]=[];var a=[];for(let t=0;t<this.controls;t+=1)0===this.results[s].iterSplits[i][t]?this.results[s].refRatio[i][t]=0:this.results[s].refRatio[i][t]=this.course.refLegTime[i][t]/this.results[s].iterSplits[i][t],a.push(this.results[s].refRatio[i][t]);var o=a.filter(t=>0<t),o=this.getAverages(o,100);this.results[s].performanceIndex[i]=o.median,this.results[s].totalSecs[i]=this.results[s].iterSplits[i].reduce((t,e)=>t+e);let e=0,r=0;for(let t=0;t<this.controls;t+=1)0!==this.results[s].iterSplits[i][t]&&(e+=this.results[s].refRatio[i][t]*this.course.refLegTime[i][t],r+=this.course.refLegTime[i][t]);0===e?this.results[s].normalPerformanceIndex[i]=0:this.results[s].normalPerformanceIndex[i]=e/r}},calculateLostTimeForIteration:function(s){for(let r=0;r<this.results.length;r+=1){0===s&&(this.results[r].predictedSplits=[],this.results[r].loss=[],this.results[r].totalLoss=[]),this.results[r].predictedSplits[s]=[],this.results[r].predictedSplits[s][0]=0,this.results[r].loss[s]=[];let e=this.results[r].loss[s][0]=0;for(let t=0;t<this.controls;t+=1)0<this.results[r].performanceIndex[s]?this.results[r].predictedSplits[s][t]=parseInt(this.course.refLegTime[s][t]/this.results[r].normalPerformanceIndex[s],10):this.results[r].predictedSplits[s][t]=this.results[r].legSplits[t],this.results[r].loss[s][t]=this.results[r].legSplits[t]-this.results[r].predictedSplits[s][t],this.results[r].loss[s][t]<0&&(this.results[r].loss[s][t]=0),e+=this.results[r].loss[s][t];this.results[r].totalLoss[s]=e}}},rg2.Stats=t}(),function(){var t={rotatePoint:function(t,e,r){var s={};return s.x=Math.cos(r)*t-Math.sin(r)*e,s.y=Math.sin(r)*t+Math.cos(r)*e,s},getDistanceBetweenPoints:function(t,e,r,s){return Math.sqrt(Math.pow(t-r,2)+Math.pow(e-s,2))},getAngle:function(t,e,r,s){s=Math.atan2(s-e,r-t);return s<0&&(s+=2*Math.PI),s},getLatLonDistance:function(t,e,r,s){var i=(r-t).toRad(),s=(s-e).toRad(),e=Math.sin(i/2)*Math.sin(i/2)+Math.cos(t.toRad())*Math.cos(r.toRad())*Math.sin(s/2)*Math.sin(s/2);return 12742018*Math.atan2(Math.sqrt(e),Math.sqrt(1-e))},getSecsFromHHMMSS:function(t){var e;return!t||(e=0,2===(t=t.replace(/\./g,":").split(":")).length?e=60*parseInt(t[0],10)+parseInt(t[1],10):3===t.length&&(e=3600*parseInt(t[0],10)+60*parseInt(t[1],10)+parseInt(t[2],10)),isNaN(e))?0:e},getSecsFromHHMM:function(t){return!t||(t=t.split(":"),t=3600*parseInt(t[0],10)+60*parseInt(t[1],10),isNaN(t))?0:t},formatSecsAsMMSS:function(t){var e=Math.floor(t/60),r=e,t=t-60*e;return r+=t<10?":0"+t:":"+t},formatSecsAsHHMMSS:function(t){var e=Math.floor(t/3600),r=e<10?"0"+e+":":e+":";return t-=3600*e,r=r+((e=Math.floor(t/60))<10?"0"+e:e)+((t-=60*e)<10?":0"+t:":"+t)},showWarningDialog:function(t,e){$("<div id=rg2-warning-dialog>"+e+"</div>").dialog({title:t,dialogClass:"rg2-warning-dialog",close:function(){$("#rg2-warning-dialog").dialog("destroy").remove()}})},setButtonState:function(t,e){for(var r=0;r<e.length;r+=1)$(e[r]).button(t)},generateOption:function(t,e,r){var s=document.createElement("option");return s.value=t,s.text=e,r&&(s.selected=!0),s},extractAttributeZero:function(t,e,r){return 0<t.length?t[0].getAttribute(e).trim():r},extractTextContentZero:function(t,e){return 0<t.length?t[0].textContent.trim():e},generateRouteShareLink:function(t){var e=rg2.results.getFullResultForRawID(t),r=rg2Config.json_url.replace("rg2api.php","#"+rg2.events.getKartatEventID());return r+="&route="+t,void 0!==e&&(r+="&course="+e.courseid),r},showShareDialog:function(t,e,r){e=this.getShareDialog(e,r);$(e).dialog({title:t,dialogClass:"rg2-share-dialog",width:"auto",close:function(){$("#rg2-share-dialog").dialog("destroy").remove()}})},getShareDialog:function(t,e){t=this.generateRouteShareLink(t),e="<div id=rg2-share-dialog><p>"+rg2.t(e)+"</p>";return e+='<input autofocus onFocus="this.select()" readonly size='+t.length+" value="+t+"></input></div>"},createModalDialog:function(t){var e=this;e.onDo=t.onDo,e.onCancel=t.onCancel,$(t.selector).dialog({title:t.title,modal:!0,dialogClass:"no-close "+t.classes,closeOnEscape:!1,buttons:[{text:t.doText,click:function(){e.onDo()}},{text:"Cancel",click:function(){e.onCancel()}}]})}};function e(){this.colours=["#ff0000","#00ff00","#0000ff","#800000","#008000","#000080","#ffff00","#ff00ff","#00ffff","#808000","#800080","#008080"],this.colourIndex=0}function r(t){this.x="",this.y=t,this.name=null,this.password=null}function s(){this.id=0,this.courses=[],this.routes=[],this.hash=""}Number.prototype.toRad=function(){return this*Math.PI/180},e.prototype={Constructor:e,getNextColour:function(){return this.colourIndex=(this.colourIndex+1)%this.colours.length,this.colours[this.colourIndex]}},r.prototype={Constructor:r,setDetails:function(t,e){return 4<t.length&&4<e.length&&(this.name=t,this.password=e,!0)},alterString:function(t,e){for(var r="",s=0;s<t.length;s+=1)r+=t.charAt(s)+e.charAt(s);return r},encodeUser:function(){return{x:this.alterString(this.name+this.password,this.y),y:this.y}}},s.prototype={Constructor:s,parseHash:function(t){var e,r;for(this.id=0,this.courses.length=0,this.routes.length=0,e=t.split("&"),r=0;r<e.length;r+=1)e[r]=e[r].toLowerCase(),-1!==e[r].search("#")&&(this.id=parseInt(e[r].replace("#",""),10)),-1!==e[r].search("course=")&&(this.courses=e[r].replace("course=","").split(",")),-1!==e[r].search("route=")&&(this.routes=e[r].replace("route=","").split(","));return this.courses=this.courses.map(Number),this.routes=this.routes.map(Number),isNaN(this.id)&&(this.id=0,this.courses.length=0,this.routes.length=0),this.setHash(),this.id},getRoutes:function(){return this.routes},getCourses:function(){return this.courses},getID:function(){return this.id},getTab:function(){return 0<this.routes.length?rg2.config.TAB_RESULTS:rg2.config.TAB_COURSES},setCourses:function(){this.courses=rg2.courses.getCoursesOnDisplay(),this.setHash(),window.history.replaceState({hash:this.hash},"",this.hash)},setRoutes:function(){this.routes=rg2.results.getTracksOnDisplay(),this.setHash(),window.history.replaceState({hash:this.hash},"",this.hash)},setNewEvent:function(t){this.id=t,this.courses.length=0,this.routes.length=0,this.setHash(),window.history.pushState({hash:this.hash},"",this.hash)},getHash:function(){return this.hash},setHash:function(){0===this.id?this.hash="#0":(this.hash="#"+this.id+this.extractItems(this.courses,"&course="),this.hash+=this.extractItems(this.routes,"&route="))},extractItems:function(t,e){var r,s="";if(0<t.length)for(s+=e,r=0;r<t.length;r+=1)0<r&&(s+=","),s+=t[r];return s}},rg2.utils=t,rg2.RouteData=function(){this.courseid=null,this.coursename=null,this.controlsToAdjust=0,this.resultid=null,this.isScoreCourse=!1,this.eventid=null,this.name=null,this.comments=null,this.x=[],this.y=[],this.controlx=[],this.controly=[],this.time=[],this.startsecs=0,this.totaltime=0,this.splits=[]},rg2.RequestedHash=s,rg2.Colours=e,rg2.User=r}(),function(){function i(t,e){if(!t)return e;var r,s={};for(r in e)s[r]=(S(t,r)?t:e)[r];return s}function d(t,e){var r="";return 55296<=t&&t<=57343||1114111<t?(e&&k("character reference outside the permissible Unicode range"),"�"):S(y,t)?(e&&k("disallowed character reference"),y[t]):(e&&w(x,t)&&k("disallowed character reference"),65535<t&&(r+=b((t-=65536)>>>10&1023|55296),t=56320|1023&t),r+b(t))}function a(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"}function o(t,e){(e=i(e,o.options)).strict&&p.test(t)&&k("forbidden code point");var r=e.encodeEverything,s=e.useNamedReferences,e=e.allowUnsafeSymbols;return r?(t=t.replace(l,function(t){return s&&S(h,t)?"&"+h[t]+";":a(t)}),s&&(t=t.replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;").replace(/&#x66;&#x6A;/g,"&fjlig;")),s&&(t=t.replace(u,function(t){return"&"+h[t]+";"}))):s?t=(t=(t=e?t:t.replace(g,function(t){return"&"+h[t]+";"})).replace(/&gt;\u20D2/g,"&nvgt;").replace(/&lt;\u20D2/g,"&nvlt;")).replace(u,function(t){return"&"+h[t]+";"}):e||(t=t.replace(g,a)),t.replace(n,function(t){return"&#x"+(1024*(t.charCodeAt(0)-55296)+t.charCodeAt(1)-56320+65536).toString(16).toUpperCase()+";"}).replace(c,a)}function e(t,h){var g=(h=i(h,e.options)).strict;return g&&s.test(t)&&k("malformed character reference"),t.replace(f,function(t,e,r,s,i,a,o,n){var l,c,u;return e?(l=e,c=r,g&&!c&&k("character reference was not terminated by a semicolon"),d(l,g)):s?(e=s,c=i,g&&!c&&k("character reference was not terminated by a semicolon"),l=parseInt(e,16),d(l,g)):a?S(m,u=a)?m[u]:(g&&k("named character reference was not terminated by a semicolon"),t):(u=o,(r=n)&&h.isAttributeValue?(g&&"="==r&&k("`&` did not start a character reference"),t):(g&&k("named character reference was not terminated by a semicolon"),v[u]+(r||"")))})}var n=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,l=/[\x01-\x7F]/g,c=/[\x01-\t\x0B\f\x0E-\x1F\x7F\x81\x8D\x8F\x90\x9D\xA0-\uFFFF]/g,u=/<\u20D2|=\u20E5|>\u20D2|\u205F\u200A|\u219D\u0338|\u2202\u0338|\u2220\u20D2|\u2229\uFE00|\u222A\uFE00|\u223C\u20D2|\u223D\u0331|\u223E\u0333|\u2242\u0338|\u224B\u0338|\u224D\u20D2|\u224E\u0338|\u224F\u0338|\u2250\u0338|\u2261\u20E5|\u2264\u20D2|\u2265\u20D2|\u2266\u0338|\u2267\u0338|\u2268\uFE00|\u2269\uFE00|\u226A\u0338|\u226A\u20D2|\u226B\u0338|\u226B\u20D2|\u227F\u0338|\u2282\u20D2|\u2283\u20D2|\u228A\uFE00|\u228B\uFE00|\u228F\u0338|\u2290\u0338|\u2293\uFE00|\u2294\uFE00|\u22B4\u20D2|\u22B5\u20D2|\u22D8\u0338|\u22D9\u0338|\u22DA\uFE00|\u22DB\uFE00|\u22F5\u0338|\u22F9\u0338|\u2933\u0338|\u29CF\u0338|\u29D0\u0338|\u2A6D\u0338|\u2A70\u0338|\u2A7D\u0338|\u2A7E\u0338|\u2AA1\u0338|\u2AA2\u0338|\u2AAC\uFE00|\u2AAD\uFE00|\u2AAF\u0338|\u2AB0\u0338|\u2AC5\u0338|\u2AC6\u0338|\u2ACB\uFE00|\u2ACC\uFE00|\u2AFD\u20E5|[\xA0-\u0113\u0116-\u0122\u0124-\u012B\u012E-\u014D\u0150-\u017E\u0192\u01B5\u01F5\u0237\u02C6\u02C7\u02D8-\u02DD\u0311\u0391-\u03A1\u03A3-\u03A9\u03B1-\u03C9\u03D1\u03D2\u03D5\u03D6\u03DC\u03DD\u03F0\u03F1\u03F5\u03F6\u0401-\u040C\u040E-\u044F\u0451-\u045C\u045E\u045F\u2002-\u2005\u2007-\u2010\u2013-\u2016\u2018-\u201A\u201C-\u201E\u2020-\u2022\u2025\u2026\u2030-\u2035\u2039\u203A\u203E\u2041\u2043\u2044\u204F\u2057\u205F-\u2063\u20AC\u20DB\u20DC\u2102\u2105\u210A-\u2113\u2115-\u211E\u2122\u2124\u2127-\u2129\u212C\u212D\u212F-\u2131\u2133-\u2138\u2145-\u2148\u2153-\u215E\u2190-\u219B\u219D-\u21A7\u21A9-\u21AE\u21B0-\u21B3\u21B5-\u21B7\u21BA-\u21DB\u21DD\u21E4\u21E5\u21F5\u21FD-\u2205\u2207-\u2209\u220B\u220C\u220F-\u2214\u2216-\u2218\u221A\u221D-\u2238\u223A-\u2257\u2259\u225A\u225C\u225F-\u2262\u2264-\u228B\u228D-\u229B\u229D-\u22A5\u22A7-\u22B0\u22B2-\u22BB\u22BD-\u22DB\u22DE-\u22E3\u22E6-\u22F7\u22F9-\u22FE\u2305\u2306\u2308-\u2310\u2312\u2313\u2315\u2316\u231C-\u231F\u2322\u2323\u232D\u232E\u2336\u233D\u233F\u237C\u23B0\u23B1\u23B4-\u23B6\u23DC-\u23DF\u23E2\u23E7\u2423\u24C8\u2500\u2502\u250C\u2510\u2514\u2518\u251C\u2524\u252C\u2534\u253C\u2550-\u256C\u2580\u2584\u2588\u2591-\u2593\u25A1\u25AA\u25AB\u25AD\u25AE\u25B1\u25B3-\u25B5\u25B8\u25B9\u25BD-\u25BF\u25C2\u25C3\u25CA\u25CB\u25EC\u25EF\u25F8-\u25FC\u2605\u2606\u260E\u2640\u2642\u2660\u2663\u2665\u2666\u266A\u266D-\u266F\u2713\u2717\u2720\u2736\u2758\u2772\u2773\u27C8\u27C9\u27E6-\u27ED\u27F5-\u27FA\u27FC\u27FF\u2902-\u2905\u290C-\u2913\u2916\u2919-\u2920\u2923-\u292A\u2933\u2935-\u2939\u293C\u293D\u2945\u2948-\u294B\u294E-\u2976\u2978\u2979\u297B-\u297F\u2985\u2986\u298B-\u2996\u299A\u299C\u299D\u29A4-\u29B7\u29B9\u29BB\u29BC\u29BE-\u29C5\u29C9\u29CD-\u29D0\u29DC-\u29DE\u29E3-\u29E5\u29EB\u29F4\u29F6\u2A00-\u2A02\u2A04\u2A06\u2A0C\u2A0D\u2A10-\u2A17\u2A22-\u2A27\u2A29\u2A2A\u2A2D-\u2A31\u2A33-\u2A3C\u2A3F\u2A40\u2A42-\u2A4D\u2A50\u2A53-\u2A58\u2A5A-\u2A5D\u2A5F\u2A66\u2A6A\u2A6D-\u2A75\u2A77-\u2A9A\u2A9D-\u2AA2\u2AA4-\u2AB0\u2AB3-\u2AC8\u2ACB\u2ACC\u2ACF-\u2ADB\u2AE4\u2AE6-\u2AE9\u2AEB-\u2AF3\u2AFD\uFB00-\uFB04]|\uD835[\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDCCF\uDD04\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDD6B]/g,h={"Á":"Aacute","á":"aacute","Ă":"Abreve","ă":"abreve","∾":"ac","∿":"acd","∾̳":"acE","Â":"Acirc","â":"acirc","´":"acute","А":"Acy","а":"acy","Æ":"AElig","æ":"aelig","⁡":"af","𝔄":"Afr","𝔞":"afr","À":"Agrave","à":"agrave","ℵ":"aleph","Α":"Alpha","α":"alpha","Ā":"Amacr","ā":"amacr","⨿":"amalg","&":"amp","⩕":"andand","⩓":"And","∧":"and","⩜":"andd","⩘":"andslope","⩚":"andv","∠":"ang","⦤":"ange","⦨":"angmsdaa","⦩":"angmsdab","⦪":"angmsdac","⦫":"angmsdad","⦬":"angmsdae","⦭":"angmsdaf","⦮":"angmsdag","⦯":"angmsdah","∡":"angmsd","∟":"angrt","⊾":"angrtvb","⦝":"angrtvbd","∢":"angsph","Å":"angst","⍼":"angzarr","Ą":"Aogon","ą":"aogon","𝔸":"Aopf","𝕒":"aopf","⩯":"apacir","≈":"ap","⩰":"apE","≊":"ape","≋":"apid","'":"apos","å":"aring","𝒜":"Ascr","𝒶":"ascr","≔":"colone","*":"ast","≍":"CupCap","Ã":"Atilde","ã":"atilde","Ä":"Auml","ä":"auml","∳":"awconint","⨑":"awint","≌":"bcong","϶":"bepsi","‵":"bprime","∽":"bsim","⋍":"bsime","∖":"setmn","⫧":"Barv","⊽":"barvee","⌅":"barwed","⌆":"Barwed","⎵":"bbrk","⎶":"bbrktbrk","Б":"Bcy","б":"bcy","„":"bdquo","∵":"becaus","⦰":"bemptyv","ℬ":"Bscr","Β":"Beta","β":"beta","ℶ":"beth","≬":"twixt","𝔅":"Bfr","𝔟":"bfr","⋂":"xcap","◯":"xcirc","⋃":"xcup","⨀":"xodot","⨁":"xoplus","⨂":"xotime","⨆":"xsqcup","★":"starf","▽":"xdtri","△":"xutri","⨄":"xuplus","⋁":"Vee","⋀":"Wedge","⤍":"rbarr","⧫":"lozf","▪":"squf","▴":"utrif","▾":"dtrif","◂":"ltrif","▸":"rtrif","␣":"blank","▒":"blk12","░":"blk14","▓":"blk34","█":"block","=⃥":"bne","≡⃥":"bnequiv","⫭":"bNot","⌐":"bnot","𝔹":"Bopf","𝕓":"bopf","⊥":"bot","⋈":"bowtie","⧉":"boxbox","┐":"boxdl","╕":"boxdL","╖":"boxDl","╗":"boxDL","┌":"boxdr","╒":"boxdR","╓":"boxDr","╔":"boxDR","─":"boxh","═":"boxH","┬":"boxhd","╤":"boxHd","╥":"boxhD","╦":"boxHD","┴":"boxhu","╧":"boxHu","╨":"boxhU","╩":"boxHU","⊟":"minusb","⊞":"plusb","⊠":"timesb","┘":"boxul","╛":"boxuL","╜":"boxUl","╝":"boxUL","└":"boxur","╘":"boxuR","╙":"boxUr","╚":"boxUR","│":"boxv","║":"boxV","┼":"boxvh","╪":"boxvH","╫":"boxVh","╬":"boxVH","┤":"boxvl","╡":"boxvL","╢":"boxVl","╣":"boxVL","├":"boxvr","╞":"boxvR","╟":"boxVr","╠":"boxVR","˘":"breve","¦":"brvbar","𝒷":"bscr","⁏":"bsemi","⧅":"bsolb","\\":"bsol","⟈":"bsolhsub","•":"bull","≎":"bump","⪮":"bumpE","≏":"bumpe","Ć":"Cacute","ć":"cacute","⩄":"capand","⩉":"capbrcup","⩋":"capcap","∩":"cap","⋒":"Cap","⩇":"capcup","⩀":"capdot","ⅅ":"DD","∩︀":"caps","⁁":"caret","ˇ":"caron","ℭ":"Cfr","⩍":"ccaps","Č":"Ccaron","č":"ccaron","Ç":"Ccedil","ç":"ccedil","Ĉ":"Ccirc","ĉ":"ccirc","∰":"Cconint","⩌":"ccups","⩐":"ccupssm","Ċ":"Cdot","ċ":"cdot","¸":"cedil","⦲":"cemptyv","¢":"cent","·":"middot","𝔠":"cfr","Ч":"CHcy","ч":"chcy","✓":"check","Χ":"Chi","χ":"chi","ˆ":"circ","≗":"cire","↺":"olarr","↻":"orarr","⊛":"oast","⊚":"ocir","⊝":"odash","⊙":"odot","®":"reg","Ⓢ":"oS","⊖":"ominus","⊕":"oplus","⊗":"otimes","○":"cir","⧃":"cirE","⨐":"cirfnint","⫯":"cirmid","⧂":"cirscir","∲":"cwconint","”":"rdquo","’":"rsquo","♣":"clubs",":":"colon","∷":"Colon","⩴":"Colone",",":"comma","@":"commat","∁":"comp","∘":"compfn","ℂ":"Copf","≅":"cong","⩭":"congdot","≡":"equiv","∮":"oint","∯":"Conint","𝕔":"copf","∐":"coprod","©":"copy","℗":"copysr","↵":"crarr","✗":"cross","⨯":"Cross","𝒞":"Cscr","𝒸":"cscr","⫏":"csub","⫑":"csube","⫐":"csup","⫒":"csupe","⋯":"ctdot","⤸":"cudarrl","⤵":"cudarrr","⋞":"cuepr","⋟":"cuesc","↶":"cularr","⤽":"cularrp","⩈":"cupbrcap","⩆":"cupcap","∪":"cup","⋓":"Cup","⩊":"cupcup","⊍":"cupdot","⩅":"cupor","∪︀":"cups","↷":"curarr","⤼":"curarrm","⋎":"cuvee","⋏":"cuwed","¤":"curren","∱":"cwint","⌭":"cylcty","†":"dagger","‡":"Dagger","ℸ":"daleth","↓":"darr","↡":"Darr","⇓":"dArr","‐":"dash","⫤":"Dashv","⊣":"dashv","⤏":"rBarr","˝":"dblac","Ď":"Dcaron","ď":"dcaron","Д":"Dcy","д":"dcy","⇊":"ddarr","ⅆ":"dd","⤑":"DDotrahd","⩷":"eDDot","°":"deg","∇":"Del","Δ":"Delta","δ":"delta","⦱":"demptyv","⥿":"dfisht","𝔇":"Dfr","𝔡":"dfr","⥥":"dHar","⇃":"dharl","⇂":"dharr","˙":"dot","`":"grave","˜":"tilde","⋄":"diam","♦":"diams","¨":"die","ϝ":"gammad","⋲":"disin","÷":"div","⋇":"divonx","Ђ":"DJcy","ђ":"djcy","⌞":"dlcorn","⌍":"dlcrop",$:"dollar","𝔻":"Dopf","𝕕":"dopf","⃜":"DotDot","≐":"doteq","≑":"eDot","∸":"minusd","∔":"plusdo","⊡":"sdotb","⇐":"lArr","⇔":"iff","⟸":"xlArr","⟺":"xhArr","⟹":"xrArr","⇒":"rArr","⊨":"vDash","⇑":"uArr","⇕":"vArr","∥":"par","⤓":"DownArrowBar","⇵":"duarr","̑":"DownBreve","⥐":"DownLeftRightVector","⥞":"DownLeftTeeVector","⥖":"DownLeftVectorBar","↽":"lhard","⥟":"DownRightTeeVector","⥗":"DownRightVectorBar","⇁":"rhard","↧":"mapstodown","⊤":"top","⤐":"RBarr","⌟":"drcorn","⌌":"drcrop","𝒟":"Dscr","𝒹":"dscr","Ѕ":"DScy","ѕ":"dscy","⧶":"dsol","Đ":"Dstrok","đ":"dstrok","⋱":"dtdot","▿":"dtri","⥯":"duhar","⦦":"dwangle","Џ":"DZcy","џ":"dzcy","⟿":"dzigrarr","É":"Eacute","é":"eacute","⩮":"easter","Ě":"Ecaron","ě":"ecaron","Ê":"Ecirc","ê":"ecirc","≖":"ecir","≕":"ecolon","Э":"Ecy","э":"ecy","Ė":"Edot","ė":"edot","ⅇ":"ee","≒":"efDot","𝔈":"Efr","𝔢":"efr","⪚":"eg","È":"Egrave","è":"egrave","⪖":"egs","⪘":"egsdot","⪙":"el","∈":"in","⏧":"elinters","ℓ":"ell","⪕":"els","⪗":"elsdot","Ē":"Emacr","ē":"emacr","∅":"empty","◻":"EmptySmallSquare","▫":"EmptyVerySmallSquare"," ":"emsp13"," ":"emsp14"," ":"emsp","Ŋ":"ENG","ŋ":"eng"," ":"ensp","Ę":"Eogon","ę":"eogon","𝔼":"Eopf","𝕖":"eopf","⋕":"epar","⧣":"eparsl","⩱":"eplus","ε":"epsi","Ε":"Epsilon","ϵ":"epsiv","≂":"esim","⩵":"Equal","=":"equals","≟":"equest","⇌":"rlhar","⩸":"equivDD","⧥":"eqvparsl","⥱":"erarr","≓":"erDot","ℯ":"escr","ℰ":"Escr","⩳":"Esim","Η":"Eta","η":"eta","Ð":"ETH","ð":"eth","Ë":"Euml","ë":"euml","€":"euro","!":"excl","∃":"exist","Ф":"Fcy","ф":"fcy","♀":"female","ﬃ":"ffilig","ﬀ":"fflig","ﬄ":"ffllig","𝔉":"Ffr","𝔣":"ffr","ﬁ":"filig","◼":"FilledSmallSquare",fj:"fjlig","♭":"flat","ﬂ":"fllig","▱":"fltns","ƒ":"fnof","𝔽":"Fopf","𝕗":"fopf","∀":"forall","⋔":"fork","⫙":"forkv","ℱ":"Fscr","⨍":"fpartint","½":"half","⅓":"frac13","¼":"frac14","⅕":"frac15","⅙":"frac16","⅛":"frac18","⅔":"frac23","⅖":"frac25","¾":"frac34","⅗":"frac35","⅜":"frac38","⅘":"frac45","⅚":"frac56","⅝":"frac58","⅞":"frac78","⁄":"frasl","⌢":"frown","𝒻":"fscr","ǵ":"gacute","Γ":"Gamma","γ":"gamma","Ϝ":"Gammad","⪆":"gap","Ğ":"Gbreve","ğ":"gbreve","Ģ":"Gcedil","Ĝ":"Gcirc","ĝ":"gcirc","Г":"Gcy","г":"gcy","Ġ":"Gdot","ġ":"gdot","≥":"ge","≧":"gE","⪌":"gEl","⋛":"gel","⩾":"ges","⪩":"gescc","⪀":"gesdot","⪂":"gesdoto","⪄":"gesdotol","⋛︀":"gesl","⪔":"gesles","𝔊":"Gfr","𝔤":"gfr","≫":"gg","⋙":"Gg","ℷ":"gimel","Ѓ":"GJcy","ѓ":"gjcy","⪥":"gla","≷":"gl","⪒":"glE","⪤":"glj","⪊":"gnap","⪈":"gne","≩":"gnE","⋧":"gnsim","𝔾":"Gopf","𝕘":"gopf","⪢":"GreaterGreater","≳":"gsim","𝒢":"Gscr","ℊ":"gscr","⪎":"gsime","⪐":"gsiml","⪧":"gtcc","⩺":"gtcir",">":"gt","⋗":"gtdot","⦕":"gtlPar","⩼":"gtquest","⥸":"gtrarr","≩︀":"gvnE"," ":"hairsp","ℋ":"Hscr","Ъ":"HARDcy","ъ":"hardcy","⥈":"harrcir","↔":"harr","↭":"harrw","^":"Hat","ℏ":"hbar","Ĥ":"Hcirc","ĥ":"hcirc","♥":"hearts","…":"mldr","⊹":"hercon","𝔥":"hfr","ℌ":"Hfr","⤥":"searhk","⤦":"swarhk","⇿":"hoarr","∻":"homtht","↩":"larrhk","↪":"rarrhk","𝕙":"hopf","ℍ":"Hopf","―":"horbar","𝒽":"hscr","Ħ":"Hstrok","ħ":"hstrok","⁃":"hybull","Í":"Iacute","í":"iacute","⁣":"ic","Î":"Icirc","î":"icirc","И":"Icy","и":"icy","İ":"Idot","Е":"IEcy","е":"iecy","¡":"iexcl","𝔦":"ifr","ℑ":"Im","Ì":"Igrave","ì":"igrave","ⅈ":"ii","⨌":"qint","∭":"tint","⧜":"iinfin","℩":"iiota","Ĳ":"IJlig","ĳ":"ijlig","Ī":"Imacr","ī":"imacr","ℐ":"Iscr","ı":"imath","⊷":"imof","Ƶ":"imped","℅":"incare","∞":"infin","⧝":"infintie","⊺":"intcal","∫":"int","∬":"Int","ℤ":"Zopf","⨗":"intlarhk","⨼":"iprod","⁢":"it","Ё":"IOcy","ё":"iocy","Į":"Iogon","į":"iogon","𝕀":"Iopf","𝕚":"iopf","Ι":"Iota","ι":"iota","¿":"iquest","𝒾":"iscr","⋵":"isindot","⋹":"isinE","⋴":"isins","⋳":"isinsv","Ĩ":"Itilde","ĩ":"itilde","І":"Iukcy","і":"iukcy","Ï":"Iuml","ï":"iuml","Ĵ":"Jcirc","ĵ":"jcirc","Й":"Jcy","й":"jcy","𝔍":"Jfr","𝔧":"jfr","ȷ":"jmath","𝕁":"Jopf","𝕛":"jopf","𝒥":"Jscr","𝒿":"jscr","Ј":"Jsercy","ј":"jsercy","Є":"Jukcy","є":"jukcy","Κ":"Kappa","κ":"kappa","ϰ":"kappav","Ķ":"Kcedil","ķ":"kcedil","К":"Kcy","к":"kcy","𝔎":"Kfr","𝔨":"kfr","ĸ":"kgreen","Х":"KHcy","х":"khcy","Ќ":"KJcy","ќ":"kjcy","𝕂":"Kopf","𝕜":"kopf","𝒦":"Kscr","𝓀":"kscr","⇚":"lAarr","Ĺ":"Lacute","ĺ":"lacute","⦴":"laemptyv","ℒ":"Lscr","Λ":"Lambda","λ":"lambda","⟨":"lang","⟪":"Lang","⦑":"langd","⪅":"lap","«":"laquo","⇤":"larrb","⤟":"larrbfs","←":"larr","↞":"Larr","⤝":"larrfs","↫":"larrlp","⤹":"larrpl","⥳":"larrsim","↢":"larrtl","⤙":"latail","⤛":"lAtail","⪫":"lat","⪭":"late","⪭︀":"lates","⤌":"lbarr","⤎":"lBarr","❲":"lbbrk","{":"lcub","[":"lsqb","⦋":"lbrke","⦏":"lbrksld","⦍":"lbrkslu","Ľ":"Lcaron","ľ":"lcaron","Ļ":"Lcedil","ļ":"lcedil","⌈":"lceil","Л":"Lcy","л":"lcy","⤶":"ldca","“":"ldquo","⥧":"ldrdhar","⥋":"ldrushar","↲":"ldsh","≤":"le","≦":"lE","⇆":"lrarr","⟦":"lobrk","⥡":"LeftDownTeeVector","⥙":"LeftDownVectorBar","⌊":"lfloor","↼":"lharu","⇇":"llarr","⇋":"lrhar","⥎":"LeftRightVector","↤":"mapstoleft","⥚":"LeftTeeVector","⋋":"lthree","⧏":"LeftTriangleBar","⊲":"vltri","⊴":"ltrie","⥑":"LeftUpDownVector","⥠":"LeftUpTeeVector","⥘":"LeftUpVectorBar","↿":"uharl","⥒":"LeftVectorBar","⪋":"lEg","⋚":"leg","⩽":"les","⪨":"lescc","⩿":"lesdot","⪁":"lesdoto","⪃":"lesdotor","⋚︀":"lesg","⪓":"lesges","⋖":"ltdot","≶":"lg","⪡":"LessLess","≲":"lsim","⥼":"lfisht","𝔏":"Lfr","𝔩":"lfr","⪑":"lgE","⥢":"lHar","⥪":"lharul","▄":"lhblk","Љ":"LJcy","љ":"ljcy","≪":"ll","⋘":"Ll","⥫":"llhard","◺":"lltri","Ŀ":"Lmidot","ŀ":"lmidot","⎰":"lmoust","⪉":"lnap","⪇":"lne","≨":"lnE","⋦":"lnsim","⟬":"loang","⇽":"loarr","⟵":"xlarr","⟷":"xharr","⟼":"xmap","⟶":"xrarr","↬":"rarrlp","⦅":"lopar","𝕃":"Lopf","𝕝":"lopf","⨭":"loplus","⨴":"lotimes","∗":"lowast",_:"lowbar","↙":"swarr","↘":"searr","◊":"loz","(":"lpar","⦓":"lparlt","⥭":"lrhard","‎":"lrm","⊿":"lrtri","‹":"lsaquo","𝓁":"lscr","↰":"lsh","⪍":"lsime","⪏":"lsimg","‘":"lsquo","‚":"sbquo","Ł":"Lstrok","ł":"lstrok","⪦":"ltcc","⩹":"ltcir","<":"lt","⋉":"ltimes","⥶":"ltlarr","⩻":"ltquest","◃":"ltri","⦖":"ltrPar","⥊":"lurdshar","⥦":"luruhar","≨︀":"lvnE","¯":"macr","♂":"male","✠":"malt","⤅":"Map","↦":"map","↥":"mapstoup","▮":"marker","⨩":"mcomma","М":"Mcy","м":"mcy","—":"mdash","∺":"mDDot"," ":"MediumSpace","ℳ":"Mscr","𝔐":"Mfr","𝔪":"mfr","℧":"mho","µ":"micro","⫰":"midcir","∣":"mid","−":"minus","⨪":"minusdu","∓":"mp","⫛":"mlcp","⊧":"models","𝕄":"Mopf","𝕞":"mopf","𝓂":"mscr","Μ":"Mu","μ":"mu","⊸":"mumap","Ń":"Nacute","ń":"nacute","∠⃒":"nang","≉":"nap","⩰̸":"napE","≋̸":"napid","ŉ":"napos","♮":"natur","ℕ":"Nopf"," ":"nbsp","≎̸":"nbump","≏̸":"nbumpe","⩃":"ncap","Ň":"Ncaron","ň":"ncaron","Ņ":"Ncedil","ņ":"ncedil","≇":"ncong","⩭̸":"ncongdot","⩂":"ncup","Н":"Ncy","н":"ncy","–":"ndash","⤤":"nearhk","↗":"nearr","⇗":"neArr","≠":"ne","≐̸":"nedot","​":"ZeroWidthSpace","≢":"nequiv","⤨":"toea","≂̸":"nesim","\n":"NewLine","∄":"nexist","𝔑":"Nfr","𝔫":"nfr","≧̸":"ngE","≱":"nge","⩾̸":"nges","⋙̸":"nGg","≵":"ngsim","≫⃒":"nGt","≯":"ngt","≫̸":"nGtv","↮":"nharr","⇎":"nhArr","⫲":"nhpar","∋":"ni","⋼":"nis","⋺":"nisd","Њ":"NJcy","њ":"njcy","↚":"nlarr","⇍":"nlArr","‥":"nldr","≦̸":"nlE","≰":"nle","⩽̸":"nles","≮":"nlt","⋘̸":"nLl","≴":"nlsim","≪⃒":"nLt","⋪":"nltri","⋬":"nltrie","≪̸":"nLtv","∤":"nmid","⁠":"NoBreak","𝕟":"nopf","⫬":"Not","¬":"not","≭":"NotCupCap","∦":"npar","∉":"notin","≹":"ntgl","⋵̸":"notindot","⋹̸":"notinE","⋷":"notinvb","⋶":"notinvc","⧏̸":"NotLeftTriangleBar","≸":"ntlg","⪢̸":"NotNestedGreaterGreater","⪡̸":"NotNestedLessLess","∌":"notni","⋾":"notnivb","⋽":"notnivc","⊀":"npr","⪯̸":"npre","⋠":"nprcue","⧐̸":"NotRightTriangleBar","⋫":"nrtri","⋭":"nrtrie","⊏̸":"NotSquareSubset","⋢":"nsqsube","⊐̸":"NotSquareSuperset","⋣":"nsqsupe","⊂⃒":"vnsub","⊈":"nsube","⊁":"nsc","⪰̸":"nsce","⋡":"nsccue","≿̸":"NotSucceedsTilde","⊃⃒":"vnsup","⊉":"nsupe","≁":"nsim","≄":"nsime","⫽⃥":"nparsl","∂̸":"npart","⨔":"npolint","⤳̸":"nrarrc","↛":"nrarr","⇏":"nrArr","↝̸":"nrarrw","𝒩":"Nscr","𝓃":"nscr","⊄":"nsub","⫅̸":"nsubE","⊅":"nsup","⫆̸":"nsupE","Ñ":"Ntilde","ñ":"ntilde","Ν":"Nu","ν":"nu","#":"num","№":"numero"," ":"numsp","≍⃒":"nvap","⊬":"nvdash","⊭":"nvDash","⊮":"nVdash","⊯":"nVDash","≥⃒":"nvge",">⃒":"nvgt","⤄":"nvHarr","⧞":"nvinfin","⤂":"nvlArr","≤⃒":"nvle","<⃒":"nvlt","⊴⃒":"nvltrie","⤃":"nvrArr","⊵⃒":"nvrtrie","∼⃒":"nvsim","⤣":"nwarhk","↖":"nwarr","⇖":"nwArr","⤧":"nwnear","Ó":"Oacute","ó":"oacute","Ô":"Ocirc","ô":"ocirc","О":"Ocy","о":"ocy","Ő":"Odblac","ő":"odblac","⨸":"odiv","⦼":"odsold","Œ":"OElig","œ":"oelig","⦿":"ofcir","𝔒":"Ofr","𝔬":"ofr","˛":"ogon","Ò":"Ograve","ò":"ograve","⧁":"ogt","⦵":"ohbar","Ω":"ohm","⦾":"olcir","⦻":"olcross","‾":"oline","⧀":"olt","Ō":"Omacr","ō":"omacr","ω":"omega","Ο":"Omicron","ο":"omicron","⦶":"omid","𝕆":"Oopf","𝕠":"oopf","⦷":"opar","⦹":"operp","⩔":"Or","∨":"or","⩝":"ord","ℴ":"oscr","ª":"ordf","º":"ordm","⊶":"origof","⩖":"oror","⩗":"orslope","⩛":"orv","𝒪":"Oscr","Ø":"Oslash","ø":"oslash","⊘":"osol","Õ":"Otilde","õ":"otilde","⨶":"otimesas","⨷":"Otimes","Ö":"Ouml","ö":"ouml","⌽":"ovbar","⏞":"OverBrace","⎴":"tbrk","⏜":"OverParenthesis","¶":"para","⫳":"parsim","⫽":"parsl","∂":"part","П":"Pcy","п":"pcy","%":"percnt",".":"period","‰":"permil","‱":"pertenk","𝔓":"Pfr","𝔭":"pfr","Φ":"Phi","φ":"phi","ϕ":"phiv","☎":"phone","Π":"Pi","π":"pi","ϖ":"piv","ℎ":"planckh","⨣":"plusacir","⨢":"pluscir","+":"plus","⨥":"plusdu","⩲":"pluse","±":"pm","⨦":"plussim","⨧":"plustwo","⨕":"pointint","𝕡":"popf","ℙ":"Popf","£":"pound","⪷":"prap","⪻":"Pr","≺":"pr","≼":"prcue","⪯":"pre","≾":"prsim","⪹":"prnap","⪵":"prnE","⋨":"prnsim","⪳":"prE","′":"prime","″":"Prime","∏":"prod","⌮":"profalar","⌒":"profline","⌓":"profsurf","∝":"prop","⊰":"prurel","𝒫":"Pscr","𝓅":"pscr","Ψ":"Psi","ψ":"psi"," ":"puncsp","𝔔":"Qfr","𝔮":"qfr","𝕢":"qopf","ℚ":"Qopf","⁗":"qprime","𝒬":"Qscr","𝓆":"qscr","⨖":"quatint","?":"quest",'"':"quot","⇛":"rAarr","∽̱":"race","Ŕ":"Racute","ŕ":"racute","√":"Sqrt","⦳":"raemptyv","⟩":"rang","⟫":"Rang","⦒":"rangd","⦥":"range","»":"raquo","⥵":"rarrap","⇥":"rarrb","⤠":"rarrbfs","⤳":"rarrc","→":"rarr","↠":"Rarr","⤞":"rarrfs","⥅":"rarrpl","⥴":"rarrsim","⤖":"Rarrtl","↣":"rarrtl","↝":"rarrw","⤚":"ratail","⤜":"rAtail","∶":"ratio","❳":"rbbrk","}":"rcub","]":"rsqb","⦌":"rbrke","⦎":"rbrksld","⦐":"rbrkslu","Ř":"Rcaron","ř":"rcaron","Ŗ":"Rcedil","ŗ":"rcedil","⌉":"rceil","Р":"Rcy","р":"rcy","⤷":"rdca","⥩":"rdldhar","↳":"rdsh","ℜ":"Re","ℛ":"Rscr","ℝ":"Ropf","▭":"rect","⥽":"rfisht","⌋":"rfloor","𝔯":"rfr","⥤":"rHar","⇀":"rharu","⥬":"rharul","Ρ":"Rho","ρ":"rho","ϱ":"rhov","⇄":"rlarr","⟧":"robrk","⥝":"RightDownTeeVector","⥕":"RightDownVectorBar","⇉":"rrarr","⊢":"vdash","⥛":"RightTeeVector","⋌":"rthree","⧐":"RightTriangleBar","⊳":"vrtri","⊵":"rtrie","⥏":"RightUpDownVector","⥜":"RightUpTeeVector","⥔":"RightUpVectorBar","↾":"uharr","⥓":"RightVectorBar","˚":"ring","‏":"rlm","⎱":"rmoust","⫮":"rnmid","⟭":"roang","⇾":"roarr","⦆":"ropar","𝕣":"ropf","⨮":"roplus","⨵":"rotimes","⥰":"RoundImplies",")":"rpar","⦔":"rpargt","⨒":"rppolint","›":"rsaquo","𝓇":"rscr","↱":"rsh","⋊":"rtimes","▹":"rtri","⧎":"rtriltri","⧴":"RuleDelayed","⥨":"ruluhar","℞":"rx","Ś":"Sacute","ś":"sacute","⪸":"scap","Š":"Scaron","š":"scaron","⪼":"Sc","≻":"sc","≽":"sccue","⪰":"sce","⪴":"scE","Ş":"Scedil","ş":"scedil","Ŝ":"Scirc","ŝ":"scirc","⪺":"scnap","⪶":"scnE","⋩":"scnsim","⨓":"scpolint","≿":"scsim","С":"Scy","с":"scy","⋅":"sdot","⩦":"sdote","⇘":"seArr","§":"sect",";":"semi","⤩":"tosa","✶":"sext","𝔖":"Sfr","𝔰":"sfr","♯":"sharp","Щ":"SHCHcy","щ":"shchcy","Ш":"SHcy","ш":"shcy","↑":"uarr","­":"shy","Σ":"Sigma","σ":"sigma","ς":"sigmaf","∼":"sim","⩪":"simdot","≃":"sime","⪞":"simg","⪠":"simgE","⪝":"siml","⪟":"simlE","≆":"simne","⨤":"simplus","⥲":"simrarr","⨳":"smashp","⧤":"smeparsl","⌣":"smile","⪪":"smt","⪬":"smte","⪬︀":"smtes","Ь":"SOFTcy","ь":"softcy","⌿":"solbar","⧄":"solb","/":"sol","𝕊":"Sopf","𝕤":"sopf","♠":"spades","⊓":"sqcap","⊓︀":"sqcaps","⊔":"sqcup","⊔︀":"sqcups","⊏":"sqsub","⊑":"sqsube","⊐":"sqsup","⊒":"sqsupe","□":"squ","𝒮":"Sscr","𝓈":"sscr","⋆":"Star","☆":"star","⊂":"sub","⋐":"Sub","⪽":"subdot","⫅":"subE","⊆":"sube","⫃":"subedot","⫁":"submult","⫋":"subnE","⊊":"subne","⪿":"subplus","⥹":"subrarr","⫇":"subsim","⫕":"subsub","⫓":"subsup","∑":"sum","♪":"sung","¹":"sup1","²":"sup2","³":"sup3","⊃":"sup","⋑":"Sup","⪾":"supdot","⫘":"supdsub","⫆":"supE","⊇":"supe","⫄":"supedot","⟉":"suphsol","⫗":"suphsub","⥻":"suplarr","⫂":"supmult","⫌":"supnE","⊋":"supne","⫀":"supplus","⫈":"supsim","⫔":"supsub","⫖":"supsup","⇙":"swArr","⤪":"swnwar","ß":"szlig","\t":"Tab","⌖":"target","Τ":"Tau","τ":"tau","Ť":"Tcaron","ť":"tcaron","Ţ":"Tcedil","ţ":"tcedil","Т":"Tcy","т":"tcy","⃛":"tdot","⌕":"telrec","𝔗":"Tfr","𝔱":"tfr","∴":"there4","Θ":"Theta","θ":"theta","ϑ":"thetav","  ":"ThickSpace"," ":"thinsp","Þ":"THORN","þ":"thorn","⨱":"timesbar","×":"times","⨰":"timesd","⌶":"topbot","⫱":"topcir","𝕋":"Topf","𝕥":"topf","⫚":"topfork","‴":"tprime","™":"trade","▵":"utri","≜":"trie","◬":"tridot","⨺":"triminus","⨹":"triplus","⧍":"trisb","⨻":"tritime","⏢":"trpezium","𝒯":"Tscr","𝓉":"tscr","Ц":"TScy","ц":"tscy","Ћ":"TSHcy","ћ":"tshcy","Ŧ":"Tstrok","ŧ":"tstrok","Ú":"Uacute","ú":"uacute","↟":"Uarr","⥉":"Uarrocir","Ў":"Ubrcy","ў":"ubrcy","Ŭ":"Ubreve","ŭ":"ubreve","Û":"Ucirc","û":"ucirc","У":"Ucy","у":"ucy","⇅":"udarr","Ű":"Udblac","ű":"udblac","⥮":"udhar","⥾":"ufisht","𝔘":"Ufr","𝔲":"ufr","Ù":"Ugrave","ù":"ugrave","⥣":"uHar","▀":"uhblk","⌜":"ulcorn","⌏":"ulcrop","◸":"ultri","Ū":"Umacr","ū":"umacr","⏟":"UnderBrace","⏝":"UnderParenthesis","⊎":"uplus","Ų":"Uogon","ų":"uogon","𝕌":"Uopf","𝕦":"uopf","⤒":"UpArrowBar","↕":"varr","υ":"upsi","ϒ":"Upsi","Υ":"Upsilon","⇈":"uuarr","⌝":"urcorn","⌎":"urcrop","Ů":"Uring","ů":"uring","◹":"urtri","𝒰":"Uscr","𝓊":"uscr","⋰":"utdot","Ũ":"Utilde","ũ":"utilde","Ü":"Uuml","ü":"uuml","⦧":"uwangle","⦜":"vangrt","⊊︀":"vsubne","⫋︀":"vsubnE","⊋︀":"vsupne","⫌︀":"vsupnE","⫨":"vBar","⫫":"Vbar","⫩":"vBarv","В":"Vcy","в":"vcy","⊩":"Vdash","⊫":"VDash","⫦":"Vdashl","⊻":"veebar","≚":"veeeq","⋮":"vellip","|":"vert","‖":"Vert","❘":"VerticalSeparator","≀":"wr","𝔙":"Vfr","𝔳":"vfr","𝕍":"Vopf","𝕧":"vopf","𝒱":"Vscr","𝓋":"vscr","⊪":"Vvdash","⦚":"vzigzag","Ŵ":"Wcirc","ŵ":"wcirc","⩟":"wedbar","≙":"wedgeq","℘":"wp","𝔚":"Wfr","𝔴":"wfr","𝕎":"Wopf","𝕨":"wopf","𝒲":"Wscr","𝓌":"wscr","𝔛":"Xfr","𝔵":"xfr","Ξ":"Xi","ξ":"xi","⋻":"xnis","𝕏":"Xopf","𝕩":"xopf","𝒳":"Xscr","𝓍":"xscr","Ý":"Yacute","ý":"yacute","Я":"YAcy","я":"yacy","Ŷ":"Ycirc","ŷ":"ycirc","Ы":"Ycy","ы":"ycy","¥":"yen","𝔜":"Yfr","𝔶":"yfr","Ї":"YIcy","ї":"yicy","𝕐":"Yopf","𝕪":"yopf","𝒴":"Yscr","𝓎":"yscr","Ю":"YUcy","ю":"yucy","ÿ":"yuml","Ÿ":"Yuml","Ź":"Zacute","ź":"zacute","Ž":"Zcaron","ž":"zcaron","З":"Zcy","з":"zcy","Ż":"Zdot","ż":"zdot","ℨ":"Zfr","Ζ":"Zeta","ζ":"zeta","𝔷":"zfr","Ж":"ZHcy","ж":"zhcy","⇝":"zigrarr","𝕫":"zopf","𝒵":"Zscr","𝓏":"zscr","‍":"zwj","‌":"zwnj"},g=/["&'<>`]/g,r={'"':"&quot;","&":"&amp;","'":"&#x27;","<":"&lt;",">":"&gt;","`":"&#x60;"},s=/&#(?:[xX][^a-fA-F0-9]|[^0-9xX])/,p=/[\0-\x08\x0B\x0E-\x1F\x7F-\x9F\uFDD0-\uFDEF\uFFFE\uFFFF]|[\uD83F\uD87F\uD8BF\uD8FF\uD93F\uD97F\uD9BF\uD9FF\uDA3F\uDA7F\uDABF\uDAFF\uDB3F\uDB7F\uDBBF\uDBFF][\uDFFE\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,f=/&#([0-9]+)(;?)|&#[xX]([a-fA-F0-9]+)(;?)|&([0-9a-zA-Z]+);|&(Aacute|iacute|Uacute|plusmn|otilde|Otilde|Agrave|agrave|yacute|Yacute|oslash|Oslash|Atilde|atilde|brvbar|Ccedil|ccedil|ograve|curren|divide|Eacute|eacute|Ograve|oacute|Egrave|egrave|ugrave|frac12|frac14|frac34|Ugrave|Oacute|Iacute|ntilde|Ntilde|uacute|middot|Igrave|igrave|iquest|aacute|laquo|THORN|micro|iexcl|icirc|Icirc|Acirc|ucirc|ecirc|Ocirc|ocirc|Ecirc|Ucirc|aring|Aring|aelig|AElig|acute|pound|raquo|acirc|times|thorn|szlig|cedil|COPY|Auml|ordf|ordm|uuml|macr|Uuml|auml|Ouml|ouml|para|nbsp|Euml|quot|QUOT|euml|yuml|cent|sect|copy|sup1|sup2|sup3|Iuml|iuml|shy|eth|reg|not|yen|amp|AMP|REG|uml|ETH|deg|gt|GT|LT|lt)([=a-zA-Z0-9])?/g,m={Aacute:"Á",aacute:"á",Abreve:"Ă",abreve:"ă",ac:"∾",acd:"∿",acE:"∾̳",Acirc:"Â",acirc:"â",acute:"´",Acy:"А",acy:"а",AElig:"Æ",aelig:"æ",af:"⁡",Afr:"𝔄",afr:"𝔞",Agrave:"À",agrave:"à",alefsym:"ℵ",aleph:"ℵ",Alpha:"Α",alpha:"α",Amacr:"Ā",amacr:"ā",amalg:"⨿",amp:"&",AMP:"&",andand:"⩕",And:"⩓",and:"∧",andd:"⩜",andslope:"⩘",andv:"⩚",ang:"∠",ange:"⦤",angle:"∠",angmsdaa:"⦨",angmsdab:"⦩",angmsdac:"⦪",angmsdad:"⦫",angmsdae:"⦬",angmsdaf:"⦭",angmsdag:"⦮",angmsdah:"⦯",angmsd:"∡",angrt:"∟",angrtvb:"⊾",angrtvbd:"⦝",angsph:"∢",angst:"Å",angzarr:"⍼",Aogon:"Ą",aogon:"ą",Aopf:"𝔸",aopf:"𝕒",apacir:"⩯",ap:"≈",apE:"⩰",ape:"≊",apid:"≋",apos:"'",ApplyFunction:"⁡",approx:"≈",approxeq:"≊",Aring:"Å",aring:"å",Ascr:"𝒜",ascr:"𝒶",Assign:"≔",ast:"*",asymp:"≈",asympeq:"≍",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",awconint:"∳",awint:"⨑",backcong:"≌",backepsilon:"϶",backprime:"‵",backsim:"∽",backsimeq:"⋍",Backslash:"∖",Barv:"⫧",barvee:"⊽",barwed:"⌅",Barwed:"⌆",barwedge:"⌅",bbrk:"⎵",bbrktbrk:"⎶",bcong:"≌",Bcy:"Б",bcy:"б",bdquo:"„",becaus:"∵",because:"∵",Because:"∵",bemptyv:"⦰",bepsi:"϶",bernou:"ℬ",Bernoullis:"ℬ",Beta:"Β",beta:"β",beth:"ℶ",between:"≬",Bfr:"𝔅",bfr:"𝔟",bigcap:"⋂",bigcirc:"◯",bigcup:"⋃",bigodot:"⨀",bigoplus:"⨁",bigotimes:"⨂",bigsqcup:"⨆",bigstar:"★",bigtriangledown:"▽",bigtriangleup:"△",biguplus:"⨄",bigvee:"⋁",bigwedge:"⋀",bkarow:"⤍",blacklozenge:"⧫",blacksquare:"▪",blacktriangle:"▴",blacktriangledown:"▾",blacktriangleleft:"◂",blacktriangleright:"▸",blank:"␣",blk12:"▒",blk14:"░",blk34:"▓",block:"█",bne:"=⃥",bnequiv:"≡⃥",bNot:"⫭",bnot:"⌐",Bopf:"𝔹",bopf:"𝕓",bot:"⊥",bottom:"⊥",bowtie:"⋈",boxbox:"⧉",boxdl:"┐",boxdL:"╕",boxDl:"╖",boxDL:"╗",boxdr:"┌",boxdR:"╒",boxDr:"╓",boxDR:"╔",boxh:"─",boxH:"═",boxhd:"┬",boxHd:"╤",boxhD:"╥",boxHD:"╦",boxhu:"┴",boxHu:"╧",boxhU:"╨",boxHU:"╩",boxminus:"⊟",boxplus:"⊞",boxtimes:"⊠",boxul:"┘",boxuL:"╛",boxUl:"╜",boxUL:"╝",boxur:"└",boxuR:"╘",boxUr:"╙",boxUR:"╚",boxv:"│",boxV:"║",boxvh:"┼",boxvH:"╪",boxVh:"╫",boxVH:"╬",boxvl:"┤",boxvL:"╡",boxVl:"╢",boxVL:"╣",boxvr:"├",boxvR:"╞",boxVr:"╟",boxVR:"╠",bprime:"‵",breve:"˘",Breve:"˘",brvbar:"¦",bscr:"𝒷",Bscr:"ℬ",bsemi:"⁏",bsim:"∽",bsime:"⋍",bsolb:"⧅",bsol:"\\",bsolhsub:"⟈",bull:"•",bullet:"•",bump:"≎",bumpE:"⪮",bumpe:"≏",Bumpeq:"≎",bumpeq:"≏",Cacute:"Ć",cacute:"ć",capand:"⩄",capbrcup:"⩉",capcap:"⩋",cap:"∩",Cap:"⋒",capcup:"⩇",capdot:"⩀",CapitalDifferentialD:"ⅅ",caps:"∩︀",caret:"⁁",caron:"ˇ",Cayleys:"ℭ",ccaps:"⩍",Ccaron:"Č",ccaron:"č",Ccedil:"Ç",ccedil:"ç",Ccirc:"Ĉ",ccirc:"ĉ",Cconint:"∰",ccups:"⩌",ccupssm:"⩐",Cdot:"Ċ",cdot:"ċ",cedil:"¸",Cedilla:"¸",cemptyv:"⦲",cent:"¢",centerdot:"·",CenterDot:"·",cfr:"𝔠",Cfr:"ℭ",CHcy:"Ч",chcy:"ч",check:"✓",checkmark:"✓",Chi:"Χ",chi:"χ",circ:"ˆ",circeq:"≗",circlearrowleft:"↺",circlearrowright:"↻",circledast:"⊛",circledcirc:"⊚",circleddash:"⊝",CircleDot:"⊙",circledR:"®",circledS:"Ⓢ",CircleMinus:"⊖",CirclePlus:"⊕",CircleTimes:"⊗",cir:"○",cirE:"⧃",cire:"≗",cirfnint:"⨐",cirmid:"⫯",cirscir:"⧂",ClockwiseContourIntegral:"∲",CloseCurlyDoubleQuote:"”",CloseCurlyQuote:"’",clubs:"♣",clubsuit:"♣",colon:":",Colon:"∷",Colone:"⩴",colone:"≔",coloneq:"≔",comma:",",commat:"@",comp:"∁",compfn:"∘",complement:"∁",complexes:"ℂ",cong:"≅",congdot:"⩭",Congruent:"≡",conint:"∮",Conint:"∯",ContourIntegral:"∮",copf:"𝕔",Copf:"ℂ",coprod:"∐",Coproduct:"∐",copy:"©",COPY:"©",copysr:"℗",CounterClockwiseContourIntegral:"∳",crarr:"↵",cross:"✗",Cross:"⨯",Cscr:"𝒞",cscr:"𝒸",csub:"⫏",csube:"⫑",csup:"⫐",csupe:"⫒",ctdot:"⋯",cudarrl:"⤸",cudarrr:"⤵",cuepr:"⋞",cuesc:"⋟",cularr:"↶",cularrp:"⤽",cupbrcap:"⩈",cupcap:"⩆",CupCap:"≍",cup:"∪",Cup:"⋓",cupcup:"⩊",cupdot:"⊍",cupor:"⩅",cups:"∪︀",curarr:"↷",curarrm:"⤼",curlyeqprec:"⋞",curlyeqsucc:"⋟",curlyvee:"⋎",curlywedge:"⋏",curren:"¤",curvearrowleft:"↶",curvearrowright:"↷",cuvee:"⋎",cuwed:"⋏",cwconint:"∲",cwint:"∱",cylcty:"⌭",dagger:"†",Dagger:"‡",daleth:"ℸ",darr:"↓",Darr:"↡",dArr:"⇓",dash:"‐",Dashv:"⫤",dashv:"⊣",dbkarow:"⤏",dblac:"˝",Dcaron:"Ď",dcaron:"ď",Dcy:"Д",dcy:"д",ddagger:"‡",ddarr:"⇊",DD:"ⅅ",dd:"ⅆ",DDotrahd:"⤑",ddotseq:"⩷",deg:"°",Del:"∇",Delta:"Δ",delta:"δ",demptyv:"⦱",dfisht:"⥿",Dfr:"𝔇",dfr:"𝔡",dHar:"⥥",dharl:"⇃",dharr:"⇂",DiacriticalAcute:"´",DiacriticalDot:"˙",DiacriticalDoubleAcute:"˝",DiacriticalGrave:"`",DiacriticalTilde:"˜",diam:"⋄",diamond:"⋄",Diamond:"⋄",diamondsuit:"♦",diams:"♦",die:"¨",DifferentialD:"ⅆ",digamma:"ϝ",disin:"⋲",div:"÷",divide:"÷",divideontimes:"⋇",divonx:"⋇",DJcy:"Ђ",djcy:"ђ",dlcorn:"⌞",dlcrop:"⌍",dollar:"$",Dopf:"𝔻",dopf:"𝕕",Dot:"¨",dot:"˙",DotDot:"⃜",doteq:"≐",doteqdot:"≑",DotEqual:"≐",dotminus:"∸",dotplus:"∔",dotsquare:"⊡",doublebarwedge:"⌆",DoubleContourIntegral:"∯",DoubleDot:"¨",DoubleDownArrow:"⇓",DoubleLeftArrow:"⇐",DoubleLeftRightArrow:"⇔",DoubleLeftTee:"⫤",DoubleLongLeftArrow:"⟸",DoubleLongLeftRightArrow:"⟺",DoubleLongRightArrow:"⟹",DoubleRightArrow:"⇒",DoubleRightTee:"⊨",DoubleUpArrow:"⇑",DoubleUpDownArrow:"⇕",DoubleVerticalBar:"∥",DownArrowBar:"⤓",downarrow:"↓",DownArrow:"↓",Downarrow:"⇓",DownArrowUpArrow:"⇵",DownBreve:"̑",downdownarrows:"⇊",downharpoonleft:"⇃",downharpoonright:"⇂",DownLeftRightVector:"⥐",DownLeftTeeVector:"⥞",DownLeftVectorBar:"⥖",DownLeftVector:"↽",DownRightTeeVector:"⥟",DownRightVectorBar:"⥗",DownRightVector:"⇁",DownTeeArrow:"↧",DownTee:"⊤",drbkarow:"⤐",drcorn:"⌟",drcrop:"⌌",Dscr:"𝒟",dscr:"𝒹",DScy:"Ѕ",dscy:"ѕ",dsol:"⧶",Dstrok:"Đ",dstrok:"đ",dtdot:"⋱",dtri:"▿",dtrif:"▾",duarr:"⇵",duhar:"⥯",dwangle:"⦦",DZcy:"Џ",dzcy:"џ",dzigrarr:"⟿",Eacute:"É",eacute:"é",easter:"⩮",Ecaron:"Ě",ecaron:"ě",Ecirc:"Ê",ecirc:"ê",ecir:"≖",ecolon:"≕",Ecy:"Э",ecy:"э",eDDot:"⩷",Edot:"Ė",edot:"ė",eDot:"≑",ee:"ⅇ",efDot:"≒",Efr:"𝔈",efr:"𝔢",eg:"⪚",Egrave:"È",egrave:"è",egs:"⪖",egsdot:"⪘",el:"⪙",Element:"∈",elinters:"⏧",ell:"ℓ",els:"⪕",elsdot:"⪗",Emacr:"Ē",emacr:"ē",empty:"∅",emptyset:"∅",EmptySmallSquare:"◻",emptyv:"∅",EmptyVerySmallSquare:"▫",emsp13:" ",emsp14:" ",emsp:" ",ENG:"Ŋ",eng:"ŋ",ensp:" ",Eogon:"Ę",eogon:"ę",Eopf:"𝔼",eopf:"𝕖",epar:"⋕",eparsl:"⧣",eplus:"⩱",epsi:"ε",Epsilon:"Ε",epsilon:"ε",epsiv:"ϵ",eqcirc:"≖",eqcolon:"≕",eqsim:"≂",eqslantgtr:"⪖",eqslantless:"⪕",Equal:"⩵",equals:"=",EqualTilde:"≂",equest:"≟",Equilibrium:"⇌",equiv:"≡",equivDD:"⩸",eqvparsl:"⧥",erarr:"⥱",erDot:"≓",escr:"ℯ",Escr:"ℰ",esdot:"≐",Esim:"⩳",esim:"≂",Eta:"Η",eta:"η",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",euro:"€",excl:"!",exist:"∃",Exists:"∃",expectation:"ℰ",exponentiale:"ⅇ",ExponentialE:"ⅇ",fallingdotseq:"≒",Fcy:"Ф",fcy:"ф",female:"♀",ffilig:"ﬃ",fflig:"ﬀ",ffllig:"ﬄ",Ffr:"𝔉",ffr:"𝔣",filig:"ﬁ",FilledSmallSquare:"◼",FilledVerySmallSquare:"▪",fjlig:"fj",flat:"♭",fllig:"ﬂ",fltns:"▱",fnof:"ƒ",Fopf:"𝔽",fopf:"𝕗",forall:"∀",ForAll:"∀",fork:"⋔",forkv:"⫙",Fouriertrf:"ℱ",fpartint:"⨍",frac12:"½",frac13:"⅓",frac14:"¼",frac15:"⅕",frac16:"⅙",frac18:"⅛",frac23:"⅔",frac25:"⅖",frac34:"¾",frac35:"⅗",frac38:"⅜",frac45:"⅘",frac56:"⅚",frac58:"⅝",frac78:"⅞",frasl:"⁄",frown:"⌢",fscr:"𝒻",Fscr:"ℱ",gacute:"ǵ",Gamma:"Γ",gamma:"γ",Gammad:"Ϝ",gammad:"ϝ",gap:"⪆",Gbreve:"Ğ",gbreve:"ğ",Gcedil:"Ģ",Gcirc:"Ĝ",gcirc:"ĝ",Gcy:"Г",gcy:"г",Gdot:"Ġ",gdot:"ġ",ge:"≥",gE:"≧",gEl:"⪌",gel:"⋛",geq:"≥",geqq:"≧",geqslant:"⩾",gescc:"⪩",ges:"⩾",gesdot:"⪀",gesdoto:"⪂",gesdotol:"⪄",gesl:"⋛︀",gesles:"⪔",Gfr:"𝔊",gfr:"𝔤",gg:"≫",Gg:"⋙",ggg:"⋙",gimel:"ℷ",GJcy:"Ѓ",gjcy:"ѓ",gla:"⪥",gl:"≷",glE:"⪒",glj:"⪤",gnap:"⪊",gnapprox:"⪊",gne:"⪈",gnE:"≩",gneq:"⪈",gneqq:"≩",gnsim:"⋧",Gopf:"𝔾",gopf:"𝕘",grave:"`",GreaterEqual:"≥",GreaterEqualLess:"⋛",GreaterFullEqual:"≧",GreaterGreater:"⪢",GreaterLess:"≷",GreaterSlantEqual:"⩾",GreaterTilde:"≳",Gscr:"𝒢",gscr:"ℊ",gsim:"≳",gsime:"⪎",gsiml:"⪐",gtcc:"⪧",gtcir:"⩺",gt:">",GT:">",Gt:"≫",gtdot:"⋗",gtlPar:"⦕",gtquest:"⩼",gtrapprox:"⪆",gtrarr:"⥸",gtrdot:"⋗",gtreqless:"⋛",gtreqqless:"⪌",gtrless:"≷",gtrsim:"≳",gvertneqq:"≩︀",gvnE:"≩︀",Hacek:"ˇ",hairsp:" ",half:"½",hamilt:"ℋ",HARDcy:"Ъ",hardcy:"ъ",harrcir:"⥈",harr:"↔",hArr:"⇔",harrw:"↭",Hat:"^",hbar:"ℏ",Hcirc:"Ĥ",hcirc:"ĥ",hearts:"♥",heartsuit:"♥",hellip:"…",hercon:"⊹",hfr:"𝔥",Hfr:"ℌ",HilbertSpace:"ℋ",hksearow:"⤥",hkswarow:"⤦",hoarr:"⇿",homtht:"∻",hookleftarrow:"↩",hookrightarrow:"↪",hopf:"𝕙",Hopf:"ℍ",horbar:"―",HorizontalLine:"─",hscr:"𝒽",Hscr:"ℋ",hslash:"ℏ",Hstrok:"Ħ",hstrok:"ħ",HumpDownHump:"≎",HumpEqual:"≏",hybull:"⁃",hyphen:"‐",Iacute:"Í",iacute:"í",ic:"⁣",Icirc:"Î",icirc:"î",Icy:"И",icy:"и",Idot:"İ",IEcy:"Е",iecy:"е",iexcl:"¡",iff:"⇔",ifr:"𝔦",Ifr:"ℑ",Igrave:"Ì",igrave:"ì",ii:"ⅈ",iiiint:"⨌",iiint:"∭",iinfin:"⧜",iiota:"℩",IJlig:"Ĳ",ijlig:"ĳ",Imacr:"Ī",imacr:"ī",image:"ℑ",ImaginaryI:"ⅈ",imagline:"ℐ",imagpart:"ℑ",imath:"ı",Im:"ℑ",imof:"⊷",imped:"Ƶ",Implies:"⇒",incare:"℅",in:"∈",infin:"∞",infintie:"⧝",inodot:"ı",intcal:"⊺",int:"∫",Int:"∬",integers:"ℤ",Integral:"∫",intercal:"⊺",Intersection:"⋂",intlarhk:"⨗",intprod:"⨼",InvisibleComma:"⁣",InvisibleTimes:"⁢",IOcy:"Ё",iocy:"ё",Iogon:"Į",iogon:"į",Iopf:"𝕀",iopf:"𝕚",Iota:"Ι",iota:"ι",iprod:"⨼",iquest:"¿",iscr:"𝒾",Iscr:"ℐ",isin:"∈",isindot:"⋵",isinE:"⋹",isins:"⋴",isinsv:"⋳",isinv:"∈",it:"⁢",Itilde:"Ĩ",itilde:"ĩ",Iukcy:"І",iukcy:"і",Iuml:"Ï",iuml:"ï",Jcirc:"Ĵ",jcirc:"ĵ",Jcy:"Й",jcy:"й",Jfr:"𝔍",jfr:"𝔧",jmath:"ȷ",Jopf:"𝕁",jopf:"𝕛",Jscr:"𝒥",jscr:"𝒿",Jsercy:"Ј",jsercy:"ј",Jukcy:"Є",jukcy:"є",Kappa:"Κ",kappa:"κ",kappav:"ϰ",Kcedil:"Ķ",kcedil:"ķ",Kcy:"К",kcy:"к",Kfr:"𝔎",kfr:"𝔨",kgreen:"ĸ",KHcy:"Х",khcy:"х",KJcy:"Ќ",kjcy:"ќ",Kopf:"𝕂",kopf:"𝕜",Kscr:"𝒦",kscr:"𝓀",lAarr:"⇚",Lacute:"Ĺ",lacute:"ĺ",laemptyv:"⦴",lagran:"ℒ",Lambda:"Λ",lambda:"λ",lang:"⟨",Lang:"⟪",langd:"⦑",langle:"⟨",lap:"⪅",Laplacetrf:"ℒ",laquo:"«",larrb:"⇤",larrbfs:"⤟",larr:"←",Larr:"↞",lArr:"⇐",larrfs:"⤝",larrhk:"↩",larrlp:"↫",larrpl:"⤹",larrsim:"⥳",larrtl:"↢",latail:"⤙",lAtail:"⤛",lat:"⪫",late:"⪭",lates:"⪭︀",lbarr:"⤌",lBarr:"⤎",lbbrk:"❲",lbrace:"{",lbrack:"[",lbrke:"⦋",lbrksld:"⦏",lbrkslu:"⦍",Lcaron:"Ľ",lcaron:"ľ",Lcedil:"Ļ",lcedil:"ļ",lceil:"⌈",lcub:"{",Lcy:"Л",lcy:"л",ldca:"⤶",ldquo:"“",ldquor:"„",ldrdhar:"⥧",ldrushar:"⥋",ldsh:"↲",le:"≤",lE:"≦",LeftAngleBracket:"⟨",LeftArrowBar:"⇤",leftarrow:"←",LeftArrow:"←",Leftarrow:"⇐",LeftArrowRightArrow:"⇆",leftarrowtail:"↢",LeftCeiling:"⌈",LeftDoubleBracket:"⟦",LeftDownTeeVector:"⥡",LeftDownVectorBar:"⥙",LeftDownVector:"⇃",LeftFloor:"⌊",leftharpoondown:"↽",leftharpoonup:"↼",leftleftarrows:"⇇",leftrightarrow:"↔",LeftRightArrow:"↔",Leftrightarrow:"⇔",leftrightarrows:"⇆",leftrightharpoons:"⇋",leftrightsquigarrow:"↭",LeftRightVector:"⥎",LeftTeeArrow:"↤",LeftTee:"⊣",LeftTeeVector:"⥚",leftthreetimes:"⋋",LeftTriangleBar:"⧏",LeftTriangle:"⊲",LeftTriangleEqual:"⊴",LeftUpDownVector:"⥑",LeftUpTeeVector:"⥠",LeftUpVectorBar:"⥘",LeftUpVector:"↿",LeftVectorBar:"⥒",LeftVector:"↼",lEg:"⪋",leg:"⋚",leq:"≤",leqq:"≦",leqslant:"⩽",lescc:"⪨",les:"⩽",lesdot:"⩿",lesdoto:"⪁",lesdotor:"⪃",lesg:"⋚︀",lesges:"⪓",lessapprox:"⪅",lessdot:"⋖",lesseqgtr:"⋚",lesseqqgtr:"⪋",LessEqualGreater:"⋚",LessFullEqual:"≦",LessGreater:"≶",lessgtr:"≶",LessLess:"⪡",lesssim:"≲",LessSlantEqual:"⩽",LessTilde:"≲",lfisht:"⥼",lfloor:"⌊",Lfr:"𝔏",lfr:"𝔩",lg:"≶",lgE:"⪑",lHar:"⥢",lhard:"↽",lharu:"↼",lharul:"⥪",lhblk:"▄",LJcy:"Љ",ljcy:"љ",llarr:"⇇",ll:"≪",Ll:"⋘",llcorner:"⌞",Lleftarrow:"⇚",llhard:"⥫",lltri:"◺",Lmidot:"Ŀ",lmidot:"ŀ",lmoustache:"⎰",lmoust:"⎰",lnap:"⪉",lnapprox:"⪉",lne:"⪇",lnE:"≨",lneq:"⪇",lneqq:"≨",lnsim:"⋦",loang:"⟬",loarr:"⇽",lobrk:"⟦",longleftarrow:"⟵",LongLeftArrow:"⟵",Longleftarrow:"⟸",longleftrightarrow:"⟷",LongLeftRightArrow:"⟷",Longleftrightarrow:"⟺",longmapsto:"⟼",longrightarrow:"⟶",LongRightArrow:"⟶",Longrightarrow:"⟹",looparrowleft:"↫",looparrowright:"↬",lopar:"⦅",Lopf:"𝕃",lopf:"𝕝",loplus:"⨭",lotimes:"⨴",lowast:"∗",lowbar:"_",LowerLeftArrow:"↙",LowerRightArrow:"↘",loz:"◊",lozenge:"◊",lozf:"⧫",lpar:"(",lparlt:"⦓",lrarr:"⇆",lrcorner:"⌟",lrhar:"⇋",lrhard:"⥭",lrm:"‎",lrtri:"⊿",lsaquo:"‹",lscr:"𝓁",Lscr:"ℒ",lsh:"↰",Lsh:"↰",lsim:"≲",lsime:"⪍",lsimg:"⪏",lsqb:"[",lsquo:"‘",lsquor:"‚",Lstrok:"Ł",lstrok:"ł",ltcc:"⪦",ltcir:"⩹",lt:"<",LT:"<",Lt:"≪",ltdot:"⋖",lthree:"⋋",ltimes:"⋉",ltlarr:"⥶",ltquest:"⩻",ltri:"◃",ltrie:"⊴",ltrif:"◂",ltrPar:"⦖",lurdshar:"⥊",luruhar:"⥦",lvertneqq:"≨︀",lvnE:"≨︀",macr:"¯",male:"♂",malt:"✠",maltese:"✠",Map:"⤅",map:"↦",mapsto:"↦",mapstodown:"↧",mapstoleft:"↤",mapstoup:"↥",marker:"▮",mcomma:"⨩",Mcy:"М",mcy:"м",mdash:"—",mDDot:"∺",measuredangle:"∡",MediumSpace:" ",Mellintrf:"ℳ",Mfr:"𝔐",mfr:"𝔪",mho:"℧",micro:"µ",midast:"*",midcir:"⫰",mid:"∣",middot:"·",minusb:"⊟",minus:"−",minusd:"∸",minusdu:"⨪",MinusPlus:"∓",mlcp:"⫛",mldr:"…",mnplus:"∓",models:"⊧",Mopf:"𝕄",mopf:"𝕞",mp:"∓",mscr:"𝓂",Mscr:"ℳ",mstpos:"∾",Mu:"Μ",mu:"μ",multimap:"⊸",mumap:"⊸",nabla:"∇",Nacute:"Ń",nacute:"ń",nang:"∠⃒",nap:"≉",napE:"⩰̸",napid:"≋̸",napos:"ŉ",napprox:"≉",natural:"♮",naturals:"ℕ",natur:"♮",nbsp:" ",nbump:"≎̸",nbumpe:"≏̸",ncap:"⩃",Ncaron:"Ň",ncaron:"ň",Ncedil:"Ņ",ncedil:"ņ",ncong:"≇",ncongdot:"⩭̸",ncup:"⩂",Ncy:"Н",ncy:"н",ndash:"–",nearhk:"⤤",nearr:"↗",neArr:"⇗",nearrow:"↗",ne:"≠",nedot:"≐̸",NegativeMediumSpace:"​",NegativeThickSpace:"​",NegativeThinSpace:"​",NegativeVeryThinSpace:"​",nequiv:"≢",nesear:"⤨",nesim:"≂̸",NestedGreaterGreater:"≫",NestedLessLess:"≪",NewLine:"\n",nexist:"∄",nexists:"∄",Nfr:"𝔑",nfr:"𝔫",ngE:"≧̸",nge:"≱",ngeq:"≱",ngeqq:"≧̸",ngeqslant:"⩾̸",nges:"⩾̸",nGg:"⋙̸",ngsim:"≵",nGt:"≫⃒",ngt:"≯",ngtr:"≯",nGtv:"≫̸",nharr:"↮",nhArr:"⇎",nhpar:"⫲",ni:"∋",nis:"⋼",nisd:"⋺",niv:"∋",NJcy:"Њ",njcy:"њ",nlarr:"↚",nlArr:"⇍",nldr:"‥",nlE:"≦̸",nle:"≰",nleftarrow:"↚",nLeftarrow:"⇍",nleftrightarrow:"↮",nLeftrightarrow:"⇎",nleq:"≰",nleqq:"≦̸",nleqslant:"⩽̸",nles:"⩽̸",nless:"≮",nLl:"⋘̸",nlsim:"≴",nLt:"≪⃒",nlt:"≮",nltri:"⋪",nltrie:"⋬",nLtv:"≪̸",nmid:"∤",NoBreak:"⁠",NonBreakingSpace:" ",nopf:"𝕟",Nopf:"ℕ",Not:"⫬",not:"¬",NotCongruent:"≢",NotCupCap:"≭",NotDoubleVerticalBar:"∦",NotElement:"∉",NotEqual:"≠",NotEqualTilde:"≂̸",NotExists:"∄",NotGreater:"≯",NotGreaterEqual:"≱",NotGreaterFullEqual:"≧̸",NotGreaterGreater:"≫̸",NotGreaterLess:"≹",NotGreaterSlantEqual:"⩾̸",NotGreaterTilde:"≵",NotHumpDownHump:"≎̸",NotHumpEqual:"≏̸",notin:"∉",notindot:"⋵̸",notinE:"⋹̸",notinva:"∉",notinvb:"⋷",notinvc:"⋶",NotLeftTriangleBar:"⧏̸",NotLeftTriangle:"⋪",NotLeftTriangleEqual:"⋬",NotLess:"≮",NotLessEqual:"≰",NotLessGreater:"≸",NotLessLess:"≪̸",NotLessSlantEqual:"⩽̸",NotLessTilde:"≴",NotNestedGreaterGreater:"⪢̸",NotNestedLessLess:"⪡̸",notni:"∌",notniva:"∌",notnivb:"⋾",notnivc:"⋽",NotPrecedes:"⊀",NotPrecedesEqual:"⪯̸",NotPrecedesSlantEqual:"⋠",NotReverseElement:"∌",NotRightTriangleBar:"⧐̸",NotRightTriangle:"⋫",NotRightTriangleEqual:"⋭",NotSquareSubset:"⊏̸",NotSquareSubsetEqual:"⋢",NotSquareSuperset:"⊐̸",NotSquareSupersetEqual:"⋣",NotSubset:"⊂⃒",NotSubsetEqual:"⊈",NotSucceeds:"⊁",NotSucceedsEqual:"⪰̸",NotSucceedsSlantEqual:"⋡",NotSucceedsTilde:"≿̸",NotSuperset:"⊃⃒",NotSupersetEqual:"⊉",NotTilde:"≁",NotTildeEqual:"≄",NotTildeFullEqual:"≇",NotTildeTilde:"≉",NotVerticalBar:"∤",nparallel:"∦",npar:"∦",nparsl:"⫽⃥",npart:"∂̸",npolint:"⨔",npr:"⊀",nprcue:"⋠",nprec:"⊀",npreceq:"⪯̸",npre:"⪯̸",nrarrc:"⤳̸",nrarr:"↛",nrArr:"⇏",nrarrw:"↝̸",nrightarrow:"↛",nRightarrow:"⇏",nrtri:"⋫",nrtrie:"⋭",nsc:"⊁",nsccue:"⋡",nsce:"⪰̸",Nscr:"𝒩",nscr:"𝓃",nshortmid:"∤",nshortparallel:"∦",nsim:"≁",nsime:"≄",nsimeq:"≄",nsmid:"∤",nspar:"∦",nsqsube:"⋢",nsqsupe:"⋣",nsub:"⊄",nsubE:"⫅̸",nsube:"⊈",nsubset:"⊂⃒",nsubseteq:"⊈",nsubseteqq:"⫅̸",nsucc:"⊁",nsucceq:"⪰̸",nsup:"⊅",nsupE:"⫆̸",nsupe:"⊉",nsupset:"⊃⃒",nsupseteq:"⊉",nsupseteqq:"⫆̸",ntgl:"≹",Ntilde:"Ñ",ntilde:"ñ",ntlg:"≸",ntriangleleft:"⋪",ntrianglelefteq:"⋬",ntriangleright:"⋫",ntrianglerighteq:"⋭",Nu:"Ν",nu:"ν",num:"#",numero:"№",numsp:" ",nvap:"≍⃒",nvdash:"⊬",nvDash:"⊭",nVdash:"⊮",nVDash:"⊯",nvge:"≥⃒",nvgt:">⃒",nvHarr:"⤄",nvinfin:"⧞",nvlArr:"⤂",nvle:"≤⃒",nvlt:"<⃒",nvltrie:"⊴⃒",nvrArr:"⤃",nvrtrie:"⊵⃒",nvsim:"∼⃒",nwarhk:"⤣",nwarr:"↖",nwArr:"⇖",nwarrow:"↖",nwnear:"⤧",Oacute:"Ó",oacute:"ó",oast:"⊛",Ocirc:"Ô",ocirc:"ô",ocir:"⊚",Ocy:"О",ocy:"о",odash:"⊝",Odblac:"Ő",odblac:"ő",odiv:"⨸",odot:"⊙",odsold:"⦼",OElig:"Œ",oelig:"œ",ofcir:"⦿",Ofr:"𝔒",ofr:"𝔬",ogon:"˛",Ograve:"Ò",ograve:"ò",ogt:"⧁",ohbar:"⦵",ohm:"Ω",oint:"∮",olarr:"↺",olcir:"⦾",olcross:"⦻",oline:"‾",olt:"⧀",Omacr:"Ō",omacr:"ō",Omega:"Ω",omega:"ω",Omicron:"Ο",omicron:"ο",omid:"⦶",ominus:"⊖",Oopf:"𝕆",oopf:"𝕠",opar:"⦷",OpenCurlyDoubleQuote:"“",OpenCurlyQuote:"‘",operp:"⦹",oplus:"⊕",orarr:"↻",Or:"⩔",or:"∨",ord:"⩝",order:"ℴ",orderof:"ℴ",ordf:"ª",ordm:"º",origof:"⊶",oror:"⩖",orslope:"⩗",orv:"⩛",oS:"Ⓢ",Oscr:"𝒪",oscr:"ℴ",Oslash:"Ø",oslash:"ø",osol:"⊘",Otilde:"Õ",otilde:"õ",otimesas:"⨶",Otimes:"⨷",otimes:"⊗",Ouml:"Ö",ouml:"ö",ovbar:"⌽",OverBar:"‾",OverBrace:"⏞",OverBracket:"⎴",OverParenthesis:"⏜",para:"¶",parallel:"∥",par:"∥",parsim:"⫳",parsl:"⫽",part:"∂",PartialD:"∂",Pcy:"П",pcy:"п",percnt:"%",period:".",permil:"‰",perp:"⊥",pertenk:"‱",Pfr:"𝔓",pfr:"𝔭",Phi:"Φ",phi:"φ",phiv:"ϕ",phmmat:"ℳ",phone:"☎",Pi:"Π",pi:"π",pitchfork:"⋔",piv:"ϖ",planck:"ℏ",planckh:"ℎ",plankv:"ℏ",plusacir:"⨣",plusb:"⊞",pluscir:"⨢",plus:"+",plusdo:"∔",plusdu:"⨥",pluse:"⩲",PlusMinus:"±",plusmn:"±",plussim:"⨦",plustwo:"⨧",pm:"±",Poincareplane:"ℌ",pointint:"⨕",popf:"𝕡",Popf:"ℙ",pound:"£",prap:"⪷",Pr:"⪻",pr:"≺",prcue:"≼",precapprox:"⪷",prec:"≺",preccurlyeq:"≼",Precedes:"≺",PrecedesEqual:"⪯",PrecedesSlantEqual:"≼",PrecedesTilde:"≾",preceq:"⪯",precnapprox:"⪹",precneqq:"⪵",precnsim:"⋨",pre:"⪯",prE:"⪳",precsim:"≾",prime:"′",Prime:"″",primes:"ℙ",prnap:"⪹",prnE:"⪵",prnsim:"⋨",prod:"∏",Product:"∏",profalar:"⌮",profline:"⌒",profsurf:"⌓",prop:"∝",Proportional:"∝",Proportion:"∷",propto:"∝",prsim:"≾",prurel:"⊰",Pscr:"𝒫",pscr:"𝓅",Psi:"Ψ",psi:"ψ",puncsp:" ",Qfr:"𝔔",qfr:"𝔮",qint:"⨌",qopf:"𝕢",Qopf:"ℚ",qprime:"⁗",Qscr:"𝒬",qscr:"𝓆",quaternions:"ℍ",quatint:"⨖",quest:"?",questeq:"≟",quot:'"',QUOT:'"',rAarr:"⇛",race:"∽̱",Racute:"Ŕ",racute:"ŕ",radic:"√",raemptyv:"⦳",rang:"⟩",Rang:"⟫",rangd:"⦒",range:"⦥",rangle:"⟩",raquo:"»",rarrap:"⥵",rarrb:"⇥",rarrbfs:"⤠",rarrc:"⤳",rarr:"→",Rarr:"↠",rArr:"⇒",rarrfs:"⤞",rarrhk:"↪",rarrlp:"↬",rarrpl:"⥅",rarrsim:"⥴",Rarrtl:"⤖",rarrtl:"↣",rarrw:"↝",ratail:"⤚",rAtail:"⤜",ratio:"∶",rationals:"ℚ",rbarr:"⤍",rBarr:"⤏",RBarr:"⤐",rbbrk:"❳",rbrace:"}",rbrack:"]",rbrke:"⦌",rbrksld:"⦎",rbrkslu:"⦐",Rcaron:"Ř",rcaron:"ř",Rcedil:"Ŗ",rcedil:"ŗ",rceil:"⌉",rcub:"}",Rcy:"Р",rcy:"р",rdca:"⤷",rdldhar:"⥩",rdquo:"”",rdquor:"”",rdsh:"↳",real:"ℜ",realine:"ℛ",realpart:"ℜ",reals:"ℝ",Re:"ℜ",rect:"▭",reg:"®",REG:"®",ReverseElement:"∋",ReverseEquilibrium:"⇋",ReverseUpEquilibrium:"⥯",rfisht:"⥽",rfloor:"⌋",rfr:"𝔯",Rfr:"ℜ",rHar:"⥤",rhard:"⇁",rharu:"⇀",rharul:"⥬",Rho:"Ρ",rho:"ρ",rhov:"ϱ",RightAngleBracket:"⟩",RightArrowBar:"⇥",rightarrow:"→",RightArrow:"→",Rightarrow:"⇒",RightArrowLeftArrow:"⇄",rightarrowtail:"↣",RightCeiling:"⌉",RightDoubleBracket:"⟧",RightDownTeeVector:"⥝",RightDownVectorBar:"⥕",RightDownVector:"⇂",RightFloor:"⌋",rightharpoondown:"⇁",rightharpoonup:"⇀",rightleftarrows:"⇄",rightleftharpoons:"⇌",rightrightarrows:"⇉",rightsquigarrow:"↝",RightTeeArrow:"↦",RightTee:"⊢",RightTeeVector:"⥛",rightthreetimes:"⋌",RightTriangleBar:"⧐",RightTriangle:"⊳",RightTriangleEqual:"⊵",RightUpDownVector:"⥏",RightUpTeeVector:"⥜",RightUpVectorBar:"⥔",RightUpVector:"↾",RightVectorBar:"⥓",RightVector:"⇀",ring:"˚",risingdotseq:"≓",rlarr:"⇄",rlhar:"⇌",rlm:"‏",rmoustache:"⎱",rmoust:"⎱",rnmid:"⫮",roang:"⟭",roarr:"⇾",robrk:"⟧",ropar:"⦆",ropf:"𝕣",Ropf:"ℝ",roplus:"⨮",rotimes:"⨵",RoundImplies:"⥰",rpar:")",rpargt:"⦔",rppolint:"⨒",rrarr:"⇉",Rrightarrow:"⇛",rsaquo:"›",rscr:"𝓇",Rscr:"ℛ",rsh:"↱",Rsh:"↱",rsqb:"]",rsquo:"’",rsquor:"’",rthree:"⋌",rtimes:"⋊",rtri:"▹",rtrie:"⊵",rtrif:"▸",rtriltri:"⧎",RuleDelayed:"⧴",ruluhar:"⥨",rx:"℞",Sacute:"Ś",sacute:"ś",sbquo:"‚",scap:"⪸",Scaron:"Š",scaron:"š",Sc:"⪼",sc:"≻",sccue:"≽",sce:"⪰",scE:"⪴",Scedil:"Ş",scedil:"ş",Scirc:"Ŝ",scirc:"ŝ",scnap:"⪺",scnE:"⪶",scnsim:"⋩",scpolint:"⨓",scsim:"≿",Scy:"С",scy:"с",sdotb:"⊡",sdot:"⋅",sdote:"⩦",searhk:"⤥",searr:"↘",seArr:"⇘",searrow:"↘",sect:"§",semi:";",seswar:"⤩",setminus:"∖",setmn:"∖",sext:"✶",Sfr:"𝔖",sfr:"𝔰",sfrown:"⌢",sharp:"♯",SHCHcy:"Щ",shchcy:"щ",SHcy:"Ш",shcy:"ш",ShortDownArrow:"↓",ShortLeftArrow:"←",shortmid:"∣",shortparallel:"∥",ShortRightArrow:"→",ShortUpArrow:"↑",shy:"­",Sigma:"Σ",sigma:"σ",sigmaf:"ς",sigmav:"ς",sim:"∼",simdot:"⩪",sime:"≃",simeq:"≃",simg:"⪞",simgE:"⪠",siml:"⪝",simlE:"⪟",simne:"≆",simplus:"⨤",simrarr:"⥲",slarr:"←",SmallCircle:"∘",smallsetminus:"∖",smashp:"⨳",smeparsl:"⧤",smid:"∣",smile:"⌣",smt:"⪪",smte:"⪬",smtes:"⪬︀",SOFTcy:"Ь",softcy:"ь",solbar:"⌿",solb:"⧄",sol:"/",Sopf:"𝕊",sopf:"𝕤",spades:"♠",spadesuit:"♠",spar:"∥",sqcap:"⊓",sqcaps:"⊓︀",sqcup:"⊔",sqcups:"⊔︀",Sqrt:"√",sqsub:"⊏",sqsube:"⊑",sqsubset:"⊏",sqsubseteq:"⊑",sqsup:"⊐",sqsupe:"⊒",sqsupset:"⊐",sqsupseteq:"⊒",square:"□",Square:"□",SquareIntersection:"⊓",SquareSubset:"⊏",SquareSubsetEqual:"⊑",SquareSuperset:"⊐",SquareSupersetEqual:"⊒",SquareUnion:"⊔",squarf:"▪",squ:"□",squf:"▪",srarr:"→",Sscr:"𝒮",sscr:"𝓈",ssetmn:"∖",ssmile:"⌣",sstarf:"⋆",Star:"⋆",star:"☆",starf:"★",straightepsilon:"ϵ",straightphi:"ϕ",strns:"¯",sub:"⊂",Sub:"⋐",subdot:"⪽",subE:"⫅",sube:"⊆",subedot:"⫃",submult:"⫁",subnE:"⫋",subne:"⊊",subplus:"⪿",subrarr:"⥹",subset:"⊂",Subset:"⋐",subseteq:"⊆",subseteqq:"⫅",SubsetEqual:"⊆",subsetneq:"⊊",subsetneqq:"⫋",subsim:"⫇",subsub:"⫕",subsup:"⫓",succapprox:"⪸",succ:"≻",succcurlyeq:"≽",Succeeds:"≻",SucceedsEqual:"⪰",SucceedsSlantEqual:"≽",SucceedsTilde:"≿",succeq:"⪰",succnapprox:"⪺",succneqq:"⪶",succnsim:"⋩",succsim:"≿",SuchThat:"∋",sum:"∑",Sum:"∑",sung:"♪",sup1:"¹",sup2:"²",sup3:"³",sup:"⊃",Sup:"⋑",supdot:"⪾",supdsub:"⫘",supE:"⫆",supe:"⊇",supedot:"⫄",Superset:"⊃",SupersetEqual:"⊇",suphsol:"⟉",suphsub:"⫗",suplarr:"⥻",supmult:"⫂",supnE:"⫌",supne:"⊋",supplus:"⫀",supset:"⊃",Supset:"⋑",supseteq:"⊇",supseteqq:"⫆",supsetneq:"⊋",supsetneqq:"⫌",supsim:"⫈",supsub:"⫔",supsup:"⫖",swarhk:"⤦",swarr:"↙",swArr:"⇙",swarrow:"↙",swnwar:"⤪",szlig:"ß",Tab:"\t",target:"⌖",Tau:"Τ",tau:"τ",tbrk:"⎴",Tcaron:"Ť",tcaron:"ť",Tcedil:"Ţ",tcedil:"ţ",Tcy:"Т",tcy:"т",tdot:"⃛",telrec:"⌕",Tfr:"𝔗",tfr:"𝔱",there4:"∴",therefore:"∴",Therefore:"∴",Theta:"Θ",theta:"θ",thetasym:"ϑ",thetav:"ϑ",thickapprox:"≈",thicksim:"∼",ThickSpace:"  ",ThinSpace:" ",thinsp:" ",thkap:"≈",thksim:"∼",THORN:"Þ",thorn:"þ",tilde:"˜",Tilde:"∼",TildeEqual:"≃",TildeFullEqual:"≅",TildeTilde:"≈",timesbar:"⨱",timesb:"⊠",times:"×",timesd:"⨰",tint:"∭",toea:"⤨",topbot:"⌶",topcir:"⫱",top:"⊤",Topf:"𝕋",topf:"𝕥",topfork:"⫚",tosa:"⤩",tprime:"‴",trade:"™",TRADE:"™",triangle:"▵",triangledown:"▿",triangleleft:"◃",trianglelefteq:"⊴",triangleq:"≜",triangleright:"▹",trianglerighteq:"⊵",tridot:"◬",trie:"≜",triminus:"⨺",TripleDot:"⃛",triplus:"⨹",trisb:"⧍",tritime:"⨻",trpezium:"⏢",Tscr:"𝒯",tscr:"𝓉",TScy:"Ц",tscy:"ц",TSHcy:"Ћ",tshcy:"ћ",Tstrok:"Ŧ",tstrok:"ŧ",twixt:"≬",twoheadleftarrow:"↞",twoheadrightarrow:"↠",Uacute:"Ú",uacute:"ú",uarr:"↑",Uarr:"↟",uArr:"⇑",Uarrocir:"⥉",Ubrcy:"Ў",ubrcy:"ў",Ubreve:"Ŭ",ubreve:"ŭ",Ucirc:"Û",ucirc:"û",Ucy:"У",ucy:"у",udarr:"⇅",Udblac:"Ű",udblac:"ű",udhar:"⥮",ufisht:"⥾",Ufr:"𝔘",ufr:"𝔲",Ugrave:"Ù",ugrave:"ù",uHar:"⥣",uharl:"↿",uharr:"↾",uhblk:"▀",ulcorn:"⌜",ulcorner:"⌜",ulcrop:"⌏",ultri:"◸",Umacr:"Ū",umacr:"ū",uml:"¨",UnderBar:"_",UnderBrace:"⏟",UnderBracket:"⎵",UnderParenthesis:"⏝",Union:"⋃",UnionPlus:"⊎",Uogon:"Ų",uogon:"ų",Uopf:"𝕌",uopf:"𝕦",UpArrowBar:"⤒",uparrow:"↑",UpArrow:"↑",Uparrow:"⇑",UpArrowDownArrow:"⇅",updownarrow:"↕",UpDownArrow:"↕",Updownarrow:"⇕",UpEquilibrium:"⥮",upharpoonleft:"↿",upharpoonright:"↾",uplus:"⊎",UpperLeftArrow:"↖",UpperRightArrow:"↗",upsi:"υ",Upsi:"ϒ",upsih:"ϒ",Upsilon:"Υ",upsilon:"υ",UpTeeArrow:"↥",UpTee:"⊥",upuparrows:"⇈",urcorn:"⌝",urcorner:"⌝",urcrop:"⌎",Uring:"Ů",uring:"ů",urtri:"◹",Uscr:"𝒰",uscr:"𝓊",utdot:"⋰",Utilde:"Ũ",utilde:"ũ",utri:"▵",utrif:"▴",uuarr:"⇈",Uuml:"Ü",uuml:"ü",uwangle:"⦧",vangrt:"⦜",varepsilon:"ϵ",varkappa:"ϰ",varnothing:"∅",varphi:"ϕ",varpi:"ϖ",varpropto:"∝",varr:"↕",vArr:"⇕",varrho:"ϱ",varsigma:"ς",varsubsetneq:"⊊︀",varsubsetneqq:"⫋︀",varsupsetneq:"⊋︀",varsupsetneqq:"⫌︀",vartheta:"ϑ",vartriangleleft:"⊲",vartriangleright:"⊳",vBar:"⫨",Vbar:"⫫",vBarv:"⫩",Vcy:"В",vcy:"в",vdash:"⊢",vDash:"⊨",Vdash:"⊩",VDash:"⊫",Vdashl:"⫦",veebar:"⊻",vee:"∨",Vee:"⋁",veeeq:"≚",vellip:"⋮",verbar:"|",Verbar:"‖",vert:"|",Vert:"‖",VerticalBar:"∣",VerticalLine:"|",VerticalSeparator:"❘",VerticalTilde:"≀",VeryThinSpace:" ",Vfr:"𝔙",vfr:"𝔳",vltri:"⊲",vnsub:"⊂⃒",vnsup:"⊃⃒",Vopf:"𝕍",vopf:"𝕧",vprop:"∝",vrtri:"⊳",Vscr:"𝒱",vscr:"𝓋",vsubnE:"⫋︀",vsubne:"⊊︀",vsupnE:"⫌︀",vsupne:"⊋︀",Vvdash:"⊪",vzigzag:"⦚",Wcirc:"Ŵ",wcirc:"ŵ",wedbar:"⩟",wedge:"∧",Wedge:"⋀",wedgeq:"≙",weierp:"℘",Wfr:"𝔚",wfr:"𝔴",Wopf:"𝕎",wopf:"𝕨",wp:"℘",wr:"≀",wreath:"≀",Wscr:"𝒲",wscr:"𝓌",xcap:"⋂",xcirc:"◯",xcup:"⋃",xdtri:"▽",Xfr:"𝔛",xfr:"𝔵",xharr:"⟷",xhArr:"⟺",Xi:"Ξ",xi:"ξ",xlarr:"⟵",xlArr:"⟸",xmap:"⟼",xnis:"⋻",xodot:"⨀",Xopf:"𝕏",xopf:"𝕩",xoplus:"⨁",xotime:"⨂",xrarr:"⟶",xrArr:"⟹",Xscr:"𝒳",xscr:"𝓍",xsqcup:"⨆",xuplus:"⨄",xutri:"△",xvee:"⋁",xwedge:"⋀",Yacute:"Ý",yacute:"ý",YAcy:"Я",yacy:"я",Ycirc:"Ŷ",ycirc:"ŷ",Ycy:"Ы",ycy:"ы",yen:"¥",Yfr:"𝔜",yfr:"𝔶",YIcy:"Ї",yicy:"ї",Yopf:"𝕐",yopf:"𝕪",Yscr:"𝒴",yscr:"𝓎",YUcy:"Ю",yucy:"ю",yuml:"ÿ",Yuml:"Ÿ",Zacute:"Ź",zacute:"ź",Zcaron:"Ž",zcaron:"ž",Zcy:"З",zcy:"з",Zdot:"Ż",zdot:"ż",zeetrf:"ℨ",ZeroWidthSpace:"​",Zeta:"Ζ",zeta:"ζ",zfr:"𝔷",Zfr:"ℨ",ZHcy:"Ж",zhcy:"ж",zigrarr:"⇝",zopf:"𝕫",Zopf:"ℤ",Zscr:"𝒵",zscr:"𝓏",zwj:"‍",zwnj:"‌"},v={Aacute:"Á",aacute:"á",Acirc:"Â",acirc:"â",acute:"´",AElig:"Æ",aelig:"æ",Agrave:"À",agrave:"à",amp:"&",AMP:"&",Aring:"Å",aring:"å",Atilde:"Ã",atilde:"ã",Auml:"Ä",auml:"ä",brvbar:"¦",Ccedil:"Ç",ccedil:"ç",cedil:"¸",cent:"¢",copy:"©",COPY:"©",curren:"¤",deg:"°",divide:"÷",Eacute:"É",eacute:"é",Ecirc:"Ê",ecirc:"ê",Egrave:"È",egrave:"è",ETH:"Ð",eth:"ð",Euml:"Ë",euml:"ë",frac12:"½",frac14:"¼",frac34:"¾",gt:">",GT:">",Iacute:"Í",iacute:"í",Icirc:"Î",icirc:"î",iexcl:"¡",Igrave:"Ì",igrave:"ì",iquest:"¿",Iuml:"Ï",iuml:"ï",laquo:"«",lt:"<",LT:"<",macr:"¯",micro:"µ",middot:"·",nbsp:" ",not:"¬",Ntilde:"Ñ",ntilde:"ñ",Oacute:"Ó",oacute:"ó",Ocirc:"Ô",ocirc:"ô",Ograve:"Ò",ograve:"ò",ordf:"ª",ordm:"º",Oslash:"Ø",oslash:"ø",Otilde:"Õ",otilde:"õ",Ouml:"Ö",ouml:"ö",para:"¶",plusmn:"±",pound:"£",quot:'"',QUOT:'"',raquo:"»",reg:"®",REG:"®",sect:"§",shy:"­",sup1:"¹",sup2:"²",sup3:"³",szlig:"ß",THORN:"Þ",thorn:"þ",times:"×",Uacute:"Ú",uacute:"ú",Ucirc:"Û",ucirc:"û",Ugrave:"Ù",ugrave:"ù",uml:"¨",Uuml:"Ü",uuml:"ü",Yacute:"Ý",yacute:"ý",yen:"¥",yuml:"ÿ"},y={0:"�",128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},x=[1,2,3,4,5,6,7,8,11,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,64976,64977,64978,64979,64980,64981,64982,64983,64984,64985,64986,64987,64988,64989,64990,64991,64992,64993,64994,64995,64996,64997,64998,64999,65e3,65001,65002,65003,65004,65005,65006,65007,65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111],b=String.fromCharCode,D={}.hasOwnProperty,S=function(t,e){return D.call(t,e)},w=function(t,e){for(var r=-1,s=t.length;++r<s;)if(t[r]==e)return!0;return!1},k=function(t){throw Error("Parse error: "+t)};e.options={isAttributeValue:!(o.options={allowUnsafeSymbols:!1,encodeEverything:!1,strict:!1,useNamedReferences:!1}),strict:!1};rg2.he={version:"0.5.0",encode:o,decode:e,escape:function(t){return t.replace(g,function(t){return r[t]})},unescape:e}}();
//# sourceMappingURL=rg2-1.10.3.min.js.map